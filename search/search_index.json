{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Utility for Research (URes)","text":""},{"location":"#overview","title":"Overview","text":"<p>Welcome to the URes project documentation!</p> <p>URes offers several key features:</p> <ul> <li>Docker Image &amp; Container Management</li> <li>Configuration Management</li> <li>File Operation Utilities</li> <li>Networking Tools</li> <li>Time &amp; Date Conversion</li> <li>String Manipulation</li> <li>Data Structures</li> <li>Markdown &amp; Zettelkasten Tools</li> <li>Decorators &amp; Enum Utilities</li> </ul>"},{"location":"#installation","title":"\ud83d\ude80Installation","text":"<ol> <li>Clone the Repository</li> </ol> <p><code>bash    git clone https://github.com/yourusername/ures.git    cd ures    poetry install</code></p>"},{"location":"api/","title":"API Reference","text":""},{"location":"api/#modules","title":"Modules","text":"<ul> <li><code>string</code>: String manipulation functions.</li> <li><code>timedate</code>: Time and date manipulation functions.</li> <li><code>network</code>: Network related functions.</li> <li><code>file</code>: File manipulation functions.</li> <li><code>markdown</code>: Markdown manipulation functions.</li> <li><code>bi-direction link</code>: Bi-directional link data structure.</li> <li><code>tree</code>: Tree data structure.</li> <li><code>docker wrapper</code>: Docker wrapper modules</li> </ul>"},{"location":"apis/docker/","title":"Docker Wrapper","text":""},{"location":"apis/docker/#ures.docker.container.Container","title":"<code>Container</code>","text":"<p>A class to manage a Docker container.</p> <p>This class provides methods to create a container with specified runtime configurations, manage network connections, and control the container's lifecycle (start, stop, remove, logs, wait).</p> <p>Attributes:</p> Name Type Description <code>_image</code> <code>Image</code> <p>The Docker image object to be used.</p> <code>_client</code> <code>DockerClient</code> <p>The Docker client instance.</p> <code>_container</code> <code>Optional[Container]</code> <p>The underlying Docker container object.</p> Source code in <code>ures/docker/container.py</code> <pre><code>class Container:\n    \"\"\"\n    A class to manage a Docker container.\n\n    This class provides methods to create a container with specified runtime configurations,\n    manage network connections, and control the container's lifecycle (start, stop, remove,\n    logs, wait).\n\n    Attributes:\n        _image (Image): The Docker image object to be used.\n        _client (docker.DockerClient): The Docker client instance.\n        _container (Optional[DockerContainer]): The underlying Docker container object.\n    \"\"\"\n\n    def __init__(self, image: Image, client: Optional[docker.DockerClient] = None):\n        \"\"\"\n        Initialize a Container instance.\n\n        Args:\n            image (Image): The Image object that provides the Docker image details.\n            client (Optional[docker.DockerClient]): An optional Docker client instance. If not provided,\n                docker.from_env() is used.\n\n        Example:\n            &gt;&gt;&gt; from ures.docker.image import Image\n            &gt;&gt;&gt; img = Image(\"myapp\")\n            &gt;&gt;&gt; container = Container(img)\n        \"\"\"\n        self._image: Image = image\n        self._client: docker.DockerClient = client or docker.from_env()\n        self._container: Optional[DockerContainer] = None\n\n    @property\n    def image_name(self) -&gt; str:\n        \"\"\"\n        Retrieve the full image name (including tag).\n\n        Returns:\n            str: The full image name.\n\n        Example:\n            &gt;&gt;&gt; container.image_name\n            'myapp:latest'\n        \"\"\"\n        return self._image.get_fullname()\n\n    @property\n    def is_created(self) -&gt; bool:\n        \"\"\"\n        Check whether the container has been created.\n\n        Returns:\n            bool: True if the container exists, False otherwise.\n\n        Example:\n            &gt;&gt;&gt; container.is_created\n            False\n        \"\"\"\n        return self._container is not None\n\n    @property\n    def status(self) -&gt; str:\n        \"\"\"\n        Get the current status of the container.\n\n        Returns:\n            str: The container status. If not found, returns \"removed\".\n\n        Example:\n            &gt;&gt;&gt; status = container.status\n            &gt;&gt;&gt; status in [\"created\", \"running\", \"exited\", \"removed\"]\n            True\n        \"\"\"\n        try:\n            status = self._client.containers.get(self._container.id).status\n        except docker.errors.NotFound:\n            status = \"removed\"\n        return status\n\n    @property\n    def exit_code(self):\n        \"\"\"\n        Retrieve the exit code of the container's last run.\n\n        Returns:\n            int or None: The exit code if available, otherwise None.\n\n        Example:\n            &gt;&gt;&gt; code = container.exit_code\n            &gt;&gt;&gt; isinstance(code, int) or code is None\n            True\n        \"\"\"\n        try:\n            exit_code = self._client.containers.get(self._container.id).attrs[\"State\"][\n                \"ExitCode\"\n            ]\n        except docker.errors.NotFound:\n            exit_code = None\n        return exit_code\n\n    @property\n    def is_running(self) -&gt; bool:\n        \"\"\"\n        Check if the container is currently running.\n\n        Returns:\n            bool: True if running, False otherwise.\n\n        Example:\n            &gt;&gt;&gt; container.is_running\n            True\n        \"\"\"\n        return self.status == \"running\"\n\n    def _construct_build_params(self, config: RuntimeConfig) -&gt; dict:\n        \"\"\"\n        Construct runtime parameters for creating the container from the given configuration.\n\n        Args:\n            config (RuntimeConfig): The runtime configuration for the container.\n\n        Returns:\n            dict: A dictionary of parameters to be passed to Docker for container creation.\n\n        Example:\n            &gt;&gt;&gt; params = container._construct_build_params(config)\n            &gt;&gt;&gt; isinstance(params, dict)\n            True\n        \"\"\"\n        _config: RuntimeConfig = config\n        _params = {\n            \"image\": _config.image_name,\n            \"auto_remove\": _config.remove,\n            \"detach\": _config.detach,\n        }\n        logger.debug(f\"Creating container with configuration: {json.dumps(_params)}\")\n        if _config.cpus is not None:\n            logger.debug(f\"Setting cpuset_cpus to {_config.cpus}\")\n            _params[\"cpuset_cpus\"] = _config.cpus\n        if _config.gpus is not None:\n            logger.debug(f\"Setting device_requests to {_config.gpus}\")\n            _params[\"device_requests\"] = [\n                docker.types.DeviceRequest(\n                    driver=_config.gpu_driver,\n                    device_ids=_config.gpus,\n                    capabilities=[[\"gpu\"]],\n                )\n            ]\n        if _config.memory is not None:\n            logger.debug(f\"Setting mem_limit to {_config.memory}\")\n            _params[\"mem_limit\"] = _config.memory\n        if _config.entrypoint is not None:\n            logger.debug(f\"Setting entrypoint to {_config.entrypoint}\")\n            _params[\"entrypoint\"] = [str(entry) for entry in _config.entrypoint]\n        if _config.command is not None:\n            logger.debug(f\"Setting command to {_config.command}\")\n            _params[\"command\"] = [str(cmd) for cmd in _config.command]\n        if _config.volumes is not None:\n            logger.debug(f\"Setting volumes to {_config.volumes}\")\n            _params[\"volumes\"] = _config.volumes\n        if _config.env is not None:\n            logger.debug(f\"Setting environment to {_config.env}\")\n            _params[\"environment\"] = _config.env\n        if _config.name is not None:\n            logger.debug(f\"Setting name to {_config.name}\")\n            _params[\"name\"] = _config.name\n        if _config.user is not None:\n            logger.debug(f\"Setting user to {_config.user}\")\n            _params[\"user\"] = _config.user\n        return _params\n\n    def _create_subnet(self, config: RuntimeConfig) -&gt; docker.models.networks.Network:\n        \"\"\"\n        Create a new Docker network (subnet) based on the provided configuration.\n\n        Args:\n            config (RuntimeConfig): The runtime configuration containing subnet parameters.\n\n        Returns:\n            docker.models.networks.Network: The created Docker network.\n\n        Raises:\n            RuntimeError: If the subnet creation fails.\n\n        Example:\n            &gt;&gt;&gt; net = container._create_subnet(config)\n            &gt;&gt;&gt; net.name == config.subnet\n            True\n        \"\"\"\n        submask_list = config.subnet_mask.split(\"/\")\n        assert is_valid_ip_netmask(ip=submask_list[0], netmask=submask_list[1])\n        assert verify_ip_in_subnet(ip=config.subnet_gateway, subnet=config.subnet_mask)\n        try:\n            logger.debug(\n                f\"Creating IPAM for docker network with mask {config.subnet_mask} and gateway {config.subnet_gateway}\"\n            )\n            logger.debug(\n                f\"Create network with name {config.subnet}, driver {config.network_mode}\"\n            )\n            ipam_pool = docker.types.IPAMPool(\n                subnet=config.subnet_mask, gateway=config.subnet_gateway\n            )\n            ipam_config = docker.types.IPAMConfig(pool_configs=[ipam_pool])\n            network = self._client.networks.create(\n                **{\n                    \"name\": config.subnet,\n                    \"driver\": config.network_mode,\n                    \"ipam\": ipam_config,\n                }\n            )\n        except docker.errors.APIError as e:\n            raise RuntimeError(f\"Failed to create subnet {config.subnet}\") from e\n        else:\n            return network\n\n    def _connect_to_network(self, contain: DockerContainer, config: RuntimeConfig):\n        \"\"\"\n        Connect the container to a Docker network based on the provided configuration.\n\n        Args:\n            contain (DockerContainer): The Docker container object to connect.\n            config (RuntimeConfig): The runtime configuration with network details.\n\n        Returns:\n            None\n\n        Example:\n            &gt;&gt;&gt; container._connect_to_network(docker_container, config)\n        \"\"\"\n        if config.subnet is not None:\n            try:\n                logger.info(f\"Connecting container to network: {config.subnet}\")\n                net = self._client.networks.get(config.subnet)\n            except docker.errors.NotFound as e:\n                logger.warning(f\"Could not find network: {config.subnet} with msg {e}\")\n                net = self._create_subnet(config=config)\n            finally:\n                verify_ip_in_subnet(\n                    ip=config.ipv4, subnet=net.attrs[\"IPAM\"][\"Config\"][0][\"Subnet\"]\n                )\n                logger.debug(f\"Connecting container to network with IP {config.ipv4}\")\n                net.connect(contain, ipv4_address=config.ipv4)\n\n    def create(self, config: RuntimeConfig, tag: Optional[str] = None):\n        \"\"\"\n        Create a Docker container using the provided runtime configuration.\n\n        Args:\n            config (RuntimeConfig): The runtime configuration for the container.\n            tag (Optional[str]): An optional image tag override. Defaults to None.\n\n        Returns:\n            None\n\n        Example:\n            &gt;&gt;&gt; container.create(runtime_config)\n            &gt;&gt;&gt; container.is_created\n            True\n        \"\"\"\n        if config.image_name != self.image_name or tag != self._image.tag:\n            config.image_name = self._image.get_fullname(tag=tag)\n            logger.warning(f\"The image name is updated to {config.image_name}\")\n        run_params = self._construct_build_params(config)\n        logger.debug(\n            f\"Create {self.image_name} with running Configuration: {json.dumps(run_params)}\"\n        )\n        _container = self._client.containers.create(**run_params)\n        self._connect_to_network(_container, config)\n        self._container = _container\n\n    @check_instance_variable(\"_container\")\n    def stop(self):\n        \"\"\"\n        Stop the running container.\n\n        Returns:\n            None\n\n        Example:\n            &gt;&gt;&gt; container.stop()\n        \"\"\"\n        logger.debug(f\"Stopping container: {self.image_name}\")\n        self._container.stop()\n\n    @check_instance_variable(\"_container\")\n    def remove(self):\n        \"\"\"\n        Remove the container.\n\n        Returns:\n            None\n\n        Example:\n            &gt;&gt;&gt; container.remove()\n        \"\"\"\n        logger.debug(f\"Removing container: {self.image_name}\")\n        self._container.remove()\n        self._container = None\n\n    @check_instance_variable(\"_container\")\n    def logs(self):\n        \"\"\"\n        Retrieve logs from the container.\n\n        Returns:\n            bytes: The log output from the container.\n\n        Example:\n            &gt;&gt;&gt; logs = container.logs()\n            &gt;&gt;&gt; isinstance(logs, bytes)\n            True\n        \"\"\"\n        logger.debug(f\"Retrieving logs from container: {self.image_name}\")\n        return self._container.logs()\n\n    @check_instance_variable(\"_container\")\n    def wait(self):\n        \"\"\"\n        Wait for the container to finish execution.\n\n        Returns:\n            dict: The container's exit information.\n\n        Example:\n            &gt;&gt;&gt; exit_info = container.wait()\n            &gt;&gt;&gt; \"StatusCode\" in exit_info\n            True\n        \"\"\"\n        logger.debug(f\"Waiting for container to finish: {self.image_name}\")\n        self._container.wait()\n\n    def run(self):\n        \"\"\"\n        Start the container if it has been created and is not already running.\n\n        Raises:\n            RuntimeError: If the container has not been created or is already running.\n\n        Returns:\n            None\n\n        Example:\n            &gt;&gt;&gt; container.run()\n            &gt;&gt;&gt; container.is_running\n            True\n        \"\"\"\n        if self.is_created is True and self.is_running is False:\n            self._container.start()\n            logger.debug(f\"Container started: {self.image_name}\")\n        else:\n            if self.is_created is False:\n                raise RuntimeError(f\"Container has not been created: {self.image_name}\")\n            if self.is_running is True:\n                raise RuntimeError(f\"Container already running: {self.image_name}\")\n</code></pre>"},{"location":"apis/docker/#ures.docker.container.Container.exit_code","title":"<code>exit_code</code>  <code>property</code>","text":"<p>Retrieve the exit code of the container's last run.</p> <p>Returns:</p> Type Description <p>int or None: The exit code if available, otherwise None.</p> Example <p>code = container.exit_code isinstance(code, int) or code is None True</p>"},{"location":"apis/docker/#ures.docker.container.Container.image_name","title":"<code>image_name</code>  <code>property</code>","text":"<p>Retrieve the full image name (including tag).</p> <p>Returns:</p> Name Type Description <code>str</code> <code>str</code> <p>The full image name.</p> Example <p>container.image_name 'myapp:latest'</p>"},{"location":"apis/docker/#ures.docker.container.Container.is_created","title":"<code>is_created</code>  <code>property</code>","text":"<p>Check whether the container has been created.</p> <p>Returns:</p> Name Type Description <code>bool</code> <code>bool</code> <p>True if the container exists, False otherwise.</p> Example <p>container.is_created False</p>"},{"location":"apis/docker/#ures.docker.container.Container.is_running","title":"<code>is_running</code>  <code>property</code>","text":"<p>Check if the container is currently running.</p> <p>Returns:</p> Name Type Description <code>bool</code> <code>bool</code> <p>True if running, False otherwise.</p> Example <p>container.is_running True</p>"},{"location":"apis/docker/#ures.docker.container.Container.status","title":"<code>status</code>  <code>property</code>","text":"<p>Get the current status of the container.</p> <p>Returns:</p> Name Type Description <code>str</code> <code>str</code> <p>The container status. If not found, returns \"removed\".</p> Example <p>status = container.status status in [\"created\", \"running\", \"exited\", \"removed\"] True</p>"},{"location":"apis/docker/#ures.docker.container.Container.__init__","title":"<code>__init__(image, client=None)</code>","text":"<p>Initialize a Container instance.</p> <p>Parameters:</p> Name Type Description Default <code>image</code> <code>Image</code> <p>The Image object that provides the Docker image details.</p> required <code>client</code> <code>Optional[DockerClient]</code> <p>An optional Docker client instance. If not provided, docker.from_env() is used.</p> <code>None</code> Example <p>from ures.docker.image import Image img = Image(\"myapp\") container = Container(img)</p> Source code in <code>ures/docker/container.py</code> <pre><code>def __init__(self, image: Image, client: Optional[docker.DockerClient] = None):\n    \"\"\"\n    Initialize a Container instance.\n\n    Args:\n        image (Image): The Image object that provides the Docker image details.\n        client (Optional[docker.DockerClient]): An optional Docker client instance. If not provided,\n            docker.from_env() is used.\n\n    Example:\n        &gt;&gt;&gt; from ures.docker.image import Image\n        &gt;&gt;&gt; img = Image(\"myapp\")\n        &gt;&gt;&gt; container = Container(img)\n    \"\"\"\n    self._image: Image = image\n    self._client: docker.DockerClient = client or docker.from_env()\n    self._container: Optional[DockerContainer] = None\n</code></pre>"},{"location":"apis/docker/#ures.docker.container.Container._connect_to_network","title":"<code>_connect_to_network(contain, config)</code>","text":"<p>Connect the container to a Docker network based on the provided configuration.</p> <p>Parameters:</p> Name Type Description Default <code>contain</code> <code>Container</code> <p>The Docker container object to connect.</p> required <code>config</code> <code>RuntimeConfig</code> <p>The runtime configuration with network details.</p> required <p>Returns:</p> Type Description <p>None</p> Example <p>container._connect_to_network(docker_container, config)</p> Source code in <code>ures/docker/container.py</code> <pre><code>def _connect_to_network(self, contain: DockerContainer, config: RuntimeConfig):\n    \"\"\"\n    Connect the container to a Docker network based on the provided configuration.\n\n    Args:\n        contain (DockerContainer): The Docker container object to connect.\n        config (RuntimeConfig): The runtime configuration with network details.\n\n    Returns:\n        None\n\n    Example:\n        &gt;&gt;&gt; container._connect_to_network(docker_container, config)\n    \"\"\"\n    if config.subnet is not None:\n        try:\n            logger.info(f\"Connecting container to network: {config.subnet}\")\n            net = self._client.networks.get(config.subnet)\n        except docker.errors.NotFound as e:\n            logger.warning(f\"Could not find network: {config.subnet} with msg {e}\")\n            net = self._create_subnet(config=config)\n        finally:\n            verify_ip_in_subnet(\n                ip=config.ipv4, subnet=net.attrs[\"IPAM\"][\"Config\"][0][\"Subnet\"]\n            )\n            logger.debug(f\"Connecting container to network with IP {config.ipv4}\")\n            net.connect(contain, ipv4_address=config.ipv4)\n</code></pre>"},{"location":"apis/docker/#ures.docker.container.Container._construct_build_params","title":"<code>_construct_build_params(config)</code>","text":"<p>Construct runtime parameters for creating the container from the given configuration.</p> <p>Parameters:</p> Name Type Description Default <code>config</code> <code>RuntimeConfig</code> <p>The runtime configuration for the container.</p> required <p>Returns:</p> Name Type Description <code>dict</code> <code>dict</code> <p>A dictionary of parameters to be passed to Docker for container creation.</p> Example <p>params = container._construct_build_params(config) isinstance(params, dict) True</p> Source code in <code>ures/docker/container.py</code> <pre><code>def _construct_build_params(self, config: RuntimeConfig) -&gt; dict:\n    \"\"\"\n    Construct runtime parameters for creating the container from the given configuration.\n\n    Args:\n        config (RuntimeConfig): The runtime configuration for the container.\n\n    Returns:\n        dict: A dictionary of parameters to be passed to Docker for container creation.\n\n    Example:\n        &gt;&gt;&gt; params = container._construct_build_params(config)\n        &gt;&gt;&gt; isinstance(params, dict)\n        True\n    \"\"\"\n    _config: RuntimeConfig = config\n    _params = {\n        \"image\": _config.image_name,\n        \"auto_remove\": _config.remove,\n        \"detach\": _config.detach,\n    }\n    logger.debug(f\"Creating container with configuration: {json.dumps(_params)}\")\n    if _config.cpus is not None:\n        logger.debug(f\"Setting cpuset_cpus to {_config.cpus}\")\n        _params[\"cpuset_cpus\"] = _config.cpus\n    if _config.gpus is not None:\n        logger.debug(f\"Setting device_requests to {_config.gpus}\")\n        _params[\"device_requests\"] = [\n            docker.types.DeviceRequest(\n                driver=_config.gpu_driver,\n                device_ids=_config.gpus,\n                capabilities=[[\"gpu\"]],\n            )\n        ]\n    if _config.memory is not None:\n        logger.debug(f\"Setting mem_limit to {_config.memory}\")\n        _params[\"mem_limit\"] = _config.memory\n    if _config.entrypoint is not None:\n        logger.debug(f\"Setting entrypoint to {_config.entrypoint}\")\n        _params[\"entrypoint\"] = [str(entry) for entry in _config.entrypoint]\n    if _config.command is not None:\n        logger.debug(f\"Setting command to {_config.command}\")\n        _params[\"command\"] = [str(cmd) for cmd in _config.command]\n    if _config.volumes is not None:\n        logger.debug(f\"Setting volumes to {_config.volumes}\")\n        _params[\"volumes\"] = _config.volumes\n    if _config.env is not None:\n        logger.debug(f\"Setting environment to {_config.env}\")\n        _params[\"environment\"] = _config.env\n    if _config.name is not None:\n        logger.debug(f\"Setting name to {_config.name}\")\n        _params[\"name\"] = _config.name\n    if _config.user is not None:\n        logger.debug(f\"Setting user to {_config.user}\")\n        _params[\"user\"] = _config.user\n    return _params\n</code></pre>"},{"location":"apis/docker/#ures.docker.container.Container._create_subnet","title":"<code>_create_subnet(config)</code>","text":"<p>Create a new Docker network (subnet) based on the provided configuration.</p> <p>Parameters:</p> Name Type Description Default <code>config</code> <code>RuntimeConfig</code> <p>The runtime configuration containing subnet parameters.</p> required <p>Returns:</p> Type Description <code>Network</code> <p>docker.models.networks.Network: The created Docker network.</p> <p>Raises:</p> Type Description <code>RuntimeError</code> <p>If the subnet creation fails.</p> Example <p>net = container._create_subnet(config) net.name == config.subnet True</p> Source code in <code>ures/docker/container.py</code> <pre><code>def _create_subnet(self, config: RuntimeConfig) -&gt; docker.models.networks.Network:\n    \"\"\"\n    Create a new Docker network (subnet) based on the provided configuration.\n\n    Args:\n        config (RuntimeConfig): The runtime configuration containing subnet parameters.\n\n    Returns:\n        docker.models.networks.Network: The created Docker network.\n\n    Raises:\n        RuntimeError: If the subnet creation fails.\n\n    Example:\n        &gt;&gt;&gt; net = container._create_subnet(config)\n        &gt;&gt;&gt; net.name == config.subnet\n        True\n    \"\"\"\n    submask_list = config.subnet_mask.split(\"/\")\n    assert is_valid_ip_netmask(ip=submask_list[0], netmask=submask_list[1])\n    assert verify_ip_in_subnet(ip=config.subnet_gateway, subnet=config.subnet_mask)\n    try:\n        logger.debug(\n            f\"Creating IPAM for docker network with mask {config.subnet_mask} and gateway {config.subnet_gateway}\"\n        )\n        logger.debug(\n            f\"Create network with name {config.subnet}, driver {config.network_mode}\"\n        )\n        ipam_pool = docker.types.IPAMPool(\n            subnet=config.subnet_mask, gateway=config.subnet_gateway\n        )\n        ipam_config = docker.types.IPAMConfig(pool_configs=[ipam_pool])\n        network = self._client.networks.create(\n            **{\n                \"name\": config.subnet,\n                \"driver\": config.network_mode,\n                \"ipam\": ipam_config,\n            }\n        )\n    except docker.errors.APIError as e:\n        raise RuntimeError(f\"Failed to create subnet {config.subnet}\") from e\n    else:\n        return network\n</code></pre>"},{"location":"apis/docker/#ures.docker.container.Container.create","title":"<code>create(config, tag=None)</code>","text":"<p>Create a Docker container using the provided runtime configuration.</p> <p>Parameters:</p> Name Type Description Default <code>config</code> <code>RuntimeConfig</code> <p>The runtime configuration for the container.</p> required <code>tag</code> <code>Optional[str]</code> <p>An optional image tag override. Defaults to None.</p> <code>None</code> <p>Returns:</p> Type Description <p>None</p> Example <p>container.create(runtime_config) container.is_created True</p> Source code in <code>ures/docker/container.py</code> <pre><code>def create(self, config: RuntimeConfig, tag: Optional[str] = None):\n    \"\"\"\n    Create a Docker container using the provided runtime configuration.\n\n    Args:\n        config (RuntimeConfig): The runtime configuration for the container.\n        tag (Optional[str]): An optional image tag override. Defaults to None.\n\n    Returns:\n        None\n\n    Example:\n        &gt;&gt;&gt; container.create(runtime_config)\n        &gt;&gt;&gt; container.is_created\n        True\n    \"\"\"\n    if config.image_name != self.image_name or tag != self._image.tag:\n        config.image_name = self._image.get_fullname(tag=tag)\n        logger.warning(f\"The image name is updated to {config.image_name}\")\n    run_params = self._construct_build_params(config)\n    logger.debug(\n        f\"Create {self.image_name} with running Configuration: {json.dumps(run_params)}\"\n    )\n    _container = self._client.containers.create(**run_params)\n    self._connect_to_network(_container, config)\n    self._container = _container\n</code></pre>"},{"location":"apis/docker/#ures.docker.container.Container.logs","title":"<code>logs()</code>","text":"<p>Retrieve logs from the container.</p> <p>Returns:</p> Name Type Description <code>bytes</code> <p>The log output from the container.</p> Example <p>logs = container.logs() isinstance(logs, bytes) True</p> Source code in <code>ures/docker/container.py</code> <pre><code>@check_instance_variable(\"_container\")\ndef logs(self):\n    \"\"\"\n    Retrieve logs from the container.\n\n    Returns:\n        bytes: The log output from the container.\n\n    Example:\n        &gt;&gt;&gt; logs = container.logs()\n        &gt;&gt;&gt; isinstance(logs, bytes)\n        True\n    \"\"\"\n    logger.debug(f\"Retrieving logs from container: {self.image_name}\")\n    return self._container.logs()\n</code></pre>"},{"location":"apis/docker/#ures.docker.container.Container.remove","title":"<code>remove()</code>","text":"<p>Remove the container.</p> <p>Returns:</p> Type Description <p>None</p> Example <p>container.remove()</p> Source code in <code>ures/docker/container.py</code> <pre><code>@check_instance_variable(\"_container\")\ndef remove(self):\n    \"\"\"\n    Remove the container.\n\n    Returns:\n        None\n\n    Example:\n        &gt;&gt;&gt; container.remove()\n    \"\"\"\n    logger.debug(f\"Removing container: {self.image_name}\")\n    self._container.remove()\n    self._container = None\n</code></pre>"},{"location":"apis/docker/#ures.docker.container.Container.run","title":"<code>run()</code>","text":"<p>Start the container if it has been created and is not already running.</p> <p>Raises:</p> Type Description <code>RuntimeError</code> <p>If the container has not been created or is already running.</p> <p>Returns:</p> Type Description <p>None</p> Example <p>container.run() container.is_running True</p> Source code in <code>ures/docker/container.py</code> <pre><code>def run(self):\n    \"\"\"\n    Start the container if it has been created and is not already running.\n\n    Raises:\n        RuntimeError: If the container has not been created or is already running.\n\n    Returns:\n        None\n\n    Example:\n        &gt;&gt;&gt; container.run()\n        &gt;&gt;&gt; container.is_running\n        True\n    \"\"\"\n    if self.is_created is True and self.is_running is False:\n        self._container.start()\n        logger.debug(f\"Container started: {self.image_name}\")\n    else:\n        if self.is_created is False:\n            raise RuntimeError(f\"Container has not been created: {self.image_name}\")\n        if self.is_running is True:\n            raise RuntimeError(f\"Container already running: {self.image_name}\")\n</code></pre>"},{"location":"apis/docker/#ures.docker.container.Container.stop","title":"<code>stop()</code>","text":"<p>Stop the running container.</p> <p>Returns:</p> Type Description <p>None</p> Example <p>container.stop()</p> Source code in <code>ures/docker/container.py</code> <pre><code>@check_instance_variable(\"_container\")\ndef stop(self):\n    \"\"\"\n    Stop the running container.\n\n    Returns:\n        None\n\n    Example:\n        &gt;&gt;&gt; container.stop()\n    \"\"\"\n    logger.debug(f\"Stopping container: {self.image_name}\")\n    self._container.stop()\n</code></pre>"},{"location":"apis/docker/#ures.docker.container.Container.wait","title":"<code>wait()</code>","text":"<p>Wait for the container to finish execution.</p> <p>Returns:</p> Name Type Description <code>dict</code> <p>The container's exit information.</p> Example <p>exit_info = container.wait() \"StatusCode\" in exit_info True</p> Source code in <code>ures/docker/container.py</code> <pre><code>@check_instance_variable(\"_container\")\ndef wait(self):\n    \"\"\"\n    Wait for the container to finish execution.\n\n    Returns:\n        dict: The container's exit information.\n\n    Example:\n        &gt;&gt;&gt; exit_info = container.wait()\n        &gt;&gt;&gt; \"StatusCode\" in exit_info\n        True\n    \"\"\"\n    logger.debug(f\"Waiting for container to finish: {self.image_name}\")\n    self._container.wait()\n</code></pre>"},{"location":"apis/docker/#ures.docker.image.Image","title":"<code>Image</code>","text":"<p>Represents and manages a Docker image.</p> <p>Attributes:</p> Name Type Description <code>_image_name</code> <code>str</code> <p>The name of the Docker image.</p> <code>_tag</code> <code>str</code> <p>The tag of the Docker image (default is \"latest\").</p> <code>_client</code> <code>DockerClient</code> <p>The Docker client instance.</p> <code>_image</code> <code>Optional[Image]</code> <p>The Docker image object if available.</p> Source code in <code>ures/docker/image.py</code> <pre><code>class Image:\n    \"\"\"\n    Represents and manages a Docker image.\n\n    Attributes:\n        _image_name (str): The name of the Docker image.\n        _tag (str): The tag of the Docker image (default is \"latest\").\n        _client (docker.DockerClient): The Docker client instance.\n        _image (Optional[DockerImage]): The Docker image object if available.\n    \"\"\"\n\n    def __init__(\n        self,\n        image_name: str,\n        tag: Optional[str] = None,\n        client: docker.DockerClient = None,\n    ):\n        \"\"\"\n        Initializes an Image instance.\n\n        Args:\n            image_name (str): The name of the Docker image.\n            tag (Optional[str], optional): The image tag. Defaults to \"latest\" if not provided.\n            client (Optional[docker.DockerClient], optional): The Docker client to use. Defaults to docker.from_env().\n\n        Example:\n            &gt;&gt;&gt; img = Image(\"myapp\", tag=\"v1\")\n        \"\"\"\n        self._image_name = image_name\n        self._tag = tag or \"latest\"\n        self._client = client or docker.from_env()\n        self._image: Optional[DockerImage] = None\n\n    @property\n    def name(self) -&gt; str:\n        \"\"\"\n        Gets the name of the image.\n\n        Returns:\n            str: The image name.\n\n        Example:\n            &gt;&gt;&gt; img = Image(\"myapp\")\n            &gt;&gt;&gt; img.name\n            'myapp'\n        \"\"\"\n        return self._image_name\n\n    @property\n    def tag(self) -&gt; str:\n        \"\"\"\n        Gets the tag of the image.\n\n        Returns:\n            str: The image tag.\n\n        Example:\n            &gt;&gt;&gt; img = Image(\"myapp\", tag=\"v1\")\n            &gt;&gt;&gt; img.tag\n            'v1'\n        \"\"\"\n        return self._tag\n\n    @property\n    def exist(self) -&gt; bool:\n        \"\"\"\n        Checks if the image exists locally.\n\n        Returns:\n            bool: True if the image exists, False otherwise.\n\n        Example:\n            &gt;&gt;&gt; img = Image(\"myapp\")\n            &gt;&gt;&gt; img.exist  # Depends on local Docker images\n        \"\"\"\n        return self.get_image() is not None\n\n    @property\n    def image(self) -&gt; Optional[DockerImage]:\n        \"\"\"\n        Gets the Docker image object.\n\n        Returns:\n            Optional[DockerImage]: The Docker image object if found, otherwise None.\n\n        Example:\n            &gt;&gt;&gt; img = Image(\"myapp\")\n            &gt;&gt;&gt; img.image  # Might return a DockerImage object if available\n        \"\"\"\n        return self._image\n\n    @property\n    @check_instance_variable(\"image\")\n    def id(self) -&gt; str:\n        \"\"\"\n        Gets the unique ID of the Docker image.\n\n        Returns:\n            str: The Docker image ID.\n\n        Example:\n            &gt;&gt;&gt; img = Image(\"myapp\")\n            &gt;&gt;&gt; img.id\n            'sha256:...'\n        \"\"\"\n        return self.image.id\n\n    @property\n    @check_instance_variable(\"image\")\n    def architecture(self) -&gt; str:\n        \"\"\"\n        Gets the architecture of the Docker image.\n\n        Returns:\n            str: The image architecture (e.g., 'amd64').\n\n        Example:\n            &gt;&gt;&gt; img = Image(\"myapp\")\n            &gt;&gt;&gt; img.architecture\n            'amd64'\n        \"\"\"\n        return self.image.attrs[\"Architecture\"]\n\n    @property\n    @check_instance_variable(\"image\")\n    def image_size(self) -&gt; int:\n        \"\"\"\n        Gets the size of the Docker image in bytes.\n\n        Returns:\n            int: The size of the image in bytes.\n\n        Example:\n            &gt;&gt;&gt; img = Image(\"myapp\")\n            &gt;&gt;&gt; img.image_size\n            12345678\n        \"\"\"\n        return int(self.image.attrs[\"Size\"])\n\n    @property\n    @check_instance_variable(\"image\")\n    def labels(self) -&gt; dict:\n        \"\"\"\n        Gets the labels of the Docker image.\n\n        Returns:\n            dict: A dictionary of image labels.\n\n        Example:\n            &gt;&gt;&gt; img = Image(\"myapp\")\n            &gt;&gt;&gt; img.labels\n            {'version': '1.0'}\n        \"\"\"\n        return self.image.labels\n\n    def get_fullname(self, tag: Optional[str] = None) -&gt; str:\n        \"\"\"\n        Constructs the full image name including the tag.\n\n        Args:\n            tag (Optional[str], optional): The tag to use; if not provided, the instance's tag is used.\n\n        Returns:\n            str: The full image name in the format \"name:tag\".\n\n        Example:\n            &gt;&gt;&gt; img = Image(\"myapp\", tag=\"v1\")\n            &gt;&gt;&gt; img.get_fullname()\n            'myapp:v1'\n        \"\"\"\n        if tag is None:\n            tag = self._tag\n        return f\"{self._image_name}:{tag}\"\n\n    def get_image(self, tag: Optional[str] = None) -&gt; Optional[DockerImage]:\n        \"\"\"\n        Retrieves the Docker image from the local repository.\n\n        Args:\n            tag (Optional[str], optional): The tag to use when retrieving the image. Defaults to the instance's tag.\n\n        Returns:\n            Optional[DockerImage]: The Docker image if found; otherwise, None.\n\n        Example:\n            &gt;&gt;&gt; img = Image(\"myapp\")\n            &gt;&gt;&gt; image_obj = img.get_image()\n            &gt;&gt;&gt; image_obj is not None  # Depends on local Docker images\n        \"\"\"\n        image_name = self.get_fullname(tag=tag)\n        logger.info(f\"Getting image {image_name}\")\n        try:\n            image = self._client.images.get(image_name)\n            if tag is None or tag == self._tag:\n                self._image = image\n            return image\n        except docker.errors.ImageNotFound:\n            return None\n        except docker.errors.APIError as e:\n            logger.error(f\"Error accessing Docker API: {e}\")\n            return None\n\n    def pull_image(self, tag: Optional[str] = None) -&gt; Optional[DockerImage]:\n        \"\"\"\n        Pulls the Docker image from a remote repository.\n\n        Args:\n            tag (Optional[str], optional): The tag to pull; defaults to the instance's tag if not provided.\n\n        Returns:\n            Optional[DockerImage]: The pulled Docker image if successful; otherwise, None.\n\n        Example:\n            &gt;&gt;&gt; img = Image(\"myapp\")\n            &gt;&gt;&gt; pulled = img.pull_image()\n            &gt;&gt;&gt; pulled is not None\n        \"\"\"\n        tag = tag or self._tag\n        logger.info(f\"Pulling image {self.get_fullname(tag=tag)}\")\n        try:\n            image = self._client.images.pull(self._image_name, tag=tag)\n        except docker.errors.APIError as e:\n            logger.error(f\"Error pulling image {self.get_fullname(tag=tag)}\")\n        else:\n            self._image = image\n            return image\n\n    def build_image(\n        self,\n        build_config: BuildConfig,\n        dest: Union[str, Path],\n        build_context: Optional[Union[str, Path]] = None,\n    ) -&gt; DockerImage:\n        \"\"\"\n        Builds a Docker image using the specified build configuration.\n\n        Args:\n            build_config (BuildConfig): The configuration for building the image.\n            dest (Union[str, Path]): The destination path where the Dockerfile will be saved.\n            build_context (Optional[Union[str, Path]], optional): The build context directory. Defaults to build_config.context_dir.\n\n        Returns:\n            DockerImage: The built Docker image.\n\n        Example:\n            &gt;&gt;&gt; build_config = BuildConfig()\n            &gt;&gt;&gt; img = Image(\"myapp\")\n            &gt;&gt;&gt; built_img = img.build_image(build_config, \"/tmp/dockerfile_dir\")\n            &gt;&gt;&gt; built_img is not None\n            True\n        \"\"\"\n        build_context = build_context or build_config.context_dir\n        build_context = Path(build_context)\n        dest = Path(dest)\n        if dest.is_dir():\n            dest = dest.joinpath(build_config.docker_filename)\n        builder = ImageConstructor(build_config)\n        docker_path = builder.save(dest)\n        image_name = self.get_fullname()\n        args = {\n            \"path\": str(build_context),\n            \"tag\": image_name,\n            \"dockerfile\": str(docker_path),\n            \"nocache\": True,\n        }\n        logger.info(\n            f\"Building image {image_name} with dockerfile {docker_path} in context {build_context}\"\n        )\n        try:\n            image, build_log = self._client.images.build(**args)\n        except docker.errors.BuildError as e:\n            logger.error(f\"Failed to build image {image_name}\")\n            for log in e.build_log:\n                logger.error(log)\n            raise e\n        else:\n            logger.info(f\"Image {image_name} built successfully!\")\n            self._image = image\n        for line in build_log:\n            logger.debug(line)\n        return image\n\n    def remove(\n        self, tag: Optional[str] = None, force: bool = False, noprune: bool = False\n    ):\n        \"\"\"\n        Removes the Docker image from the local repository.\n\n        Args:\n            tag (Optional[str], optional): The tag to remove. Defaults to the instance's tag.\n            force (bool, optional): Force removal. Defaults to False.\n            noprune (bool, optional): Do not remove untagged parent images. Defaults to False.\n\n        Returns:\n            None\n\n        Example:\n            &gt;&gt;&gt; img = Image(\"myapp\")\n            &gt;&gt;&gt; img.remove()\n        \"\"\"\n        image_name = self.get_fullname(tag=tag)\n        args = {\"image\": image_name, \"force\": force, \"noprune\": noprune}\n        try:\n            logger.info(f\"Removing image {image_name} with {args}\")\n            self._client.images.remove(**args)\n        except docker.errors.APIError as e:\n            logger.error(f\"Failed to remove image {image_name}. Msg: {e}\")\n        finally:\n            if self.exist:\n                logger.error(f\"Removing image {image_name} failed\")\n            else:\n                logger.info(f\"Removing image {image_name} succeeded\")\n\n    def info(self):\n        \"\"\"\n        Prints detailed information about the Docker image.\n\n        Returns:\n            None\n\n        Example:\n            &gt;&gt;&gt; img = Image(\"myapp\")\n            &gt;&gt;&gt; img.info()\n        \"\"\"\n        print(\n            \"\\033[1;33m====================================== Image Info ===============================================\\033[0m\"\n        )\n        print(f\"Name: {self.name}\")\n        print(f\"Image ID: {self.id}\")\n        print(f\"Architecture: {self.architecture}\")\n        print(f\"Image Size: {format_memory(self.image_size)}\")\n        print(f\"Labels: {self.labels}\")\n</code></pre>"},{"location":"apis/docker/#ures.docker.image.Image.architecture","title":"<code>architecture</code>  <code>property</code>","text":"<p>Gets the architecture of the Docker image.</p> <p>Returns:</p> Name Type Description <code>str</code> <code>str</code> <p>The image architecture (e.g., 'amd64').</p> Example <p>img = Image(\"myapp\") img.architecture 'amd64'</p>"},{"location":"apis/docker/#ures.docker.image.Image.exist","title":"<code>exist</code>  <code>property</code>","text":"<p>Checks if the image exists locally.</p> <p>Returns:</p> Name Type Description <code>bool</code> <code>bool</code> <p>True if the image exists, False otherwise.</p> Example <p>img = Image(\"myapp\") img.exist  # Depends on local Docker images</p>"},{"location":"apis/docker/#ures.docker.image.Image.id","title":"<code>id</code>  <code>property</code>","text":"<p>Gets the unique ID of the Docker image.</p> <p>Returns:</p> Name Type Description <code>str</code> <code>str</code> <p>The Docker image ID.</p> Example <p>img = Image(\"myapp\") img.id 'sha256:...'</p>"},{"location":"apis/docker/#ures.docker.image.Image.image","title":"<code>image</code>  <code>property</code>","text":"<p>Gets the Docker image object.</p> <p>Returns:</p> Type Description <code>Optional[Image]</code> <p>Optional[DockerImage]: The Docker image object if found, otherwise None.</p> Example <p>img = Image(\"myapp\") img.image  # Might return a DockerImage object if available</p>"},{"location":"apis/docker/#ures.docker.image.Image.image_size","title":"<code>image_size</code>  <code>property</code>","text":"<p>Gets the size of the Docker image in bytes.</p> <p>Returns:</p> Name Type Description <code>int</code> <code>int</code> <p>The size of the image in bytes.</p> Example <p>img = Image(\"myapp\") img.image_size 12345678</p>"},{"location":"apis/docker/#ures.docker.image.Image.labels","title":"<code>labels</code>  <code>property</code>","text":"<p>Gets the labels of the Docker image.</p> <p>Returns:</p> Name Type Description <code>dict</code> <code>dict</code> <p>A dictionary of image labels.</p> Example <p>img = Image(\"myapp\") img.labels {'version': '1.0'}</p>"},{"location":"apis/docker/#ures.docker.image.Image.name","title":"<code>name</code>  <code>property</code>","text":"<p>Gets the name of the image.</p> <p>Returns:</p> Name Type Description <code>str</code> <code>str</code> <p>The image name.</p> Example <p>img = Image(\"myapp\") img.name 'myapp'</p>"},{"location":"apis/docker/#ures.docker.image.Image.tag","title":"<code>tag</code>  <code>property</code>","text":"<p>Gets the tag of the image.</p> <p>Returns:</p> Name Type Description <code>str</code> <code>str</code> <p>The image tag.</p> Example <p>img = Image(\"myapp\", tag=\"v1\") img.tag 'v1'</p>"},{"location":"apis/docker/#ures.docker.image.Image.__init__","title":"<code>__init__(image_name, tag=None, client=None)</code>","text":"<p>Initializes an Image instance.</p> <p>Parameters:</p> Name Type Description Default <code>image_name</code> <code>str</code> <p>The name of the Docker image.</p> required <code>tag</code> <code>Optional[str]</code> <p>The image tag. Defaults to \"latest\" if not provided.</p> <code>None</code> <code>client</code> <code>Optional[DockerClient]</code> <p>The Docker client to use. Defaults to docker.from_env().</p> <code>None</code> Example <p>img = Image(\"myapp\", tag=\"v1\")</p> Source code in <code>ures/docker/image.py</code> <pre><code>def __init__(\n    self,\n    image_name: str,\n    tag: Optional[str] = None,\n    client: docker.DockerClient = None,\n):\n    \"\"\"\n    Initializes an Image instance.\n\n    Args:\n        image_name (str): The name of the Docker image.\n        tag (Optional[str], optional): The image tag. Defaults to \"latest\" if not provided.\n        client (Optional[docker.DockerClient], optional): The Docker client to use. Defaults to docker.from_env().\n\n    Example:\n        &gt;&gt;&gt; img = Image(\"myapp\", tag=\"v1\")\n    \"\"\"\n    self._image_name = image_name\n    self._tag = tag or \"latest\"\n    self._client = client or docker.from_env()\n    self._image: Optional[DockerImage] = None\n</code></pre>"},{"location":"apis/docker/#ures.docker.image.Image.build_image","title":"<code>build_image(build_config, dest, build_context=None)</code>","text":"<p>Builds a Docker image using the specified build configuration.</p> <p>Parameters:</p> Name Type Description Default <code>build_config</code> <code>BuildConfig</code> <p>The configuration for building the image.</p> required <code>dest</code> <code>Union[str, Path]</code> <p>The destination path where the Dockerfile will be saved.</p> required <code>build_context</code> <code>Optional[Union[str, Path]]</code> <p>The build context directory. Defaults to build_config.context_dir.</p> <code>None</code> <p>Returns:</p> Name Type Description <code>DockerImage</code> <code>Image</code> <p>The built Docker image.</p> Example <p>build_config = BuildConfig() img = Image(\"myapp\") built_img = img.build_image(build_config, \"/tmp/dockerfile_dir\") built_img is not None True</p> Source code in <code>ures/docker/image.py</code> <pre><code>def build_image(\n    self,\n    build_config: BuildConfig,\n    dest: Union[str, Path],\n    build_context: Optional[Union[str, Path]] = None,\n) -&gt; DockerImage:\n    \"\"\"\n    Builds a Docker image using the specified build configuration.\n\n    Args:\n        build_config (BuildConfig): The configuration for building the image.\n        dest (Union[str, Path]): The destination path where the Dockerfile will be saved.\n        build_context (Optional[Union[str, Path]], optional): The build context directory. Defaults to build_config.context_dir.\n\n    Returns:\n        DockerImage: The built Docker image.\n\n    Example:\n        &gt;&gt;&gt; build_config = BuildConfig()\n        &gt;&gt;&gt; img = Image(\"myapp\")\n        &gt;&gt;&gt; built_img = img.build_image(build_config, \"/tmp/dockerfile_dir\")\n        &gt;&gt;&gt; built_img is not None\n        True\n    \"\"\"\n    build_context = build_context or build_config.context_dir\n    build_context = Path(build_context)\n    dest = Path(dest)\n    if dest.is_dir():\n        dest = dest.joinpath(build_config.docker_filename)\n    builder = ImageConstructor(build_config)\n    docker_path = builder.save(dest)\n    image_name = self.get_fullname()\n    args = {\n        \"path\": str(build_context),\n        \"tag\": image_name,\n        \"dockerfile\": str(docker_path),\n        \"nocache\": True,\n    }\n    logger.info(\n        f\"Building image {image_name} with dockerfile {docker_path} in context {build_context}\"\n    )\n    try:\n        image, build_log = self._client.images.build(**args)\n    except docker.errors.BuildError as e:\n        logger.error(f\"Failed to build image {image_name}\")\n        for log in e.build_log:\n            logger.error(log)\n        raise e\n    else:\n        logger.info(f\"Image {image_name} built successfully!\")\n        self._image = image\n    for line in build_log:\n        logger.debug(line)\n    return image\n</code></pre>"},{"location":"apis/docker/#ures.docker.image.Image.get_fullname","title":"<code>get_fullname(tag=None)</code>","text":"<p>Constructs the full image name including the tag.</p> <p>Parameters:</p> Name Type Description Default <code>tag</code> <code>Optional[str]</code> <p>The tag to use; if not provided, the instance's tag is used.</p> <code>None</code> <p>Returns:</p> Name Type Description <code>str</code> <code>str</code> <p>The full image name in the format \"name:tag\".</p> Example <p>img = Image(\"myapp\", tag=\"v1\") img.get_fullname() 'myapp:v1'</p> Source code in <code>ures/docker/image.py</code> <pre><code>def get_fullname(self, tag: Optional[str] = None) -&gt; str:\n    \"\"\"\n    Constructs the full image name including the tag.\n\n    Args:\n        tag (Optional[str], optional): The tag to use; if not provided, the instance's tag is used.\n\n    Returns:\n        str: The full image name in the format \"name:tag\".\n\n    Example:\n        &gt;&gt;&gt; img = Image(\"myapp\", tag=\"v1\")\n        &gt;&gt;&gt; img.get_fullname()\n        'myapp:v1'\n    \"\"\"\n    if tag is None:\n        tag = self._tag\n    return f\"{self._image_name}:{tag}\"\n</code></pre>"},{"location":"apis/docker/#ures.docker.image.Image.get_image","title":"<code>get_image(tag=None)</code>","text":"<p>Retrieves the Docker image from the local repository.</p> <p>Parameters:</p> Name Type Description Default <code>tag</code> <code>Optional[str]</code> <p>The tag to use when retrieving the image. Defaults to the instance's tag.</p> <code>None</code> <p>Returns:</p> Type Description <code>Optional[Image]</code> <p>Optional[DockerImage]: The Docker image if found; otherwise, None.</p> Example <p>img = Image(\"myapp\") image_obj = img.get_image() image_obj is not None  # Depends on local Docker images</p> Source code in <code>ures/docker/image.py</code> <pre><code>def get_image(self, tag: Optional[str] = None) -&gt; Optional[DockerImage]:\n    \"\"\"\n    Retrieves the Docker image from the local repository.\n\n    Args:\n        tag (Optional[str], optional): The tag to use when retrieving the image. Defaults to the instance's tag.\n\n    Returns:\n        Optional[DockerImage]: The Docker image if found; otherwise, None.\n\n    Example:\n        &gt;&gt;&gt; img = Image(\"myapp\")\n        &gt;&gt;&gt; image_obj = img.get_image()\n        &gt;&gt;&gt; image_obj is not None  # Depends on local Docker images\n    \"\"\"\n    image_name = self.get_fullname(tag=tag)\n    logger.info(f\"Getting image {image_name}\")\n    try:\n        image = self._client.images.get(image_name)\n        if tag is None or tag == self._tag:\n            self._image = image\n        return image\n    except docker.errors.ImageNotFound:\n        return None\n    except docker.errors.APIError as e:\n        logger.error(f\"Error accessing Docker API: {e}\")\n        return None\n</code></pre>"},{"location":"apis/docker/#ures.docker.image.Image.info","title":"<code>info()</code>","text":"<p>Prints detailed information about the Docker image.</p> <p>Returns:</p> Type Description <p>None</p> Example <p>img = Image(\"myapp\") img.info()</p> Source code in <code>ures/docker/image.py</code> <pre><code>def info(self):\n    \"\"\"\n    Prints detailed information about the Docker image.\n\n    Returns:\n        None\n\n    Example:\n        &gt;&gt;&gt; img = Image(\"myapp\")\n        &gt;&gt;&gt; img.info()\n    \"\"\"\n    print(\n        \"\\033[1;33m====================================== Image Info ===============================================\\033[0m\"\n    )\n    print(f\"Name: {self.name}\")\n    print(f\"Image ID: {self.id}\")\n    print(f\"Architecture: {self.architecture}\")\n    print(f\"Image Size: {format_memory(self.image_size)}\")\n    print(f\"Labels: {self.labels}\")\n</code></pre>"},{"location":"apis/docker/#ures.docker.image.Image.pull_image","title":"<code>pull_image(tag=None)</code>","text":"<p>Pulls the Docker image from a remote repository.</p> <p>Parameters:</p> Name Type Description Default <code>tag</code> <code>Optional[str]</code> <p>The tag to pull; defaults to the instance's tag if not provided.</p> <code>None</code> <p>Returns:</p> Type Description <code>Optional[Image]</code> <p>Optional[DockerImage]: The pulled Docker image if successful; otherwise, None.</p> Example <p>img = Image(\"myapp\") pulled = img.pull_image() pulled is not None</p> Source code in <code>ures/docker/image.py</code> <pre><code>def pull_image(self, tag: Optional[str] = None) -&gt; Optional[DockerImage]:\n    \"\"\"\n    Pulls the Docker image from a remote repository.\n\n    Args:\n        tag (Optional[str], optional): The tag to pull; defaults to the instance's tag if not provided.\n\n    Returns:\n        Optional[DockerImage]: The pulled Docker image if successful; otherwise, None.\n\n    Example:\n        &gt;&gt;&gt; img = Image(\"myapp\")\n        &gt;&gt;&gt; pulled = img.pull_image()\n        &gt;&gt;&gt; pulled is not None\n    \"\"\"\n    tag = tag or self._tag\n    logger.info(f\"Pulling image {self.get_fullname(tag=tag)}\")\n    try:\n        image = self._client.images.pull(self._image_name, tag=tag)\n    except docker.errors.APIError as e:\n        logger.error(f\"Error pulling image {self.get_fullname(tag=tag)}\")\n    else:\n        self._image = image\n        return image\n</code></pre>"},{"location":"apis/docker/#ures.docker.image.Image.remove","title":"<code>remove(tag=None, force=False, noprune=False)</code>","text":"<p>Removes the Docker image from the local repository.</p> <p>Parameters:</p> Name Type Description Default <code>tag</code> <code>Optional[str]</code> <p>The tag to remove. Defaults to the instance's tag.</p> <code>None</code> <code>force</code> <code>bool</code> <p>Force removal. Defaults to False.</p> <code>False</code> <code>noprune</code> <code>bool</code> <p>Do not remove untagged parent images. Defaults to False.</p> <code>False</code> <p>Returns:</p> Type Description <p>None</p> Example <p>img = Image(\"myapp\") img.remove()</p> Source code in <code>ures/docker/image.py</code> <pre><code>def remove(\n    self, tag: Optional[str] = None, force: bool = False, noprune: bool = False\n):\n    \"\"\"\n    Removes the Docker image from the local repository.\n\n    Args:\n        tag (Optional[str], optional): The tag to remove. Defaults to the instance's tag.\n        force (bool, optional): Force removal. Defaults to False.\n        noprune (bool, optional): Do not remove untagged parent images. Defaults to False.\n\n    Returns:\n        None\n\n    Example:\n        &gt;&gt;&gt; img = Image(\"myapp\")\n        &gt;&gt;&gt; img.remove()\n    \"\"\"\n    image_name = self.get_fullname(tag=tag)\n    args = {\"image\": image_name, \"force\": force, \"noprune\": noprune}\n    try:\n        logger.info(f\"Removing image {image_name} with {args}\")\n        self._client.images.remove(**args)\n    except docker.errors.APIError as e:\n        logger.error(f\"Failed to remove image {image_name}. Msg: {e}\")\n    finally:\n        if self.exist:\n            logger.error(f\"Removing image {image_name} failed\")\n        else:\n            logger.info(f\"Removing image {image_name} succeeded\")\n</code></pre>"},{"location":"apis/docker/#ures.docker.image.ImageConstructor","title":"<code>ImageConstructor</code>","text":"<p>Constructs a Dockerfile based on a provided build configuration.</p> <p>This class generates Dockerfile content by appending commands derived from the build configuration and provides methods to save the generated Dockerfile.</p> Source code in <code>ures/docker/image.py</code> <pre><code>class ImageConstructor:\n    \"\"\"\n    Constructs a Dockerfile based on a provided build configuration.\n\n    This class generates Dockerfile content by appending commands derived from the build\n    configuration and provides methods to save the generated Dockerfile.\n    \"\"\"\n\n    def __init__(self, config: BuildConfig):\n        \"\"\"\n        Initializes the ImageConstructor with the given build configuration.\n\n        Args:\n            config (BuildConfig): The build configuration settings.\n\n        Returns:\n            None\n\n        Example:\n            &gt;&gt;&gt; from ures.docker.conf import BuildConfig\n            &gt;&gt;&gt; config = BuildConfig(base_image=\"python:3.10-slim\", user=\"appuser\")\n            &gt;&gt;&gt; constructor = ImageConstructor(config)\n        \"\"\"\n        self._config = config\n        self._dockerfile_content: List[str] = []\n        self._build_dockerfile()\n\n    @property\n    def home_dir(self) -&gt; Path:\n        \"\"\"\n        Returns the home directory path based on the configured user.\n\n        Returns:\n            Path: The home directory path (e.g. /home/{user} if user is specified, else /root).\n\n        Example:\n            &gt;&gt;&gt; from ures.docker.conf import BuildConfig\n            &gt;&gt;&gt; config = BuildConfig(user=\"appuser\")\n            &gt;&gt;&gt; constructor = ImageConstructor(config)\n            &gt;&gt;&gt; constructor.home_dir\n            PosixPath('/home/appuser')\n        \"\"\"\n        home_dir = f\"/home/{self._config.user}\" if self._config.user else \"/root\"\n        return Path(home_dir)\n\n    @property\n    def content(self) -&gt; List[str]:\n        \"\"\"\n        Retrieves the generated Dockerfile content as a list of command strings.\n\n        Returns:\n            List[str]: The Dockerfile content lines.\n\n        Example:\n            &gt;&gt;&gt; constructor = ImageConstructor(BuildConfig())\n            &gt;&gt;&gt; constructor.content  # Might include commands like 'FROM python:3.10-slim'\n        \"\"\"\n        return self._dockerfile_content\n\n    def _add_command(self, command: str):\n        \"\"\"\n        Appends a command line to the Dockerfile content.\n\n        Args:\n            command (str): The Dockerfile command to add.\n\n        Returns:\n            None\n\n        Example:\n            &gt;&gt;&gt; constructor = ImageConstructor(BuildConfig())\n            &gt;&gt;&gt; constructor._add_command(\"RUN echo Hello\")\n        \"\"\"\n        logger.debug(f\"Adding command: {command}\")\n        self._dockerfile_content.append(command)\n\n    def save(self, dest: Union[str, Path]) -&gt; Path:\n        \"\"\"\n        Saves the generated Dockerfile to the specified destination.\n\n        If the destination is a directory, the Dockerfile will be named using the configuration's\n        docker_filename and placed inside that directory.\n\n        Args:\n            dest (Union[str, Path]): The destination file path or directory.\n\n        Returns:\n            Path: The full path where the Dockerfile was saved.\n\n        Example:\n            &gt;&gt;&gt; constructor = ImageConstructor(BuildConfig(docker_filename=\"Dockerfile\"))\n            &gt;&gt;&gt; saved_path = constructor.save(\"/tmp\")\n            &gt;&gt;&gt; saved_path.name  # Should be 'Dockerfile'\n        \"\"\"\n        dest_path = Path(dest) if isinstance(dest, str) else dest\n        if dest_path.is_dir():\n            dest_path = dest_path / self._config.docker_filename\n        logger.info(f\"Saving Dockerfile to: {dest_path}\")\n        dest_path.parent.mkdir(parents=True, exist_ok=True)\n        with open(dest_path, \"w\") as f:\n            f.write(\"\\n\".join(self._dockerfile_content))\n        return dest_path\n\n    def _set_base_image(self):\n        \"\"\"\n        Sets the base image in the Dockerfile.\n\n        If a platform is specified in the configuration, it is included in the FROM command.\n\n        Returns:\n            None\n\n        Example:\n            &gt;&gt;&gt; constructor = ImageConstructor(BuildConfig(base_image=\"python:3.10-slim\"))\n            &gt;&gt;&gt; constructor._set_base_image()\n        \"\"\"\n        base_image = self._config.base_image\n        if self._config.platform:\n            base_image = f\"--platform={self._config.platform} {base_image}\"\n        self._add_command(f\"FROM {base_image}\")\n\n    def _set_labels(self):\n        \"\"\"\n        Adds LABEL commands to the Dockerfile for each label defined in the build configuration.\n\n        Returns:\n            None\n\n        Example:\n            &gt;&gt;&gt; config = BuildConfig(labels=[(\"version\", \"1.0\")])\n            &gt;&gt;&gt; constructor = ImageConstructor(config)\n            &gt;&gt;&gt; constructor._set_labels()\n        \"\"\"\n        if self._config.labels:\n            for key, value in self._config.labels:\n                self._add_command(f'LABEL \"{key}\"=\"{value}\"')\n\n    def _set_user_and_workdir(self):\n        \"\"\"\n        Sets the user and working directory in the Dockerfile.\n\n        This command sets arguments for HOME_DIR and USER_NAME, creates the user if UID is specified,\n        and then sets the USER and WORKDIR.\n\n        Returns:\n            None\n\n        Example:\n            &gt;&gt;&gt; config = BuildConfig(user=\"appuser\", uid=1001)\n            &gt;&gt;&gt; constructor = ImageConstructor(config)\n            &gt;&gt;&gt; constructor._set_user_and_workdir()\n        \"\"\"\n        user = self._config.user\n        uid = self._config.uid\n        self._add_command(f\"ARG HOME_DIR={self.home_dir}\")\n        if user:\n            self._add_command(f\"ARG USER_NAME={user}\")\n            if uid:\n                self._add_command(f\"ARG UID={uid}\")\n                self._add_command(\n                    \"RUN id -u $USER_NAME &gt;/dev/null 2&gt;&amp;1 || useradd -m -u $UID -s /bin/bash -d $HOME_DIR $USER_NAME\"\n                )\n                self._add_command(f\"RUN chown -R $USER_NAME:$USER_NAME $HOME_DIR\")\n            self._add_command(f\"USER $USER_NAME\")\n        self._add_command(f\"WORKDIR $HOME_DIR\")\n\n    def _set_system_dependencies(self):\n        \"\"\"\n        Installs system dependencies in the Docker image using the specified package manager.\n\n        Returns:\n            None\n\n        Example:\n            &gt;&gt;&gt; config = BuildConfig(sys_dependencies=[\"curl\"], sys_deps_manager=\"apt\")\n            &gt;&gt;&gt; constructor = ImageConstructor(config)\n            &gt;&gt;&gt; constructor._set_system_dependencies()\n        \"\"\"\n        sys_deps = self._config.sys_dependencies\n        manager = self._config.sys_deps_manager\n        if sys_deps:\n            deps_string = \" \".join(sys_deps)\n            command = f\"RUN {manager} update &amp;&amp; {manager} install -y {deps_string}\"\n            if manager == \"apt\":\n                command += \" &amp;&amp; apt-get clean &amp;&amp; rm -rf /var/lib/apt/lists/*\"\n            self._add_command(command)\n\n    def _set_python_dependencies(self):\n        \"\"\"\n        Installs Python dependencies in the Docker image using the specified Python package manager.\n\n        Returns:\n            None\n\n        Example:\n            &gt;&gt;&gt; config = BuildConfig(python_dependencies=[\"flask\"], python_deps_manager=\"pip\")\n            &gt;&gt;&gt; constructor = ImageConstructor(config)\n            &gt;&gt;&gt; constructor._set_python_dependencies()\n        \"\"\"\n        python_deps = self._config.python_dependencies\n        manager = self._config.python_deps_manager\n        if python_deps:\n            deps_string = \" \".join(python_deps)\n            if manager == \"pip\":\n                command = (\n                    f\"RUN pip install --upgrade pip &amp;&amp; pip install --no-cache-dir {deps_string} \"\n                    f\"&amp;&amp; rm -rf /tmp/* /var/tmp/*\"\n                )\n                self._add_command(command)\n            elif manager == \"conda\":\n                # Placeholder for conda support.\n                pass\n            else:\n                logger.warning(f\"Unsupported python package manager: {manager}\")\n\n    def _set_run_commands(self):\n        \"\"\"\n        Adds RUN commands to the Dockerfile for each command in the build configuration.\n\n        Returns:\n            None\n\n        Example:\n            &gt;&gt;&gt; config = BuildConfig(run_commands=[\"echo Hello\"])\n            &gt;&gt;&gt; constructor = ImageConstructor(config)\n            &gt;&gt;&gt; constructor._set_run_commands()\n        \"\"\"\n        if self._config.run_commands:\n            for command in self._config.run_commands:\n                self._add_command(f\"RUN {command}\")\n\n    def _set_copies(self):\n        \"\"\"\n        Adds COPY commands to the Dockerfile for each file copy instruction in the build configuration.\n\n        Returns:\n            None\n\n        Example:\n            &gt;&gt;&gt; config = BuildConfig(copies=[{\"src\": \"app.py\", \"dest\": \"/app/app.py\"}])\n            &gt;&gt;&gt; constructor = ImageConstructor(config)\n            &gt;&gt;&gt; constructor._set_copies()\n        \"\"\"\n        if self._config.copies:\n            for copy_spec in self._config.copies:\n                src = Path(copy_spec[\"src\"])\n                dest = Path(copy_spec[\"dest\"])\n                if not dest.is_absolute():\n                    dest = self.home_dir.joinpath(dest)\n                if self._config.user is None:\n                    self._add_command(f\"COPY {src} {dest}\")\n                else:\n                    self._add_command(f\"COPY --chown=$USER_NAME {src} {dest}\")\n\n    def _set_environment(self):\n        \"\"\"\n        Sets environment variables in the Dockerfile using the ENV command.\n\n        Returns:\n            None\n\n        Example:\n            &gt;&gt;&gt; config = BuildConfig(environment={\"DEBUG\": \"true\"})\n            &gt;&gt;&gt; constructor = ImageConstructor(config)\n            &gt;&gt;&gt; constructor._set_environment()\n        \"\"\"\n        if self._config.environment:\n            for key, value in self._config.environment.items():\n                self._add_command(f\"ENV {key}={value}\")\n\n    def _set_entrypoint(self):\n        \"\"\"\n        Sets the ENTRYPOINT in the Dockerfile using the build configuration.\n\n        Returns:\n            None\n\n        Example:\n            &gt;&gt;&gt; config = BuildConfig(entrypoint=[\"python\", \"app.py\"])\n            &gt;&gt;&gt; constructor = ImageConstructor(config)\n            &gt;&gt;&gt; constructor._set_entrypoint()\n        \"\"\"\n        if self._config.entrypoint:\n            self._add_command(f\"ENTRYPOINT {json.dumps(self._config.entrypoint)}\")\n\n    def _set_cmd(self):\n        \"\"\"\n        Sets the CMD in the Dockerfile if no ENTRYPOINT is specified.\n\n        Returns:\n            None\n\n        Example:\n            &gt;&gt;&gt; config = BuildConfig(cmd=[\"python\", \"-m\", \"app\"])\n            &gt;&gt;&gt; constructor = ImageConstructor(config)\n            &gt;&gt;&gt; constructor._set_cmd()\n        \"\"\"\n        if self._config.cmd and not self._config.entrypoint:\n            self._add_command(f\"CMD {json.dumps(self._config.cmd)}\")\n\n    def _build_dockerfile(self):\n        \"\"\"\n        Builds the complete Dockerfile content based on the build configuration.\n\n        Returns:\n            None\n\n        Example:\n            &gt;&gt;&gt; constructor = ImageConstructor(BuildConfig())\n            &gt;&gt;&gt; constructor.content  # Contains all Dockerfile commands\n        \"\"\"\n        self._set_base_image()\n        self._set_labels()\n        self._set_system_dependencies()\n        self._set_python_dependencies()\n        self._set_run_commands()\n        self._set_user_and_workdir()\n        self._set_copies()\n        self._set_environment()\n        self._set_entrypoint()\n        self._set_cmd()\n</code></pre>"},{"location":"apis/docker/#ures.docker.image.ImageConstructor.content","title":"<code>content</code>  <code>property</code>","text":"<p>Retrieves the generated Dockerfile content as a list of command strings.</p> <p>Returns:</p> Type Description <code>List[str]</code> <p>List[str]: The Dockerfile content lines.</p> Example <p>constructor = ImageConstructor(BuildConfig()) constructor.content  # Might include commands like 'FROM python:3.10-slim'</p>"},{"location":"apis/docker/#ures.docker.image.ImageConstructor.home_dir","title":"<code>home_dir</code>  <code>property</code>","text":"<p>Returns the home directory path based on the configured user.</p> <p>Returns:</p> Name Type Description <code>Path</code> <code>Path</code> <p>The home directory path (e.g. /home/{user} if user is specified, else /root).</p> Example <p>from ures.docker.conf import BuildConfig config = BuildConfig(user=\"appuser\") constructor = ImageConstructor(config) constructor.home_dir PosixPath('/home/appuser')</p>"},{"location":"apis/docker/#ures.docker.image.ImageConstructor.__init__","title":"<code>__init__(config)</code>","text":"<p>Initializes the ImageConstructor with the given build configuration.</p> <p>Parameters:</p> Name Type Description Default <code>config</code> <code>BuildConfig</code> <p>The build configuration settings.</p> required <p>Returns:</p> Type Description <p>None</p> Example <p>from ures.docker.conf import BuildConfig config = BuildConfig(base_image=\"python:3.10-slim\", user=\"appuser\") constructor = ImageConstructor(config)</p> Source code in <code>ures/docker/image.py</code> <pre><code>def __init__(self, config: BuildConfig):\n    \"\"\"\n    Initializes the ImageConstructor with the given build configuration.\n\n    Args:\n        config (BuildConfig): The build configuration settings.\n\n    Returns:\n        None\n\n    Example:\n        &gt;&gt;&gt; from ures.docker.conf import BuildConfig\n        &gt;&gt;&gt; config = BuildConfig(base_image=\"python:3.10-slim\", user=\"appuser\")\n        &gt;&gt;&gt; constructor = ImageConstructor(config)\n    \"\"\"\n    self._config = config\n    self._dockerfile_content: List[str] = []\n    self._build_dockerfile()\n</code></pre>"},{"location":"apis/docker/#ures.docker.image.ImageConstructor._add_command","title":"<code>_add_command(command)</code>","text":"<p>Appends a command line to the Dockerfile content.</p> <p>Parameters:</p> Name Type Description Default <code>command</code> <code>str</code> <p>The Dockerfile command to add.</p> required <p>Returns:</p> Type Description <p>None</p> Example <p>constructor = ImageConstructor(BuildConfig()) constructor._add_command(\"RUN echo Hello\")</p> Source code in <code>ures/docker/image.py</code> <pre><code>def _add_command(self, command: str):\n    \"\"\"\n    Appends a command line to the Dockerfile content.\n\n    Args:\n        command (str): The Dockerfile command to add.\n\n    Returns:\n        None\n\n    Example:\n        &gt;&gt;&gt; constructor = ImageConstructor(BuildConfig())\n        &gt;&gt;&gt; constructor._add_command(\"RUN echo Hello\")\n    \"\"\"\n    logger.debug(f\"Adding command: {command}\")\n    self._dockerfile_content.append(command)\n</code></pre>"},{"location":"apis/docker/#ures.docker.image.ImageConstructor._build_dockerfile","title":"<code>_build_dockerfile()</code>","text":"<p>Builds the complete Dockerfile content based on the build configuration.</p> <p>Returns:</p> Type Description <p>None</p> Example <p>constructor = ImageConstructor(BuildConfig()) constructor.content  # Contains all Dockerfile commands</p> Source code in <code>ures/docker/image.py</code> <pre><code>def _build_dockerfile(self):\n    \"\"\"\n    Builds the complete Dockerfile content based on the build configuration.\n\n    Returns:\n        None\n\n    Example:\n        &gt;&gt;&gt; constructor = ImageConstructor(BuildConfig())\n        &gt;&gt;&gt; constructor.content  # Contains all Dockerfile commands\n    \"\"\"\n    self._set_base_image()\n    self._set_labels()\n    self._set_system_dependencies()\n    self._set_python_dependencies()\n    self._set_run_commands()\n    self._set_user_and_workdir()\n    self._set_copies()\n    self._set_environment()\n    self._set_entrypoint()\n    self._set_cmd()\n</code></pre>"},{"location":"apis/docker/#ures.docker.image.ImageConstructor._set_base_image","title":"<code>_set_base_image()</code>","text":"<p>Sets the base image in the Dockerfile.</p> <p>If a platform is specified in the configuration, it is included in the FROM command.</p> <p>Returns:</p> Type Description <p>None</p> Example <p>constructor = ImageConstructor(BuildConfig(base_image=\"python:3.10-slim\")) constructor._set_base_image()</p> Source code in <code>ures/docker/image.py</code> <pre><code>def _set_base_image(self):\n    \"\"\"\n    Sets the base image in the Dockerfile.\n\n    If a platform is specified in the configuration, it is included in the FROM command.\n\n    Returns:\n        None\n\n    Example:\n        &gt;&gt;&gt; constructor = ImageConstructor(BuildConfig(base_image=\"python:3.10-slim\"))\n        &gt;&gt;&gt; constructor._set_base_image()\n    \"\"\"\n    base_image = self._config.base_image\n    if self._config.platform:\n        base_image = f\"--platform={self._config.platform} {base_image}\"\n    self._add_command(f\"FROM {base_image}\")\n</code></pre>"},{"location":"apis/docker/#ures.docker.image.ImageConstructor._set_cmd","title":"<code>_set_cmd()</code>","text":"<p>Sets the CMD in the Dockerfile if no ENTRYPOINT is specified.</p> <p>Returns:</p> Type Description <p>None</p> Example <p>config = BuildConfig(cmd=[\"python\", \"-m\", \"app\"]) constructor = ImageConstructor(config) constructor._set_cmd()</p> Source code in <code>ures/docker/image.py</code> <pre><code>def _set_cmd(self):\n    \"\"\"\n    Sets the CMD in the Dockerfile if no ENTRYPOINT is specified.\n\n    Returns:\n        None\n\n    Example:\n        &gt;&gt;&gt; config = BuildConfig(cmd=[\"python\", \"-m\", \"app\"])\n        &gt;&gt;&gt; constructor = ImageConstructor(config)\n        &gt;&gt;&gt; constructor._set_cmd()\n    \"\"\"\n    if self._config.cmd and not self._config.entrypoint:\n        self._add_command(f\"CMD {json.dumps(self._config.cmd)}\")\n</code></pre>"},{"location":"apis/docker/#ures.docker.image.ImageConstructor._set_copies","title":"<code>_set_copies()</code>","text":"<p>Adds COPY commands to the Dockerfile for each file copy instruction in the build configuration.</p> <p>Returns:</p> Type Description <p>None</p> Example <p>config = BuildConfig(copies=[{\"src\": \"app.py\", \"dest\": \"/app/app.py\"}]) constructor = ImageConstructor(config) constructor._set_copies()</p> Source code in <code>ures/docker/image.py</code> <pre><code>def _set_copies(self):\n    \"\"\"\n    Adds COPY commands to the Dockerfile for each file copy instruction in the build configuration.\n\n    Returns:\n        None\n\n    Example:\n        &gt;&gt;&gt; config = BuildConfig(copies=[{\"src\": \"app.py\", \"dest\": \"/app/app.py\"}])\n        &gt;&gt;&gt; constructor = ImageConstructor(config)\n        &gt;&gt;&gt; constructor._set_copies()\n    \"\"\"\n    if self._config.copies:\n        for copy_spec in self._config.copies:\n            src = Path(copy_spec[\"src\"])\n            dest = Path(copy_spec[\"dest\"])\n            if not dest.is_absolute():\n                dest = self.home_dir.joinpath(dest)\n            if self._config.user is None:\n                self._add_command(f\"COPY {src} {dest}\")\n            else:\n                self._add_command(f\"COPY --chown=$USER_NAME {src} {dest}\")\n</code></pre>"},{"location":"apis/docker/#ures.docker.image.ImageConstructor._set_entrypoint","title":"<code>_set_entrypoint()</code>","text":"<p>Sets the ENTRYPOINT in the Dockerfile using the build configuration.</p> <p>Returns:</p> Type Description <p>None</p> Example <p>config = BuildConfig(entrypoint=[\"python\", \"app.py\"]) constructor = ImageConstructor(config) constructor._set_entrypoint()</p> Source code in <code>ures/docker/image.py</code> <pre><code>def _set_entrypoint(self):\n    \"\"\"\n    Sets the ENTRYPOINT in the Dockerfile using the build configuration.\n\n    Returns:\n        None\n\n    Example:\n        &gt;&gt;&gt; config = BuildConfig(entrypoint=[\"python\", \"app.py\"])\n        &gt;&gt;&gt; constructor = ImageConstructor(config)\n        &gt;&gt;&gt; constructor._set_entrypoint()\n    \"\"\"\n    if self._config.entrypoint:\n        self._add_command(f\"ENTRYPOINT {json.dumps(self._config.entrypoint)}\")\n</code></pre>"},{"location":"apis/docker/#ures.docker.image.ImageConstructor._set_environment","title":"<code>_set_environment()</code>","text":"<p>Sets environment variables in the Dockerfile using the ENV command.</p> <p>Returns:</p> Type Description <p>None</p> Example <p>config = BuildConfig(environment={\"DEBUG\": \"true\"}) constructor = ImageConstructor(config) constructor._set_environment()</p> Source code in <code>ures/docker/image.py</code> <pre><code>def _set_environment(self):\n    \"\"\"\n    Sets environment variables in the Dockerfile using the ENV command.\n\n    Returns:\n        None\n\n    Example:\n        &gt;&gt;&gt; config = BuildConfig(environment={\"DEBUG\": \"true\"})\n        &gt;&gt;&gt; constructor = ImageConstructor(config)\n        &gt;&gt;&gt; constructor._set_environment()\n    \"\"\"\n    if self._config.environment:\n        for key, value in self._config.environment.items():\n            self._add_command(f\"ENV {key}={value}\")\n</code></pre>"},{"location":"apis/docker/#ures.docker.image.ImageConstructor._set_labels","title":"<code>_set_labels()</code>","text":"<p>Adds LABEL commands to the Dockerfile for each label defined in the build configuration.</p> <p>Returns:</p> Type Description <p>None</p> Example <p>config = BuildConfig(labels=[(\"version\", \"1.0\")]) constructor = ImageConstructor(config) constructor._set_labels()</p> Source code in <code>ures/docker/image.py</code> <pre><code>def _set_labels(self):\n    \"\"\"\n    Adds LABEL commands to the Dockerfile for each label defined in the build configuration.\n\n    Returns:\n        None\n\n    Example:\n        &gt;&gt;&gt; config = BuildConfig(labels=[(\"version\", \"1.0\")])\n        &gt;&gt;&gt; constructor = ImageConstructor(config)\n        &gt;&gt;&gt; constructor._set_labels()\n    \"\"\"\n    if self._config.labels:\n        for key, value in self._config.labels:\n            self._add_command(f'LABEL \"{key}\"=\"{value}\"')\n</code></pre>"},{"location":"apis/docker/#ures.docker.image.ImageConstructor._set_python_dependencies","title":"<code>_set_python_dependencies()</code>","text":"<p>Installs Python dependencies in the Docker image using the specified Python package manager.</p> <p>Returns:</p> Type Description <p>None</p> Example <p>config = BuildConfig(python_dependencies=[\"flask\"], python_deps_manager=\"pip\") constructor = ImageConstructor(config) constructor._set_python_dependencies()</p> Source code in <code>ures/docker/image.py</code> <pre><code>def _set_python_dependencies(self):\n    \"\"\"\n    Installs Python dependencies in the Docker image using the specified Python package manager.\n\n    Returns:\n        None\n\n    Example:\n        &gt;&gt;&gt; config = BuildConfig(python_dependencies=[\"flask\"], python_deps_manager=\"pip\")\n        &gt;&gt;&gt; constructor = ImageConstructor(config)\n        &gt;&gt;&gt; constructor._set_python_dependencies()\n    \"\"\"\n    python_deps = self._config.python_dependencies\n    manager = self._config.python_deps_manager\n    if python_deps:\n        deps_string = \" \".join(python_deps)\n        if manager == \"pip\":\n            command = (\n                f\"RUN pip install --upgrade pip &amp;&amp; pip install --no-cache-dir {deps_string} \"\n                f\"&amp;&amp; rm -rf /tmp/* /var/tmp/*\"\n            )\n            self._add_command(command)\n        elif manager == \"conda\":\n            # Placeholder for conda support.\n            pass\n        else:\n            logger.warning(f\"Unsupported python package manager: {manager}\")\n</code></pre>"},{"location":"apis/docker/#ures.docker.image.ImageConstructor._set_run_commands","title":"<code>_set_run_commands()</code>","text":"<p>Adds RUN commands to the Dockerfile for each command in the build configuration.</p> <p>Returns:</p> Type Description <p>None</p> Example <p>config = BuildConfig(run_commands=[\"echo Hello\"]) constructor = ImageConstructor(config) constructor._set_run_commands()</p> Source code in <code>ures/docker/image.py</code> <pre><code>def _set_run_commands(self):\n    \"\"\"\n    Adds RUN commands to the Dockerfile for each command in the build configuration.\n\n    Returns:\n        None\n\n    Example:\n        &gt;&gt;&gt; config = BuildConfig(run_commands=[\"echo Hello\"])\n        &gt;&gt;&gt; constructor = ImageConstructor(config)\n        &gt;&gt;&gt; constructor._set_run_commands()\n    \"\"\"\n    if self._config.run_commands:\n        for command in self._config.run_commands:\n            self._add_command(f\"RUN {command}\")\n</code></pre>"},{"location":"apis/docker/#ures.docker.image.ImageConstructor._set_system_dependencies","title":"<code>_set_system_dependencies()</code>","text":"<p>Installs system dependencies in the Docker image using the specified package manager.</p> <p>Returns:</p> Type Description <p>None</p> Example <p>config = BuildConfig(sys_dependencies=[\"curl\"], sys_deps_manager=\"apt\") constructor = ImageConstructor(config) constructor._set_system_dependencies()</p> Source code in <code>ures/docker/image.py</code> <pre><code>def _set_system_dependencies(self):\n    \"\"\"\n    Installs system dependencies in the Docker image using the specified package manager.\n\n    Returns:\n        None\n\n    Example:\n        &gt;&gt;&gt; config = BuildConfig(sys_dependencies=[\"curl\"], sys_deps_manager=\"apt\")\n        &gt;&gt;&gt; constructor = ImageConstructor(config)\n        &gt;&gt;&gt; constructor._set_system_dependencies()\n    \"\"\"\n    sys_deps = self._config.sys_dependencies\n    manager = self._config.sys_deps_manager\n    if sys_deps:\n        deps_string = \" \".join(sys_deps)\n        command = f\"RUN {manager} update &amp;&amp; {manager} install -y {deps_string}\"\n        if manager == \"apt\":\n            command += \" &amp;&amp; apt-get clean &amp;&amp; rm -rf /var/lib/apt/lists/*\"\n        self._add_command(command)\n</code></pre>"},{"location":"apis/docker/#ures.docker.image.ImageConstructor._set_user_and_workdir","title":"<code>_set_user_and_workdir()</code>","text":"<p>Sets the user and working directory in the Dockerfile.</p> <p>This command sets arguments for HOME_DIR and USER_NAME, creates the user if UID is specified, and then sets the USER and WORKDIR.</p> <p>Returns:</p> Type Description <p>None</p> Example <p>config = BuildConfig(user=\"appuser\", uid=1001) constructor = ImageConstructor(config) constructor._set_user_and_workdir()</p> Source code in <code>ures/docker/image.py</code> <pre><code>def _set_user_and_workdir(self):\n    \"\"\"\n    Sets the user and working directory in the Dockerfile.\n\n    This command sets arguments for HOME_DIR and USER_NAME, creates the user if UID is specified,\n    and then sets the USER and WORKDIR.\n\n    Returns:\n        None\n\n    Example:\n        &gt;&gt;&gt; config = BuildConfig(user=\"appuser\", uid=1001)\n        &gt;&gt;&gt; constructor = ImageConstructor(config)\n        &gt;&gt;&gt; constructor._set_user_and_workdir()\n    \"\"\"\n    user = self._config.user\n    uid = self._config.uid\n    self._add_command(f\"ARG HOME_DIR={self.home_dir}\")\n    if user:\n        self._add_command(f\"ARG USER_NAME={user}\")\n        if uid:\n            self._add_command(f\"ARG UID={uid}\")\n            self._add_command(\n                \"RUN id -u $USER_NAME &gt;/dev/null 2&gt;&amp;1 || useradd -m -u $UID -s /bin/bash -d $HOME_DIR $USER_NAME\"\n            )\n            self._add_command(f\"RUN chown -R $USER_NAME:$USER_NAME $HOME_DIR\")\n        self._add_command(f\"USER $USER_NAME\")\n    self._add_command(f\"WORKDIR $HOME_DIR\")\n</code></pre>"},{"location":"apis/docker/#ures.docker.image.ImageConstructor.save","title":"<code>save(dest)</code>","text":"<p>Saves the generated Dockerfile to the specified destination.</p> <p>If the destination is a directory, the Dockerfile will be named using the configuration's docker_filename and placed inside that directory.</p> <p>Parameters:</p> Name Type Description Default <code>dest</code> <code>Union[str, Path]</code> <p>The destination file path or directory.</p> required <p>Returns:</p> Name Type Description <code>Path</code> <code>Path</code> <p>The full path where the Dockerfile was saved.</p> Example <p>constructor = ImageConstructor(BuildConfig(docker_filename=\"Dockerfile\")) saved_path = constructor.save(\"/tmp\") saved_path.name  # Should be 'Dockerfile'</p> Source code in <code>ures/docker/image.py</code> <pre><code>def save(self, dest: Union[str, Path]) -&gt; Path:\n    \"\"\"\n    Saves the generated Dockerfile to the specified destination.\n\n    If the destination is a directory, the Dockerfile will be named using the configuration's\n    docker_filename and placed inside that directory.\n\n    Args:\n        dest (Union[str, Path]): The destination file path or directory.\n\n    Returns:\n        Path: The full path where the Dockerfile was saved.\n\n    Example:\n        &gt;&gt;&gt; constructor = ImageConstructor(BuildConfig(docker_filename=\"Dockerfile\"))\n        &gt;&gt;&gt; saved_path = constructor.save(\"/tmp\")\n        &gt;&gt;&gt; saved_path.name  # Should be 'Dockerfile'\n    \"\"\"\n    dest_path = Path(dest) if isinstance(dest, str) else dest\n    if dest_path.is_dir():\n        dest_path = dest_path / self._config.docker_filename\n    logger.info(f\"Saving Dockerfile to: {dest_path}\")\n    dest_path.parent.mkdir(parents=True, exist_ok=True)\n    with open(dest_path, \"w\") as f:\n        f.write(\"\\n\".join(self._dockerfile_content))\n    return dest_path\n</code></pre>"},{"location":"apis/docker/#ures.docker.image.ImageOrchestrator","title":"<code>ImageOrchestrator</code>","text":"<p>Orchestrates the building of multiple Docker images considering their dependencies.</p> <p>Attributes:</p> Name Type Description <code>_client</code> <code>DockerClient</code> <p>The Docker client instance.</p> <code>_images</code> <code>dict</code> <p>A dictionary holding images and their build configuration and status.</p> Source code in <code>ures/docker/image.py</code> <pre><code>class ImageOrchestrator:\n    \"\"\"\n    Orchestrates the building of multiple Docker images considering their dependencies.\n\n    Attributes:\n        _client (docker.DockerClient): The Docker client instance.\n        _images (dict): A dictionary holding images and their build configuration and status.\n    \"\"\"\n\n    def __init__(self, client: Optional[docker.DockerClient] = None):\n        \"\"\"\n        Initializes the ImageOrchestrator.\n\n        Args:\n            client (Optional[docker.DockerClient], optional): The Docker client instance. Defaults to docker.from_env().\n\n        Example:\n            &gt;&gt;&gt; orchestrator = ImageOrchestrator()\n        \"\"\"\n        self._client = client or docker.from_env()\n        self._images: Dict[str, Dict[str, Union[Optional[Image], BuildConfig, str]]] = (\n            {}\n        )\n\n    @property\n    def images(self) -&gt; Dict[str, Dict[str, Union[Optional[Image], BuildConfig, str]]]:\n        \"\"\"\n        Retrieves the dictionary of managed images.\n\n        Returns:\n            dict: A dictionary mapping image fullnames to their configuration and status.\n\n        Example:\n            &gt;&gt;&gt; orch = ImageOrchestrator()\n            &gt;&gt;&gt; orch.images  # Initially empty dictionary\n        \"\"\"\n        return self._images\n\n    def add_image(self, image: Image, config: BuildConfig, base: Image = None):\n        \"\"\"\n        Adds an image and its build configuration to the orchestrator.\n\n        Args:\n            image (Image): The Image instance to add.\n            config (BuildConfig): The build configuration for the image.\n            base (Image, optional): The base image that this image depends on, if any.\n\n        Returns:\n            bool: True if the image was added successfully.\n\n        Example:\n            &gt;&gt;&gt; orch = ImageOrchestrator()\n            &gt;&gt;&gt; img = Image(\"myapp\")\n            &gt;&gt;&gt; config = BuildConfig()\n            &gt;&gt;&gt; orch.add_image(img, config)\n            True\n        \"\"\"\n        assert isinstance(image, Image)\n        assert isinstance(config, BuildConfig)\n        assert image.get_image() not in self.images.keys()\n        logger.info(f\"Adding image {image.get_fullname()} to orchestrator\")\n        logger.info(f\"{image.get_fullname()} image config: {config}\")\n        if base:\n            assert isinstance(base, Image)\n            assert base.get_fullname() in self.images.keys()\n            logger.info(\n                f\"The image {image.get_fullname()} depends on base image {base.get_fullname()}\"\n            )\n        self._images[image.get_fullname()] = {\n            \"image\": image,\n            \"config\": config,\n            \"base\": base,\n            \"status\": \"init\",\n        }\n        return image.get_fullname() in self._images.keys()\n\n    def _topological_sort(self) -&gt; list:\n        \"\"\"\n        Performs a topological sort of images based on their dependency relationships.\n\n        Returns:\n            list: A list of image fullnames in the order they should be built.\n\n        Raises:\n            Exception: If a circular dependency is detected or a base image is not registered.\n\n        Example:\n            &gt;&gt;&gt; sorted_images = orchestrator._topological_sort()\n        \"\"\"\n        sorted_list = []\n        temporary_marks = set()\n        permanent_marks = set()\n\n        def visit(image_key: str) -&gt; None:\n            if image_key in permanent_marks:\n                return\n            if image_key in temporary_marks:\n                raise Exception(f\"Circular dependency detected: {image_key}\")\n            temporary_marks.add(image_key)\n            base = self._images[image_key].get(\"base\")\n            if base:\n                base_key = base.get_fullname()\n                if base_key in self._images:\n                    visit(base_key)\n                else:\n                    raise Exception(f\"Base image {base_key} is not registered\")\n            permanent_marks.add(image_key)\n            sorted_list.append(image_key)\n\n        for key in self._images:\n            if key not in permanent_marks:\n                visit(key)\n        logger.debug(f\"After topological sort: {sorted_list}\")\n        return sorted_list\n\n    def build_all(self):\n        \"\"\"\n        Builds all registered images in the correct order based on dependencies.\n\n        Returns:\n            None\n\n        Example:\n            &gt;&gt;&gt; orchestrator.build_all()\n        \"\"\"\n        build_sorted_list = self._topological_sort()\n        tmp_dir = Path(\n            get_temp_dir_with_specific_path(f\"Bulk-Image-Build-{unique_id()}\")\n        )\n        logger.info(f\"Building images in temporary directory: {tmp_dir}\")\n        for image_key in tqdm(build_sorted_list):\n            image: Image = self._images[image_key][\"image\"]\n            config: BuildConfig = self._images[image_key][\"config\"]\n            base: Optional[Image] = self._images[image_key][\"base\"]\n            logger.debug(f\"starting build for {image.get_fullname()}\")\n            if base is not None:\n                logger.debug(f\"Original config: {config}\")\n                base_config: BuildConfig = self._images[base.get_fullname()][\"config\"]\n                config.base_image = base.get_fullname()\n                config.python_deps_manager = base_config.python_deps_manager\n                config.sys_deps_manager = base_config.sys_deps_manager\n                config.user = base_config.user\n                config.uid = base_config.uid\n                config.add_label(\"BaseImage\", base.get_fullname())\n                logger.debug(f\"Config after inheritance: {config}\")\n\n            target_dir = tmp_dir.joinpath(image.get_fullname().replace(\":\", \"-\"))\n            logger.info(f\"The Dockerfile will be saved to {target_dir}\")\n            image.build_image(build_config=config, dest=target_dir)\n            if not image.exist:\n                self.images[image_key][\"status\"] = \"failed\"\n                raise RuntimeError(f\"Failed to build image {image.get_fullname()}\")\n            else:\n                self._images[image_key][\"status\"] = \"success\"\n</code></pre>"},{"location":"apis/docker/#ures.docker.image.ImageOrchestrator.images","title":"<code>images</code>  <code>property</code>","text":"<p>Retrieves the dictionary of managed images.</p> <p>Returns:</p> Name Type Description <code>dict</code> <code>Dict[str, Dict[str, Union[Optional[Image], BuildConfig, str]]]</code> <p>A dictionary mapping image fullnames to their configuration and status.</p> Example <p>orch = ImageOrchestrator() orch.images  # Initially empty dictionary</p>"},{"location":"apis/docker/#ures.docker.image.ImageOrchestrator.__init__","title":"<code>__init__(client=None)</code>","text":"<p>Initializes the ImageOrchestrator.</p> <p>Parameters:</p> Name Type Description Default <code>client</code> <code>Optional[DockerClient]</code> <p>The Docker client instance. Defaults to docker.from_env().</p> <code>None</code> Example <p>orchestrator = ImageOrchestrator()</p> Source code in <code>ures/docker/image.py</code> <pre><code>def __init__(self, client: Optional[docker.DockerClient] = None):\n    \"\"\"\n    Initializes the ImageOrchestrator.\n\n    Args:\n        client (Optional[docker.DockerClient], optional): The Docker client instance. Defaults to docker.from_env().\n\n    Example:\n        &gt;&gt;&gt; orchestrator = ImageOrchestrator()\n    \"\"\"\n    self._client = client or docker.from_env()\n    self._images: Dict[str, Dict[str, Union[Optional[Image], BuildConfig, str]]] = (\n        {}\n    )\n</code></pre>"},{"location":"apis/docker/#ures.docker.image.ImageOrchestrator._topological_sort","title":"<code>_topological_sort()</code>","text":"<p>Performs a topological sort of images based on their dependency relationships.</p> <p>Returns:</p> Name Type Description <code>list</code> <code>list</code> <p>A list of image fullnames in the order they should be built.</p> <p>Raises:</p> Type Description <code>Exception</code> <p>If a circular dependency is detected or a base image is not registered.</p> Example <p>sorted_images = orchestrator._topological_sort()</p> Source code in <code>ures/docker/image.py</code> <pre><code>def _topological_sort(self) -&gt; list:\n    \"\"\"\n    Performs a topological sort of images based on their dependency relationships.\n\n    Returns:\n        list: A list of image fullnames in the order they should be built.\n\n    Raises:\n        Exception: If a circular dependency is detected or a base image is not registered.\n\n    Example:\n        &gt;&gt;&gt; sorted_images = orchestrator._topological_sort()\n    \"\"\"\n    sorted_list = []\n    temporary_marks = set()\n    permanent_marks = set()\n\n    def visit(image_key: str) -&gt; None:\n        if image_key in permanent_marks:\n            return\n        if image_key in temporary_marks:\n            raise Exception(f\"Circular dependency detected: {image_key}\")\n        temporary_marks.add(image_key)\n        base = self._images[image_key].get(\"base\")\n        if base:\n            base_key = base.get_fullname()\n            if base_key in self._images:\n                visit(base_key)\n            else:\n                raise Exception(f\"Base image {base_key} is not registered\")\n        permanent_marks.add(image_key)\n        sorted_list.append(image_key)\n\n    for key in self._images:\n        if key not in permanent_marks:\n            visit(key)\n    logger.debug(f\"After topological sort: {sorted_list}\")\n    return sorted_list\n</code></pre>"},{"location":"apis/docker/#ures.docker.image.ImageOrchestrator.add_image","title":"<code>add_image(image, config, base=None)</code>","text":"<p>Adds an image and its build configuration to the orchestrator.</p> <p>Parameters:</p> Name Type Description Default <code>image</code> <code>Image</code> <p>The Image instance to add.</p> required <code>config</code> <code>BuildConfig</code> <p>The build configuration for the image.</p> required <code>base</code> <code>Image</code> <p>The base image that this image depends on, if any.</p> <code>None</code> <p>Returns:</p> Name Type Description <code>bool</code> <p>True if the image was added successfully.</p> Example <p>orch = ImageOrchestrator() img = Image(\"myapp\") config = BuildConfig() orch.add_image(img, config) True</p> Source code in <code>ures/docker/image.py</code> <pre><code>def add_image(self, image: Image, config: BuildConfig, base: Image = None):\n    \"\"\"\n    Adds an image and its build configuration to the orchestrator.\n\n    Args:\n        image (Image): The Image instance to add.\n        config (BuildConfig): The build configuration for the image.\n        base (Image, optional): The base image that this image depends on, if any.\n\n    Returns:\n        bool: True if the image was added successfully.\n\n    Example:\n        &gt;&gt;&gt; orch = ImageOrchestrator()\n        &gt;&gt;&gt; img = Image(\"myapp\")\n        &gt;&gt;&gt; config = BuildConfig()\n        &gt;&gt;&gt; orch.add_image(img, config)\n        True\n    \"\"\"\n    assert isinstance(image, Image)\n    assert isinstance(config, BuildConfig)\n    assert image.get_image() not in self.images.keys()\n    logger.info(f\"Adding image {image.get_fullname()} to orchestrator\")\n    logger.info(f\"{image.get_fullname()} image config: {config}\")\n    if base:\n        assert isinstance(base, Image)\n        assert base.get_fullname() in self.images.keys()\n        logger.info(\n            f\"The image {image.get_fullname()} depends on base image {base.get_fullname()}\"\n        )\n    self._images[image.get_fullname()] = {\n        \"image\": image,\n        \"config\": config,\n        \"base\": base,\n        \"status\": \"init\",\n    }\n    return image.get_fullname() in self._images.keys()\n</code></pre>"},{"location":"apis/docker/#ures.docker.image.ImageOrchestrator.build_all","title":"<code>build_all()</code>","text":"<p>Builds all registered images in the correct order based on dependencies.</p> <p>Returns:</p> Type Description <p>None</p> Example <p>orchestrator.build_all()</p> Source code in <code>ures/docker/image.py</code> <pre><code>def build_all(self):\n    \"\"\"\n    Builds all registered images in the correct order based on dependencies.\n\n    Returns:\n        None\n\n    Example:\n        &gt;&gt;&gt; orchestrator.build_all()\n    \"\"\"\n    build_sorted_list = self._topological_sort()\n    tmp_dir = Path(\n        get_temp_dir_with_specific_path(f\"Bulk-Image-Build-{unique_id()}\")\n    )\n    logger.info(f\"Building images in temporary directory: {tmp_dir}\")\n    for image_key in tqdm(build_sorted_list):\n        image: Image = self._images[image_key][\"image\"]\n        config: BuildConfig = self._images[image_key][\"config\"]\n        base: Optional[Image] = self._images[image_key][\"base\"]\n        logger.debug(f\"starting build for {image.get_fullname()}\")\n        if base is not None:\n            logger.debug(f\"Original config: {config}\")\n            base_config: BuildConfig = self._images[base.get_fullname()][\"config\"]\n            config.base_image = base.get_fullname()\n            config.python_deps_manager = base_config.python_deps_manager\n            config.sys_deps_manager = base_config.sys_deps_manager\n            config.user = base_config.user\n            config.uid = base_config.uid\n            config.add_label(\"BaseImage\", base.get_fullname())\n            logger.debug(f\"Config after inheritance: {config}\")\n\n        target_dir = tmp_dir.joinpath(image.get_fullname().replace(\":\", \"-\"))\n        logger.info(f\"The Dockerfile will be saved to {target_dir}\")\n        image.build_image(build_config=config, dest=target_dir)\n        if not image.exist:\n            self.images[image_key][\"status\"] = \"failed\"\n            raise RuntimeError(f\"Failed to build image {image.get_fullname()}\")\n        else:\n            self._images[image_key][\"status\"] = \"success\"\n</code></pre>"},{"location":"apis/docker/#ures.docker.conf.BuildConfig","title":"<code>BuildConfig</code>","text":"<p>               Bases: <code>BaseModel</code></p> <p>BuildConfig defines the build parameters for constructing a Docker image.</p> <p>Attributes:</p> Name Type Description <code>base_image</code> <code>str</code> <p>Base image for the container. Default is \"python:3.10-slim\".</p> <code>platform</code> <code>Optional[str]</code> <p>Target platform in format os[/arch[/variant]].</p> <code>python_deps_manager</code> <code>Optional[str]</code> <p>Package manager for Python dependencies (e.g., pip, conda).</p> <code>python_dependencies</code> <code>Optional[List[str]]</code> <p>List of Python packages to install.</p> <code>sys_deps_manager</code> <code>Optional[str]</code> <p>Package manager for system dependencies (e.g., apt, yum, apk).</p> <code>sys_dependencies</code> <code>Optional[List[str]]</code> <p>List of system packages to install.</p> <code>labels</code> <code>Optional[List[Tuple[str, str]]]</code> <p>List of key-value tuples used as labels.</p> <code>uid</code> <code>Optional[int]</code> <p>User ID to use inside the container.</p> <code>user</code> <code>Optional[str]</code> <p>Username to use inside the container.</p> <code>entrypoint</code> <code>Optional[List[str]]</code> <p>Entrypoint command for the container.</p> <code>cmd</code> <code>Optional[List[str]]</code> <p>Default command to run in the container.</p> <code>environment</code> <code>Optional[Dict[str, str]]</code> <p>Environment variables for the container.</p> <code>copies</code> <code>Optional[List[Dict[str, str]]]</code> <p>File copy instructions (each dict should include \"src\" and \"dest\").</p> <code>context_dir</code> <code>Union[str, Path]</code> <p>Directory for the build context. Defaults to the current working directory.</p> <code>docker_filename</code> <code>str</code> <p>Filename for the Dockerfile. Defaults to \"Dockerfile\".</p> Example <p>config = BuildConfig() config.base_image 'python:3.10-slim'</p> Source code in <code>ures/docker/conf.py</code> <pre><code>class BuildConfig(BaseModel):\n    \"\"\"\n    BuildConfig defines the build parameters for constructing a Docker image.\n\n    Attributes:\n        base_image (str): Base image for the container. Default is \"python:3.10-slim\".\n        platform (Optional[str]): Target platform in format os[/arch[/variant]].\n        python_deps_manager (Optional[str]): Package manager for Python dependencies (e.g., pip, conda).\n        python_dependencies (Optional[List[str]]): List of Python packages to install.\n        sys_deps_manager (Optional[str]): Package manager for system dependencies (e.g., apt, yum, apk).\n        sys_dependencies (Optional[List[str]]): List of system packages to install.\n        labels (Optional[List[Tuple[str, str]]]): List of key-value tuples used as labels.\n        uid (Optional[int]): User ID to use inside the container.\n        user (Optional[str]): Username to use inside the container.\n        entrypoint (Optional[List[str]]): Entrypoint command for the container.\n        cmd (Optional[List[str]]): Default command to run in the container.\n        environment (Optional[Dict[str, str]]): Environment variables for the container.\n        copies (Optional[List[Dict[str, str]]]): File copy instructions (each dict should include \"src\" and \"dest\").\n        context_dir (Union[str, Path]): Directory for the build context. Defaults to the current working directory.\n        docker_filename (str): Filename for the Dockerfile. Defaults to \"Dockerfile\".\n\n    Example:\n        &gt;&gt;&gt; config = BuildConfig()\n        &gt;&gt;&gt; config.base_image\n        'python:3.10-slim'\n    \"\"\"\n\n    base_image: str = Field(\n        default=\"python:3.10-slim\",\n        title=\"Base Image\",\n        description=\"Base image for the container\",\n    )\n    platform: Optional[str] = Field(\n        default=None,\n        title=\"Platform\",\n        description=\"Platform for the base image in format os[/arch[/variant]]\",\n    )\n    python_deps_manager: Optional[str] = Field(\n        default=\"pip\",\n        title=\"Python Dependencies Manager, such as pip or conda\",\n        description=\"Define which package manager to use for Python dependencies\",\n    )\n    python_dependencies: Optional[List[str]] = Field(\n        default=None,\n        title=\"Python Dependencies\",\n        description=\"List of Python dependencies to be installed\",\n    )\n    sys_deps_manager: Optional[str] = Field(\n        default=\"apt\",\n        title=\"System Dependencies Manager, such as apt, yum, or apk\",\n        description=\"Define which package manager to use for system dependencies\",\n    )\n    sys_dependencies: Optional[List[str]] = Field(\n        default=None,\n        title=\"System Dependencies\",\n        description=\"List of system dependencies to be installed\",\n    )\n    labels: Optional[List[Tuple[str, str]]] = Field(\n        default=None, title=\"Labels\", description=\"Labels for the image\"\n    )\n    uid: Optional[int] = Field(\n        default=None, title=\"User ID\", description=\"User ID for the container\"\n    )\n    user: Optional[str] = Field(\n        default=None, title=\"User\", description=\"User for the container\"\n    )\n    entrypoint: Optional[List[str]] = Field(\n        default=None, title=\"Entrypoint\", description=\"Entrypoint for the container\"\n    )\n    cmd: Optional[List[str]] = Field(\n        default=None, title=\"Command\", description=\"Command for the container\"\n    )\n    environment: Optional[Dict[str, str]] = Field(\n        default=None,\n        title=\"Environment\",\n        description=\"Environment variables for the container\",\n    )\n    copies: Optional[List[Dict[str, str]]] = Field(\n        default=None, title=\"Copies\", description=\"Files to be copied to the container\"\n    )\n    context_dir: Union[str, Path] = Field(\n        default=Path().cwd(),\n        title=\"Context Directory\",\n        description=\"Directory for the build context\",\n    )\n    docker_filename: str = Field(\n        default=\"Dockerfile\",\n        title=\"Dockerfile\",\n        description=\"Name of the Dockerfile\",\n    )\n\n    run_commands: Optional[List[str]] = Field(\n        default=None,\n        title=\"System Commands\",\n        description=\"Commands for running extra commands in the container, suck as installation of nightly pytorch\",\n    )\n\n    def add_label(self, key: str, value: str):\n        \"\"\"\n        Add a label to the build configuration.\n\n        Args:\n            key (str): The label key.\n            value (str): The label value.\n\n        Returns:\n            None\n\n        Example:\n            &gt;&gt;&gt; config = BuildConfig()\n            &gt;&gt;&gt; config.add_label(\"version\", \"1.0\")\n            &gt;&gt;&gt; config.labels\n            [(\"version\", \"1.0\")]\n        \"\"\"\n        logger.info(f\"Adding label {key} with value {value}\")\n        if self.labels is None:\n            self.labels = []\n        self.labels.append((key, value))\n\n    def add_copy(self, src: str, dest: str):\n        \"\"\"\n        Add a file copy instruction to the build configuration.\n\n        Args:\n            src (str): Source file path.\n            dest (str): Destination path inside the container.\n\n        Returns:\n            None\n\n        Example:\n            &gt;&gt;&gt; config = BuildConfig()\n            &gt;&gt;&gt; config.add_copy(\"app.py\", \"/app/app.py\")\n            &gt;&gt;&gt; config.copies\n            [{\"src\": \"app.py\", \"dest\": \"/app/app.py\"}]\n        \"\"\"\n        logger.info(f\"Adding copy {src} to {dest}\")\n        if self.copies is None:\n            self.copies = []\n        self.copies.append({\"src\": src, \"dest\": dest})\n\n    def add_environment(self, key: str, value: str):\n        \"\"\"\n        Add an environment variable to the build configuration.\n\n        Args:\n            key (str): The environment variable name.\n            value (str): The value for the environment variable.\n\n        Returns:\n            None\n\n        Example:\n            &gt;&gt;&gt; config = BuildConfig()\n            &gt;&gt;&gt; config.add_environment(\"DEBUG\", \"true\")\n            &gt;&gt;&gt; config.environment[\"DEBUG\"]\n            'true'\n        \"\"\"\n        logger.info(f\"Adding environment variable {key} with value {value}\")\n        if self.environment is None:\n            self.environment = {}\n        self.environment[key] = value\n\n    def set_context_dir(self, context_dir: Union[str, Path]):\n        \"\"\"\n        Set the build context directory.\n\n        Args:\n            context_dir (Union[str, Path]): The directory to be used as the build context.\n\n        Returns:\n            None\n\n        Raises:\n            ValueError: If the provided context directory does not exist or is not a directory.\n\n        Example:\n            &gt;&gt;&gt; from pathlib import Path\n            &gt;&gt;&gt; config = BuildConfig()\n            &gt;&gt;&gt; temp_dir = Path(\"/tmp\")\n            &gt;&gt;&gt; config.set_context_dir(temp_dir)\n            &gt;&gt;&gt; config.context_dir == temp_dir\n            True\n        \"\"\"\n        logger.info(f\"Setting context directory to {context_dir}\")\n        if isinstance(context_dir, str):\n            context_dir = Path(context_dir)\n        if not context_dir.is_dir():\n            raise ValueError(f\"Context directory {context_dir} is not a directory\")\n        self.context_dir = context_dir\n\n    def add_python_dependency(self, dependency: str):\n        \"\"\"\n        Add a Python dependency to be installed in the image.\n\n        Args:\n            dependency (str): The Python package dependency (e.g., \"flask==2.0.1\").\n\n        Returns:\n            None\n\n        Example:\n            &gt;&gt;&gt; config = BuildConfig()\n            &gt;&gt;&gt; config.add_python_dependency(\"flask\")\n            &gt;&gt;&gt; \"flask\" in config.python_dependencies\n            True\n        \"\"\"\n        logger.info(f\"Adding Python dependency: '{dependency}'\")\n        if self.python_dependencies is None:\n            self.python_dependencies = []\n        self.python_dependencies.append(dependency)\n\n    def add_system_dependency(self, dependency: str):\n        \"\"\"\n        Add a system dependency to be installed in the image.\n\n        Args:\n            dependency (str): The system package dependency (e.g., \"curl\").\n\n        Returns:\n            None\n\n        Example:\n            &gt;&gt;&gt; config = BuildConfig()\n            &gt;&gt;&gt; config.add_system_dependency(\"curl\")\n            &gt;&gt;&gt; \"curl\" in config.sys_dependencies\n            True\n        \"\"\"\n        logger.info(f\"Adding system dependency: '{dependency}'\")\n        if self.sys_dependencies is None:\n            self.sys_dependencies = []\n        self.sys_dependencies.append(dependency)\n\n    def add_run_command(self, command: str):\n        \"\"\"\n        Add a command to be run during the build process.\n\n        Args:\n            command (str): The command to run (e.g., \"apt-get update\").\n\n        Returns:\n            None\n\n        Example:\n            &gt;&gt;&gt; config = BuildConfig()\n            &gt;&gt;&gt; config.add_run_command(\"apt-get update\")\n            &gt;&gt;&gt; \"apt-get update\" in config.run_commands\n            True\n        \"\"\"\n        logger.info(f\"Adding run command: '{command}'\")\n        if self.run_commands is None:\n            self.run_commands = []\n        self.run_commands.append(command)\n\n    def set_entrypoint(self, entrypoint: Union[str, List[str]]):\n        \"\"\"\n        Set the entrypoint for the container.\n\n        Args:\n            entrypoint (Union[str, List[str]]): The entrypoint command(s). If a string is provided,\n                                                it will be converted to a list.\n\n        Returns:\n            None\n\n        Example:\n            &gt;&gt;&gt; config = BuildConfig()\n            &gt;&gt;&gt; config.set_entrypoint(\"python app.py\")\n            &gt;&gt;&gt; config.entrypoint\n            [\"python app.py\"]\n        \"\"\"\n        if isinstance(entrypoint, str):\n            entrypoint = [entrypoint]\n        logger.info(f\"Setting entrypoint to: '{entrypoint}'\")\n        self.entrypoint = entrypoint\n\n    def set_cmd(self, cmd: Union[str, List[str]]):\n        \"\"\"\n        Set the command for the container.\n\n        Args:\n            cmd (Union[str, List[str]]): The command(s) to run. If a string is provided,\n                                         it will be converted to a list.\n\n        Returns:\n            None\n\n        Example:\n            &gt;&gt;&gt; config = BuildConfig()\n            &gt;&gt;&gt; config.set_cmd(\"python -m myapp\")\n            &gt;&gt;&gt; config.cmd\n            [\"python -m myapp\"]\n        \"\"\"\n        if isinstance(cmd, str):\n            cmd = [cmd]\n        logger.info(f\"Setting command to: '{cmd}'\")\n        self.cmd = cmd\n</code></pre>"},{"location":"apis/docker/#ures.docker.conf.BuildConfig.add_copy","title":"<code>add_copy(src, dest)</code>","text":"<p>Add a file copy instruction to the build configuration.</p> <p>Parameters:</p> Name Type Description Default <code>src</code> <code>str</code> <p>Source file path.</p> required <code>dest</code> <code>str</code> <p>Destination path inside the container.</p> required <p>Returns:</p> Type Description <p>None</p> Example <p>config = BuildConfig() config.add_copy(\"app.py\", \"/app/app.py\") config.copies [{\"src\": \"app.py\", \"dest\": \"/app/app.py\"}]</p> Source code in <code>ures/docker/conf.py</code> <pre><code>def add_copy(self, src: str, dest: str):\n    \"\"\"\n    Add a file copy instruction to the build configuration.\n\n    Args:\n        src (str): Source file path.\n        dest (str): Destination path inside the container.\n\n    Returns:\n        None\n\n    Example:\n        &gt;&gt;&gt; config = BuildConfig()\n        &gt;&gt;&gt; config.add_copy(\"app.py\", \"/app/app.py\")\n        &gt;&gt;&gt; config.copies\n        [{\"src\": \"app.py\", \"dest\": \"/app/app.py\"}]\n    \"\"\"\n    logger.info(f\"Adding copy {src} to {dest}\")\n    if self.copies is None:\n        self.copies = []\n    self.copies.append({\"src\": src, \"dest\": dest})\n</code></pre>"},{"location":"apis/docker/#ures.docker.conf.BuildConfig.add_environment","title":"<code>add_environment(key, value)</code>","text":"<p>Add an environment variable to the build configuration.</p> <p>Parameters:</p> Name Type Description Default <code>key</code> <code>str</code> <p>The environment variable name.</p> required <code>value</code> <code>str</code> <p>The value for the environment variable.</p> required <p>Returns:</p> Type Description <p>None</p> Example <p>config = BuildConfig() config.add_environment(\"DEBUG\", \"true\") config.environment[\"DEBUG\"] 'true'</p> Source code in <code>ures/docker/conf.py</code> <pre><code>def add_environment(self, key: str, value: str):\n    \"\"\"\n    Add an environment variable to the build configuration.\n\n    Args:\n        key (str): The environment variable name.\n        value (str): The value for the environment variable.\n\n    Returns:\n        None\n\n    Example:\n        &gt;&gt;&gt; config = BuildConfig()\n        &gt;&gt;&gt; config.add_environment(\"DEBUG\", \"true\")\n        &gt;&gt;&gt; config.environment[\"DEBUG\"]\n        'true'\n    \"\"\"\n    logger.info(f\"Adding environment variable {key} with value {value}\")\n    if self.environment is None:\n        self.environment = {}\n    self.environment[key] = value\n</code></pre>"},{"location":"apis/docker/#ures.docker.conf.BuildConfig.add_label","title":"<code>add_label(key, value)</code>","text":"<p>Add a label to the build configuration.</p> <p>Parameters:</p> Name Type Description Default <code>key</code> <code>str</code> <p>The label key.</p> required <code>value</code> <code>str</code> <p>The label value.</p> required <p>Returns:</p> Type Description <p>None</p> Example <p>config = BuildConfig() config.add_label(\"version\", \"1.0\") config.labels [(\"version\", \"1.0\")]</p> Source code in <code>ures/docker/conf.py</code> <pre><code>def add_label(self, key: str, value: str):\n    \"\"\"\n    Add a label to the build configuration.\n\n    Args:\n        key (str): The label key.\n        value (str): The label value.\n\n    Returns:\n        None\n\n    Example:\n        &gt;&gt;&gt; config = BuildConfig()\n        &gt;&gt;&gt; config.add_label(\"version\", \"1.0\")\n        &gt;&gt;&gt; config.labels\n        [(\"version\", \"1.0\")]\n    \"\"\"\n    logger.info(f\"Adding label {key} with value {value}\")\n    if self.labels is None:\n        self.labels = []\n    self.labels.append((key, value))\n</code></pre>"},{"location":"apis/docker/#ures.docker.conf.BuildConfig.add_python_dependency","title":"<code>add_python_dependency(dependency)</code>","text":"<p>Add a Python dependency to be installed in the image.</p> <p>Parameters:</p> Name Type Description Default <code>dependency</code> <code>str</code> <p>The Python package dependency (e.g., \"flask==2.0.1\").</p> required <p>Returns:</p> Type Description <p>None</p> Example <p>config = BuildConfig() config.add_python_dependency(\"flask\") \"flask\" in config.python_dependencies True</p> Source code in <code>ures/docker/conf.py</code> <pre><code>def add_python_dependency(self, dependency: str):\n    \"\"\"\n    Add a Python dependency to be installed in the image.\n\n    Args:\n        dependency (str): The Python package dependency (e.g., \"flask==2.0.1\").\n\n    Returns:\n        None\n\n    Example:\n        &gt;&gt;&gt; config = BuildConfig()\n        &gt;&gt;&gt; config.add_python_dependency(\"flask\")\n        &gt;&gt;&gt; \"flask\" in config.python_dependencies\n        True\n    \"\"\"\n    logger.info(f\"Adding Python dependency: '{dependency}'\")\n    if self.python_dependencies is None:\n        self.python_dependencies = []\n    self.python_dependencies.append(dependency)\n</code></pre>"},{"location":"apis/docker/#ures.docker.conf.BuildConfig.add_run_command","title":"<code>add_run_command(command)</code>","text":"<p>Add a command to be run during the build process.</p> <p>Parameters:</p> Name Type Description Default <code>command</code> <code>str</code> <p>The command to run (e.g., \"apt-get update\").</p> required <p>Returns:</p> Type Description <p>None</p> Example <p>config = BuildConfig() config.add_run_command(\"apt-get update\") \"apt-get update\" in config.run_commands True</p> Source code in <code>ures/docker/conf.py</code> <pre><code>def add_run_command(self, command: str):\n    \"\"\"\n    Add a command to be run during the build process.\n\n    Args:\n        command (str): The command to run (e.g., \"apt-get update\").\n\n    Returns:\n        None\n\n    Example:\n        &gt;&gt;&gt; config = BuildConfig()\n        &gt;&gt;&gt; config.add_run_command(\"apt-get update\")\n        &gt;&gt;&gt; \"apt-get update\" in config.run_commands\n        True\n    \"\"\"\n    logger.info(f\"Adding run command: '{command}'\")\n    if self.run_commands is None:\n        self.run_commands = []\n    self.run_commands.append(command)\n</code></pre>"},{"location":"apis/docker/#ures.docker.conf.BuildConfig.add_system_dependency","title":"<code>add_system_dependency(dependency)</code>","text":"<p>Add a system dependency to be installed in the image.</p> <p>Parameters:</p> Name Type Description Default <code>dependency</code> <code>str</code> <p>The system package dependency (e.g., \"curl\").</p> required <p>Returns:</p> Type Description <p>None</p> Example <p>config = BuildConfig() config.add_system_dependency(\"curl\") \"curl\" in config.sys_dependencies True</p> Source code in <code>ures/docker/conf.py</code> <pre><code>def add_system_dependency(self, dependency: str):\n    \"\"\"\n    Add a system dependency to be installed in the image.\n\n    Args:\n        dependency (str): The system package dependency (e.g., \"curl\").\n\n    Returns:\n        None\n\n    Example:\n        &gt;&gt;&gt; config = BuildConfig()\n        &gt;&gt;&gt; config.add_system_dependency(\"curl\")\n        &gt;&gt;&gt; \"curl\" in config.sys_dependencies\n        True\n    \"\"\"\n    logger.info(f\"Adding system dependency: '{dependency}'\")\n    if self.sys_dependencies is None:\n        self.sys_dependencies = []\n    self.sys_dependencies.append(dependency)\n</code></pre>"},{"location":"apis/docker/#ures.docker.conf.BuildConfig.set_cmd","title":"<code>set_cmd(cmd)</code>","text":"<p>Set the command for the container.</p> <p>Parameters:</p> Name Type Description Default <code>cmd</code> <code>Union[str, List[str]]</code> <p>The command(s) to run. If a string is provided,                          it will be converted to a list.</p> required <p>Returns:</p> Type Description <p>None</p> Example <p>config = BuildConfig() config.set_cmd(\"python -m myapp\") config.cmd [\"python -m myapp\"]</p> Source code in <code>ures/docker/conf.py</code> <pre><code>def set_cmd(self, cmd: Union[str, List[str]]):\n    \"\"\"\n    Set the command for the container.\n\n    Args:\n        cmd (Union[str, List[str]]): The command(s) to run. If a string is provided,\n                                     it will be converted to a list.\n\n    Returns:\n        None\n\n    Example:\n        &gt;&gt;&gt; config = BuildConfig()\n        &gt;&gt;&gt; config.set_cmd(\"python -m myapp\")\n        &gt;&gt;&gt; config.cmd\n        [\"python -m myapp\"]\n    \"\"\"\n    if isinstance(cmd, str):\n        cmd = [cmd]\n    logger.info(f\"Setting command to: '{cmd}'\")\n    self.cmd = cmd\n</code></pre>"},{"location":"apis/docker/#ures.docker.conf.BuildConfig.set_context_dir","title":"<code>set_context_dir(context_dir)</code>","text":"<p>Set the build context directory.</p> <p>Parameters:</p> Name Type Description Default <code>context_dir</code> <code>Union[str, Path]</code> <p>The directory to be used as the build context.</p> required <p>Returns:</p> Type Description <p>None</p> <p>Raises:</p> Type Description <code>ValueError</code> <p>If the provided context directory does not exist or is not a directory.</p> Example <p>from pathlib import Path config = BuildConfig() temp_dir = Path(\"/tmp\") config.set_context_dir(temp_dir) config.context_dir == temp_dir True</p> Source code in <code>ures/docker/conf.py</code> <pre><code>def set_context_dir(self, context_dir: Union[str, Path]):\n    \"\"\"\n    Set the build context directory.\n\n    Args:\n        context_dir (Union[str, Path]): The directory to be used as the build context.\n\n    Returns:\n        None\n\n    Raises:\n        ValueError: If the provided context directory does not exist or is not a directory.\n\n    Example:\n        &gt;&gt;&gt; from pathlib import Path\n        &gt;&gt;&gt; config = BuildConfig()\n        &gt;&gt;&gt; temp_dir = Path(\"/tmp\")\n        &gt;&gt;&gt; config.set_context_dir(temp_dir)\n        &gt;&gt;&gt; config.context_dir == temp_dir\n        True\n    \"\"\"\n    logger.info(f\"Setting context directory to {context_dir}\")\n    if isinstance(context_dir, str):\n        context_dir = Path(context_dir)\n    if not context_dir.is_dir():\n        raise ValueError(f\"Context directory {context_dir} is not a directory\")\n    self.context_dir = context_dir\n</code></pre>"},{"location":"apis/docker/#ures.docker.conf.BuildConfig.set_entrypoint","title":"<code>set_entrypoint(entrypoint)</code>","text":"<p>Set the entrypoint for the container.</p> <p>Parameters:</p> Name Type Description Default <code>entrypoint</code> <code>Union[str, List[str]]</code> <p>The entrypoint command(s). If a string is provided,                                 it will be converted to a list.</p> required <p>Returns:</p> Type Description <p>None</p> Example <p>config = BuildConfig() config.set_entrypoint(\"python app.py\") config.entrypoint [\"python app.py\"]</p> Source code in <code>ures/docker/conf.py</code> <pre><code>def set_entrypoint(self, entrypoint: Union[str, List[str]]):\n    \"\"\"\n    Set the entrypoint for the container.\n\n    Args:\n        entrypoint (Union[str, List[str]]): The entrypoint command(s). If a string is provided,\n                                            it will be converted to a list.\n\n    Returns:\n        None\n\n    Example:\n        &gt;&gt;&gt; config = BuildConfig()\n        &gt;&gt;&gt; config.set_entrypoint(\"python app.py\")\n        &gt;&gt;&gt; config.entrypoint\n        [\"python app.py\"]\n    \"\"\"\n    if isinstance(entrypoint, str):\n        entrypoint = [entrypoint]\n    logger.info(f\"Setting entrypoint to: '{entrypoint}'\")\n    self.entrypoint = entrypoint\n</code></pre>"},{"location":"apis/docker/#ures.docker.conf.RuntimeConfig","title":"<code>RuntimeConfig</code>","text":"<p>               Bases: <code>BaseModel</code></p> <p>RuntimeConfig defines the runtime parameters for running a Docker container.</p> <p>Attributes:</p> Name Type Description <code>image_name</code> <code>str</code> <p>Name of the Docker image in the format \"image:tag\".</p> <code>name</code> <code>Optional[str]</code> <p>Container name.</p> <code>platform</code> <code>Optional[str]</code> <p>Platform for the container.</p> <code>detach</code> <code>bool</code> <p>Whether to run the container in detached mode.</p> <code>user</code> <code>Optional[str]</code> <p>User under which to run the container.</p> <code>remove</code> <code>bool</code> <p>Whether to remove the container after it stops.</p> <code>cpus</code> <code>Optional[int]</code> <p>Number of CPUs to allocate.</p> <code>gpus</code> <code>Optional[List[str]]</code> <p>List of GPUs to allocate.</p> <code>gpu_driver</code> <code>str</code> <p>Driver to use for GPUs. Default is \"nvidia\".</p> <code>memory</code> <code>Optional[str]</code> <p>Memory limit for the container (e.g., \"2g\").</p> <code>entrypoint</code> <code>Optional[List[Union[str, float, int, Path]]]</code> <p>Entrypoint command(s).</p> <code>command</code> <code>Optional[List[Union[int, float, str, Path]]]</code> <p>Command(s) to run.</p> <code>env</code> <code>Optional[Dict[str, str]]</code> <p>Environment variables.</p> <code>volumes</code> <code>Optional[Dict[str, Dict[str, str]]]</code> <p>Volume mappings.</p> <code>subnet</code> <code>Optional[str]</code> <p>Subnet for container networking.</p> <code>ipv4</code> <code>Optional[str]</code> <p>Specific IPv4 address for the container.</p> <code>subnet_mask</code> <code>Optional[str]</code> <p>Subnet mask (e.g., \"172.17.0.0/16\").</p> <code>subnet_gateway</code> <code>Optional[str]</code> <p>Subnet gateway.</p> <code>network_mode</code> <code>Optional[str]</code> <p>Docker network mode.</p> <code>out_dir</code> <code>Path</code> <p>Output directory for logs and cache.</p> Example <p>config = RuntimeConfig() config.image_name 'model-runner'</p> Source code in <code>ures/docker/conf.py</code> <pre><code>class RuntimeConfig(BaseModel):\n    \"\"\"\n    RuntimeConfig defines the runtime parameters for running a Docker container.\n\n    Attributes:\n        image_name (str): Name of the Docker image in the format \"image:tag\".\n        name (Optional[str]): Container name.\n        platform (Optional[str]): Platform for the container.\n        detach (bool): Whether to run the container in detached mode.\n        user (Optional[str]): User under which to run the container.\n        remove (bool): Whether to remove the container after it stops.\n        cpus (Optional[int]): Number of CPUs to allocate.\n        gpus (Optional[List[str]]): List of GPUs to allocate.\n        gpu_driver (str): Driver to use for GPUs. Default is \"nvidia\".\n        memory (Optional[str]): Memory limit for the container (e.g., \"2g\").\n        entrypoint (Optional[List[Union[str, float, int, Path]]]): Entrypoint command(s).\n        command (Optional[List[Union[int, float, str, Path]]]): Command(s) to run.\n        env (Optional[Dict[str, str]]): Environment variables.\n        volumes (Optional[Dict[str, Dict[str, str]]]): Volume mappings.\n        subnet (Optional[str]): Subnet for container networking.\n        ipv4 (Optional[str]): Specific IPv4 address for the container.\n        subnet_mask (Optional[str]): Subnet mask (e.g., \"172.17.0.0/16\").\n        subnet_gateway (Optional[str]): Subnet gateway.\n        network_mode (Optional[str]): Docker network mode.\n        out_dir (Path): Output directory for logs and cache.\n\n    Example:\n        &gt;&gt;&gt; config = RuntimeConfig()\n        &gt;&gt;&gt; config.image_name\n        'model-runner'\n    \"\"\"\n\n    image_name: str = Field(\n        default=\"model-runner\",\n        title=\"Image Name\",\n        description=\"Name of the image in form of image:tag\",\n    )\n    name: Optional[str] = Field(\n        default=None, title=\"Name\", description=\"Name of the container\"\n    )\n    platform: Optional[str] = Field(\n        default=None, title=\"Platform\", description=\"Platform for the base image\"\n    )\n    detach: bool = Field(\n        default=True, title=\"Detach\", description=\"Run the container in detached mode\"\n    )\n    user: Optional[str] = Field(\n        default=None, title=\"User\", description=\"User for the container\"\n    )\n    remove: bool = Field(\n        default=False,\n        title=\"Remove\",\n        description=\"Remove the container after it is stopped\",\n    )\n    cpus: Optional[int] = Field(\n        default=None,\n        title=\"CPUs\",\n        description=\"Number of CPUs to allocate to the container. CPUs allowed (e.g., 0-3, 0,1)\",\n    )\n    gpus: Optional[List[str]] = Field(\n        default=None,\n        title=\"GPUs\",\n        description=\"List of GPUs to allocate to the container\",\n    )\n    gpu_driver: str = Field(\n        default=\"nvidia\",\n        title=\"GPU Driver\",\n        description=\"The driver to use for the GPUs, defaults to nvidia\",\n    )\n    memory: Optional[str] = Field(\n        default=None,\n        title=\"Memory\",\n        description=\"Memory to allocate to the container with a units identification char (100000b, 1000k, 128m, 1g)\",\n    )\n    entrypoint: Optional[List[Union[str, float, int, Path]]] = Field(\n        default=None, title=\"Entrypoint\", description=\"Entrypoint for the container\"\n    )\n    command: Optional[List[Union[int, float, str, Path]]] = Field(\n        default=None, title=\"Command\", description=\"Command for the container\"\n    )\n    env: Optional[Dict[str, str]] = Field(\n        default=None,\n        title=\"Environment\",\n        description=\"Environment variables for the container\",\n    )\n    volumes: Optional[Dict[str, Dict[str, str]]] = Field(\n        default=None, title=\"Volumes\", description=\"Volumes to mount to the container\"\n    )\n    subnet: Optional[str] = Field(\n        default=None, title=\"Subnet\", description=\"Subnet for the container\"\n    )\n    ipv4: Optional[str] = Field(\n        default=None, title=\"IPv4\", description=\"Specified IPv4 for the container\"\n    )\n    subnet_mask: Optional[str] = Field(\n        default=\"172.17.0.0/16\", title=\"IPv4\", description=\"IPv4 Mask for Subnet\"\n    )\n    subnet_gateway: Optional[str] = Field(\n        default=\"172.17.0.1\",\n        title=\"Subnet Gateway\",\n        description=\"Subnet Gateway for the container\",\n    )\n    network_mode: Optional[str] = Field(\n        default=\"bridge\",\n        title=\"Network Mode\",\n        description=\"Network mode for the container\",\n    )\n    out_dir: Path = Field(\n        default=Path(get_temp_folder()),\n        title=\"Cache Directory\",\n        description=\"Directory for logs, cache, and other temporary files\",\n    )\n\n    @property\n    def log_dir(self) -&gt; Path:\n        \"\"\"\n        Get the log directory within the output directory. If it does not exist, it is created.\n\n        Returns:\n            Path: The path to the log directory.\n\n        Example:\n            &gt;&gt;&gt; config = RuntimeConfig()\n            &gt;&gt;&gt; log_directory = config.log_dir\n            &gt;&gt;&gt; log_directory.exists()\n            True\n        \"\"\"\n        log_dir = self.out_dir.joinpath(\"log\")\n        if not log_dir.is_dir():\n            log_dir.mkdir(parents=True, exist_ok=True)\n        return log_dir\n\n    @property\n    def cache(self) -&gt; Path:\n        \"\"\"\n        Get the cache directory within the output directory. If it does not exist, it is created.\n\n        Returns:\n            Path: The path to the cache directory.\n\n        Example:\n            &gt;&gt;&gt; config = RuntimeConfig()\n            &gt;&gt;&gt; cache_directory = config.cache\n            &gt;&gt;&gt; cache_directory.exists()\n            True\n        \"\"\"\n        cache_dir = self.out_dir.joinpath(\"cache\")\n        if not cache_dir.is_dir():\n            cache_dir.mkdir(parents=True, exist_ok=True)\n        return cache_dir\n\n    def add_volume(\n        self,\n        host_path: Union[str, Path],\n        container_path: Union[str, Path],\n        mode: str = \"rw\",\n    ):\n        \"\"\"\n        Add a volume mapping for the container.\n\n        Args:\n            host_path (Union[str, Path]): The path on the host machine.\n            container_path (Union[str, Path]): The destination path inside the container.\n            mode (str, optional): The mode for the volume mapping (e.g., \"rw\" or \"ro\"). Defaults to \"rw\".\n\n        Returns:\n            None\n\n        Example:\n            &gt;&gt;&gt; config = RuntimeConfig()\n            &gt;&gt;&gt; config.add_volume(\"/host/data\", \"/container/data\", mode=\"rw\")\n            &gt;&gt;&gt; \"/host/data\" in config.volumes\n            True\n        \"\"\"\n        logger.info(f\"Adding volume {host_path} to {container_path} with mode {mode}\")\n        if self.volumes is None:\n            self.volumes = {}\n        self.volumes[str(host_path)] = {\"bind\": str(container_path), \"mode\": mode}\n\n    def add_env(self, key: str, value: str):\n        \"\"\"\n        Add an environment variable for the container.\n\n        Args:\n            key (str): The environment variable name.\n            value (str): The value for the environment variable.\n\n        Returns:\n            None\n\n        Example:\n            &gt;&gt;&gt; config = RuntimeConfig()\n            &gt;&gt;&gt; config.add_env(\"DEBUG\", \"1\")\n            &gt;&gt;&gt; config.env[\"DEBUG\"]\n            '1'\n        \"\"\"\n        logger.info(f\"Adding environment variable {key} with value {value}\")\n        if self.env is None:\n            self.env = {}\n        self.env[key] = value\n</code></pre>"},{"location":"apis/docker/#ures.docker.conf.RuntimeConfig.cache","title":"<code>cache</code>  <code>property</code>","text":"<p>Get the cache directory within the output directory. If it does not exist, it is created.</p> <p>Returns:</p> Name Type Description <code>Path</code> <code>Path</code> <p>The path to the cache directory.</p> Example <p>config = RuntimeConfig() cache_directory = config.cache cache_directory.exists() True</p>"},{"location":"apis/docker/#ures.docker.conf.RuntimeConfig.log_dir","title":"<code>log_dir</code>  <code>property</code>","text":"<p>Get the log directory within the output directory. If it does not exist, it is created.</p> <p>Returns:</p> Name Type Description <code>Path</code> <code>Path</code> <p>The path to the log directory.</p> Example <p>config = RuntimeConfig() log_directory = config.log_dir log_directory.exists() True</p>"},{"location":"apis/docker/#ures.docker.conf.RuntimeConfig.add_env","title":"<code>add_env(key, value)</code>","text":"<p>Add an environment variable for the container.</p> <p>Parameters:</p> Name Type Description Default <code>key</code> <code>str</code> <p>The environment variable name.</p> required <code>value</code> <code>str</code> <p>The value for the environment variable.</p> required <p>Returns:</p> Type Description <p>None</p> Example <p>config = RuntimeConfig() config.add_env(\"DEBUG\", \"1\") config.env[\"DEBUG\"] '1'</p> Source code in <code>ures/docker/conf.py</code> <pre><code>def add_env(self, key: str, value: str):\n    \"\"\"\n    Add an environment variable for the container.\n\n    Args:\n        key (str): The environment variable name.\n        value (str): The value for the environment variable.\n\n    Returns:\n        None\n\n    Example:\n        &gt;&gt;&gt; config = RuntimeConfig()\n        &gt;&gt;&gt; config.add_env(\"DEBUG\", \"1\")\n        &gt;&gt;&gt; config.env[\"DEBUG\"]\n        '1'\n    \"\"\"\n    logger.info(f\"Adding environment variable {key} with value {value}\")\n    if self.env is None:\n        self.env = {}\n    self.env[key] = value\n</code></pre>"},{"location":"apis/docker/#ures.docker.conf.RuntimeConfig.add_volume","title":"<code>add_volume(host_path, container_path, mode='rw')</code>","text":"<p>Add a volume mapping for the container.</p> <p>Parameters:</p> Name Type Description Default <code>host_path</code> <code>Union[str, Path]</code> <p>The path on the host machine.</p> required <code>container_path</code> <code>Union[str, Path]</code> <p>The destination path inside the container.</p> required <code>mode</code> <code>str</code> <p>The mode for the volume mapping (e.g., \"rw\" or \"ro\"). Defaults to \"rw\".</p> <code>'rw'</code> <p>Returns:</p> Type Description <p>None</p> Example <p>config = RuntimeConfig() config.add_volume(\"/host/data\", \"/container/data\", mode=\"rw\") \"/host/data\" in config.volumes True</p> Source code in <code>ures/docker/conf.py</code> <pre><code>def add_volume(\n    self,\n    host_path: Union[str, Path],\n    container_path: Union[str, Path],\n    mode: str = \"rw\",\n):\n    \"\"\"\n    Add a volume mapping for the container.\n\n    Args:\n        host_path (Union[str, Path]): The path on the host machine.\n        container_path (Union[str, Path]): The destination path inside the container.\n        mode (str, optional): The mode for the volume mapping (e.g., \"rw\" or \"ro\"). Defaults to \"rw\".\n\n    Returns:\n        None\n\n    Example:\n        &gt;&gt;&gt; config = RuntimeConfig()\n        &gt;&gt;&gt; config.add_volume(\"/host/data\", \"/container/data\", mode=\"rw\")\n        &gt;&gt;&gt; \"/host/data\" in config.volumes\n        True\n    \"\"\"\n    logger.info(f\"Adding volume {host_path} to {container_path} with mode {mode}\")\n    if self.volumes is None:\n        self.volumes = {}\n    self.volumes[str(host_path)] = {\"bind\": str(container_path), \"mode\": mode}\n</code></pre>"},{"location":"apis/files/","title":"Files Module","text":""},{"location":"apis/files/#ures.files.filter_files","title":"<code>filter_files(part_file_name, directory, fuzz=True)</code>","text":"<p>Retrieve file paths in the specified directory that match a given file name pattern.</p> <p>This function filters file paths within a directory by checking if the file name contains the provided keyword. When 'fuzz' is True, it returns all files that contain the keyword; otherwise, it returns only the files whose name exactly matches the keyword.</p> <p>Parameters:</p> Name Type Description Default <code>part_file_name</code> <code>str</code> <p>The substring or keyword to search for in file names.</p> required <code>directory</code> <code>str</code> <p>The directory path to search in.</p> required <code>fuzz</code> <code>bool</code> <p>If True, returns all files containing the keyword. If False, returns only files with an exact name match. Defaults to True.</p> <code>True</code> <p>Returns:</p> Type Description <code>List[str]</code> <p>List[str]: A list of file paths that match the search criteria.</p> Example Source code in <code>ures/files.py</code> <pre><code>def filter_files(part_file_name: str, directory: str, fuzz: bool = True) -&gt; List[str]:\n    \"\"\"\n    Retrieve file paths in the specified directory that match a given file name pattern.\n\n    This function filters file paths within a directory by checking if the file name contains\n    the provided keyword. When 'fuzz' is True, it returns all files that contain the keyword;\n    otherwise, it returns only the files whose name exactly matches the keyword.\n\n    Args:\n        part_file_name (str): The substring or keyword to search for in file names.\n        directory (str): The directory path to search in.\n        fuzz (bool, optional): If True, returns all files containing the keyword. If False,\n            returns only files with an exact name match. Defaults to True.\n\n    Returns:\n        List[str]: A list of file paths that match the search criteria.\n\n    Example:\n        &gt;&gt;&gt; # Assuming \"/tmp/test\" contains files \"example.txt\" and \"sample.txt\"\n        &gt;&gt;&gt; filter_files(\"exam\", \"/tmp/test\", fuzz=True)\n        ['/tmp/test/example.txt']\n    \"\"\"\n    # Note: Using get_file_paths instead of a non-existent fetch_file_paths.\n    file_paths = get_file_paths(directory)\n    if fuzz:\n        return [\n            str(file_path)\n            for file_path in file_paths\n            if part_file_name in os.path.basename(str(file_path))\n        ]\n    else:\n        return [\n            str(file_path)\n            for file_path in file_paths\n            if part_file_name == os.path.basename(str(file_path))\n        ]\n</code></pre>"},{"location":"apis/files/#ures.files.filter_files--assuming-tmptest-contains-files-exampletxt-and-sampletxt","title":"Assuming \"/tmp/test\" contains files \"example.txt\" and \"sample.txt\"","text":"<p>filter_files(\"exam\", \"/tmp/test\", fuzz=True) ['/tmp/test/example.txt']</p>"},{"location":"apis/files/#ures.files.get_file_paths","title":"<code>get_file_paths(directory)</code>","text":"<p>Retrieve all file paths within the specified directory and its subdirectories.</p> <p>This function walks through the given directory recursively and returns a list of absolute file paths for every file found.</p> <p>Parameters:</p> Name Type Description Default <code>directory</code> <code>str</code> <p>The directory path to search in.</p> required <p>Returns:</p> Type Description <code>List[str]</code> <p>List[str]: A list containing the absolute paths of all files found.</p> Example <p>paths = get_file_paths(\"/path/to/directory\") isinstance(paths, list) True</p> Source code in <code>ures/files.py</code> <pre><code>def get_file_paths(directory: str) -&gt; List[str]:\n    \"\"\"\n    Retrieve all file paths within the specified directory and its subdirectories.\n\n    This function walks through the given directory recursively and returns a list of\n    absolute file paths for every file found.\n\n    Args:\n        directory (str): The directory path to search in.\n\n    Returns:\n        List[str]: A list containing the absolute paths of all files found.\n\n    Example:\n        &gt;&gt;&gt; paths = get_file_paths(\"/path/to/directory\")\n        &gt;&gt;&gt; isinstance(paths, list)\n        True\n    \"\"\"\n    file_paths = []\n    # Walk through the directory and its subdirectories.\n    for root, _, files in os.walk(directory):\n        for file in files:\n            # Join the root path with the file name to get the absolute path.\n            file_path = os.path.join(root, file)\n            file_paths.append(str(file_path))\n    return file_paths\n</code></pre>"},{"location":"apis/files/#ures.files.get_temp_dir_with_specific_path","title":"<code>get_temp_dir_with_specific_path(*args)</code>","text":"<p>Create (if necessary) and return a temporary directory with a specified subpath.</p> <p>This function constructs a path within the system's temporary directory using the provided arguments. If the directory does not already exist, it is created.</p> <p>Parameters:</p> Name Type Description Default <code>*args</code> <p>Variable length arguments that specify the subdirectory path components.</p> <code>()</code> <p>Returns:</p> Name Type Description <code>str</code> <code>str</code> <p>The full path of the temporary directory created or existing.</p> Example <p>temp_dir = get_temp_dir_with_specific_path(\"myapp\", \"cache\") temp_dir.endswith(os.path.join(\"myapp\", \"cache\")) True</p> Source code in <code>ures/files.py</code> <pre><code>def get_temp_dir_with_specific_path(*args) -&gt; str:\n    \"\"\"\n    Create (if necessary) and return a temporary directory with a specified subpath.\n\n    This function constructs a path within the system's temporary directory using the provided\n    arguments. If the directory does not already exist, it is created.\n\n    Args:\n        *args: Variable length arguments that specify the subdirectory path components.\n\n    Returns:\n        str: The full path of the temporary directory created or existing.\n\n    Example:\n        &gt;&gt;&gt; temp_dir = get_temp_dir_with_specific_path(\"myapp\", \"cache\")\n        &gt;&gt;&gt; temp_dir.endswith(os.path.join(\"myapp\", \"cache\"))\n        True\n    \"\"\"\n    temp_dir = tempfile.gettempdir()\n    flame_temp = os.path.join(temp_dir, *args)\n    if not os.path.isdir(flame_temp):\n        os.makedirs(flame_temp, exist_ok=True)\n    return flame_temp\n</code></pre>"},{"location":"apis/files/#ures.files.get_temp_folder","title":"<code>get_temp_folder()</code>","text":"<p>Obtain the path of a new temporary folder.</p> <p>This function creates a temporary directory using Python's tempfile module and returns its path.</p> <p>Returns:</p> Name Type Description <code>str</code> <code>str</code> <p>The path to the newly created temporary folder.</p> Example <p>temp_folder = get_temp_folder() os.path.isdir(temp_folder) True</p> Source code in <code>ures/files.py</code> <pre><code>def get_temp_folder() -&gt; str:\n    \"\"\"\n    Obtain the path of a new temporary folder.\n\n    This function creates a temporary directory using Python's tempfile module and returns\n    its path.\n\n    Returns:\n        str: The path to the newly created temporary folder.\n\n    Example:\n        &gt;&gt;&gt; temp_folder = get_temp_folder()\n        &gt;&gt;&gt; os.path.isdir(temp_folder)\n        True\n    \"\"\"\n    return tempfile.TemporaryDirectory().name\n</code></pre>"},{"location":"apis/files/#ures.files.list_directories","title":"<code>list_directories(path)</code>","text":"<p>List all subdirectories in the specified path.</p> <p>This function checks whether the given path exists and then returns a list of names for each entry in the path that is a directory.</p> <p>Parameters:</p> Name Type Description Default <code>path</code> <code>str</code> <p>The path where directories should be listed.</p> required <p>Returns:</p> Type Description <code>Optional[List[str]]</code> <p>Optional[List[str]]: A list of directory names if the path exists; otherwise, None.</p> Example <p>dirs = list_directories(\"/tmp\") isinstance(dirs, list) or dirs is None True</p> Source code in <code>ures/files.py</code> <pre><code>def list_directories(path: str) -&gt; Optional[List[str]]:\n    \"\"\"\n    List all subdirectories in the specified path.\n\n    This function checks whether the given path exists and then returns a list of names for\n    each entry in the path that is a directory.\n\n    Args:\n        path (str): The path where directories should be listed.\n\n    Returns:\n        Optional[List[str]]: A list of directory names if the path exists; otherwise, None.\n\n    Example:\n        &gt;&gt;&gt; dirs = list_directories(\"/tmp\")\n        &gt;&gt;&gt; isinstance(dirs, list) or dirs is None\n        True\n    \"\"\"\n    # Ensure the path exists.\n    if not os.path.exists(path):\n        print(\"The specified path does not exist.\")\n        return None\n\n    # List all entries in the path.\n    entries = os.listdir(path)\n    directories = [\n        entry for entry in entries if os.path.isdir(os.path.join(path, entry))\n    ]\n    return directories\n</code></pre>"},{"location":"apis/markdown/","title":"Markdown Module","text":""},{"location":"apis/markdown/#ures.markdown.manipulator.MarkdownDocument","title":"<code>MarkdownDocument</code>","text":"<p>A low-level class for manipulating Markdown files with front matter.</p> <p>This class provides methods to add and modify Markdown content and front matter, supporting nested structures in front matter (e.g., dictionaries within YAML front matter).</p> Source code in <code>ures/markdown/manipulator.py</code> <pre><code>class MarkdownDocument:\n    \"\"\"\n    A low-level class for manipulating Markdown files with front matter.\n\n    This class provides methods to add and modify Markdown content and front matter,\n    supporting nested structures in front matter (e.g., dictionaries within YAML front matter).\n    \"\"\"\n\n    MANDATORY_FIELDS: List[AnyStr] = []\n\n    def __init__(self, content: str = \"\", metadata: Optional[Dict[str, Any]] = None):\n        \"\"\"\n        Initializes a new MarkdownDocument instance.\n\n        Args:\n            content (str): The Markdown content. Defaults to an empty string.\n            metadata (Optional[Dict[str, Any]]): The front matter metadata as a dictionary. Defaults to None.\n\n        Example:\n            &gt;&gt;&gt; doc = MarkdownDocument(\n            ...     content=\"# Hello World\",\n            ...     metadata={\"title\": \"Greeting\", \"tags\": [\"intro\", \"welcome\"]}\n            ... )\n        \"\"\"\n        if metadata is None:\n            metadata = {}\n        self.post = frontmatter.Post(content, **metadata)\n\n    @staticmethod\n    def path_preprocess(input_path: Union[str, Path]) -&gt; Path:\n        if isinstance(input_path, str):\n            output_path = Path(input_path)\n        else:\n            output_path = input_path\n        return output_path\n\n    @classmethod\n    def from_file(cls, file_path: Union[Path, str]) -&gt; \"MarkdownDocument\":\n        \"\"\"\n        Creates a MarkdownDocument instance by loading a Markdown file.\n\n        Args:\n            file_path (str): The path to the Markdown file.\n\n        Returns:\n            MarkdownDocument: An instance representing the loaded Markdown file.\n\n        Raises:\n            FileNotFoundError: If the specified file does not exist.\n            frontmatter.InvalidFrontMatterError: If the front matter is malformed.\n        \"\"\"\n        file_path = cls.path_preprocess(file_path)\n        if not file_path.is_file():\n            raise FileNotFoundError(f\"The file '{file_path}' does not exist.\")\n\n        with open(file_path, \"r\", encoding=\"utf-8\") as f:\n            post = frontmatter.load(f)\n        return cls(content=post.content, metadata=deepcopy(post.metadata))\n\n    @property\n    def content(self) -&gt; str:\n        \"\"\"\n        Retrieves the Markdown content.\n\n        Returns:\n            str: The Markdown content.\n\n        Example:\n            &gt;&gt;&gt; doc = MarkdownDocument(content=\"# Hello World\")\n            &gt;&gt;&gt; doc.content\n            \"# Hello World\"\n        \"\"\"\n        return self.post.content\n\n    @content.setter\n    def content(self, new_content: str) -&gt; None:\n        \"\"\"\n        Sets the Markdown content.\n\n        Args:\n            new_content (str): The new Markdown content.\n\n        Example:\n            &gt;&gt;&gt; doc = MarkdownDocument()\n            &gt;&gt;&gt; doc.content = \"# New Title\"\n        \"\"\"\n        self.post.content = new_content\n\n    @property\n    def metadata(self) -&gt; Dict[str, Any]:\n        \"\"\"\n        Retrieves the front matter metadata.\n\n        Returns:\n            Dict[str, Any]: The metadata dictionary.\n\n        Example:\n            &gt;&gt;&gt; doc = MarkdownDocument(metadata={\"title\": \"Greeting\", \"tags\": [\"intro\", \"welcome\"]})\n            &gt;&gt;&gt; doc.metadata\n            {\"title\": \"Greeting\", \"tags\": [\"intro\", \"welcome\"]}\n        \"\"\"\n        return self.post.metadata\n\n    @metadata.setter\n    def metadata(self, new_metadata: Dict[str, Any]) -&gt; None:\n        \"\"\"\n        Sets the front matter metadata.\n\n        Args:\n            new_metadata (Dict[str, Any]): The new metadata dictionary.\n\n        Example:\n            &gt;&gt;&gt; doc = MarkdownDocument()\n            &gt;&gt;&gt; doc.metadata = {\"title\": \"New Greeting\", \"tags\": [\"updated\"]}\n        \"\"\"\n        self.post.metadata = new_metadata\n\n    def add_content(self, content: str, append: bool = True) -&gt; None:\n        \"\"\"\n        Adds content to the Markdown document.\n\n        Args:\n            content (str): The Markdown content to add.\n            append (bool): If True, appends to existing content; otherwise, prepends.\n                           Defaults to True.\n\n        Example:\n            &gt;&gt;&gt; doc = MarkdownDocument()\n            &gt;&gt;&gt; doc.add_content(\"# Introduction\")\n            &gt;&gt;&gt; doc.add_content(\"Some introductory text.\", append=True)\n        \"\"\"\n        if append:\n            if self.post.content:\n                self.post.content += \"\\n\" + content\n            else:\n                self.post.content = content\n        else:\n            if self.post.content:\n                self.post.content = content + \"\\n\" + self.post.content\n            else:\n                self.post.content = content\n\n    def set_frontmatter(\n        self, key_path: str, value: Any, overwrite: bool = True\n    ) -&gt; None:\n        \"\"\"\n        Sets a front matter key to a specified value. Supports nested keys using dot notation,\n        including mixed types such as dictionaries within lists.\n\n        Args:\n            key_path (str): The front matter key path. Use dot notation for nested keys\n                            (e.g., \"author.name\" or \"sections.0.title\").\n            value (Any): The value to set for the key.\n            overwrite (bool): If True, overwrites the existing value; otherwise, appends to lists\n                              or creates new entries in lists. Defaults to True.\n\n        Example:\n            &gt;&gt;&gt; doc = MarkdownDocument()\n            &gt;&gt;&gt; doc.set_frontmatter(\"author.name\", \"John Doe\")\n            &gt;&gt;&gt; doc.set_frontmatter(\"author.contact.email\", \"john@example.com\")\n            &gt;&gt;&gt; doc.set_frontmatter(\"sections.0.title\", \"Introduction\")\n            &gt;&gt;&gt; doc.set_frontmatter(\"sections.0.content\", \"Welcome to the introduction.\")\n            &gt;&gt;&gt; doc.set_frontmatter(\"sections.1.title\", \"Conclusion\")\n            &gt;&gt;&gt; doc.set_frontmatter(\"sections.1.content\", \"Wrapping up.\")\n        \"\"\"\n        keys = key_path.split(\".\")\n        current = self.post.metadata\n\n        for i, key in enumerate(keys):\n            is_last = i == len(keys) - 1\n            # Determine if the current key is meant to be a list index\n            if key.isdigit():\n                index = int(key)\n                if not isinstance(current, list):\n                    if overwrite:\n                        # Initialize as list\n                        parent = self.post.metadata\n                        for k in keys[:i]:\n                            if k.isdigit():\n                                parent = parent[int(k)]\n                            else:\n                                parent = parent[k]\n                        parent[int(keys[i - 1])] = []\n                        current = parent[int(keys[i - 1])]\n                    else:\n                        raise TypeError(\n                            f\"Expected list at {'.'.join(keys[:i])}, found {type(current).__name__}\"\n                        )\n                # Extend the list if necessary\n                while len(current) &lt;= index:\n                    current.append({})\n                if is_last:\n                    if isinstance(current[index], list) and not overwrite:\n                        current[index].append(value)\n                    elif isinstance(current[index], dict):\n                        if isinstance(value, dict):\n                            current[index].update(value)\n                        else:\n                            current[index][\"value\"] = value\n                    elif not overwrite:\n                        current[index] = [current[index], value]\n                    else:\n                        current[index] = value\n                else:\n                    if not isinstance(current[index], (dict, list)):\n                        # Initialize as dict or list based on next key\n                        next_key = keys[i + 1]\n                        if next_key.isdigit():\n                            current[index] = []\n                        else:\n                            current[index] = {}\n                    current = current[index]\n            else:\n                if not isinstance(current, dict):\n                    if overwrite:\n                        # Initialize as dict\n                        parent = self.post.metadata\n                        for k in keys[:i]:\n                            if k.isdigit():\n                                parent = parent[int(k)]\n                            else:\n                                parent = parent[k]\n                        parent[keys[i - 1]] = {}\n                        current = parent[keys[i - 1]]\n                    else:\n                        raise TypeError(\n                            f\"Expected dict at {'.'.join(keys[:i])}, found {type(current).__name__}\"\n                        )\n                if is_last:\n                    if key in current:\n                        if isinstance(current[key], list) and not overwrite:\n                            current[key].append(value)\n                        elif isinstance(current[key], dict):\n                            if isinstance(value, dict):\n                                current[key].update(value)\n                            else:\n                                current[key][\"value\"] = value\n                        elif not overwrite:\n                            current[key] = [current[key], value]\n                        else:\n                            current[key] = value\n                    else:\n                        current[key] = value\n                else:\n                    if key not in current or not isinstance(current[key], (dict, list)):\n                        # Initialize as dict or list based on next key\n                        next_key = keys[i + 1]\n                        if next_key.isdigit():\n                            current[key] = []\n                        else:\n                            current[key] = {}\n                    current = current[key]\n\n    def get_frontmatter(self, key_path: str) -&gt; Any:\n        \"\"\"\n        Retrieves the value of a front matter key. Supports nested keys using dot notation,\n        including list indices.\n\n        Args:\n            key_path (str): The front matter key path. Use dot notation for nested keys\n                            (e.g., \"author.name\" or \"sections.0.title\").\n\n        Returns:\n            Any: The value associated with the key, or None if the key does not exist.\n\n        Example:\n            &gt;&gt;&gt; doc = MarkdownDocument(\n            ...     metadata={\n            ...         \"author\": {\"name\": \"John Doe\", \"contact\": {\"email\": \"john@example.com\"}},\n            ...         \"sections\": [\n            ...             {\"title\": \"Introduction\", \"content\": \"Welcome.\"},\n            ...             {\"title\": \"Conclusion\", \"content\": \"Goodbye.\"}\n            ...         ]\n            ...     }\n            ... )\n            &gt;&gt;&gt; doc.get_frontmatter(\"author.name\")\n            \"John Doe\"\n            &gt;&gt;&gt; doc.get_frontmatter(\"sections.0.title\")\n            \"Introduction\"\n            &gt;&gt;&gt; doc.get_frontmatter(\"sections.1.content\")\n            \"Goodbye.\"\n        \"\"\"\n        keys = key_path.split(\".\")\n        metadata = self.post.metadata\n\n        for key in keys:\n            if isinstance(metadata, dict):\n                metadata = metadata.get(key, None)\n            elif isinstance(metadata, list):\n                if key.isdigit():\n                    index = int(key)\n                    if 0 &lt;= index &lt; len(metadata):\n                        metadata = metadata[index]\n                    else:\n                        return None\n                else:\n                    return None\n            else:\n                return None\n\n            if metadata is None:\n                return None\n\n        return metadata\n\n    def remove_frontmatter(self, key_path: str) -&gt; None:\n        \"\"\"\n        Removes a front matter key. Supports nested keys using dot notation,\n        including list indices.\n\n        Args:\n            key_path (str): The front matter key path to remove. Use dot notation for nested keys\n                            (e.g., \"author.contact.email\" or \"sections.0.title\").\n\n        Example:\n            &gt;&gt;&gt; doc = MarkdownDocument(\n            ...     metadata={\n            ...         \"author\": {\"name\": \"John Doe\", \"contact\": {\"email\": \"john@example.com\"}},\n            ...         \"sections\": [\n            ...             {\"title\": \"Introduction\", \"content\": \"Welcome.\"},\n            ...             {\"title\": \"Conclusion\", \"content\": \"Goodbye.\"}\n            ...         ]\n            ...     }\n            ... )\n            &gt;&gt;&gt; doc.remove_frontmatter(\"author.contact.email\")\n            &gt;&gt;&gt; doc.get_frontmatter(\"author.contact.email\") is None\n            True\n            &gt;&gt;&gt; doc.remove_frontmatter(\"sections.1.title\")\n            &gt;&gt;&gt; doc.get_frontmatter(\"sections.1.title\") is None\n            True\n        \"\"\"\n        keys = key_path.split(\".\")\n        metadata = self.post.metadata\n\n        for i, key in enumerate(keys):\n            is_last = i == len(keys) - 1\n            if isinstance(metadata, dict):\n                if key not in metadata:\n                    return  # Key path does not exist; nothing to remove\n                if is_last:\n                    del metadata[key]\n                    return\n                metadata = metadata[key]\n            elif isinstance(metadata, list):\n                if key.isdigit():\n                    index = int(key)\n                    if 0 &lt;= index &lt; len(metadata):\n                        if is_last:\n                            del metadata[index]\n                            return\n                        metadata = metadata[index]\n                    else:\n                        return  # Index out of range; nothing to remove\n                else:\n                    return  # Invalid key for list; nothing to remove\n            else:\n                return  # Neither dict nor list; nothing to remove\n\n    def to_markdown(self) -&gt; str:\n        \"\"\"\n        Serializes the MarkdownDocument to a Markdown-formatted string, including front matter.\n\n        Returns:\n            str: The complete Markdown content with front matter.\n\n        ERROR:\n            ValueError: If the front matter is missing mandatory fields.\n\n        Example:\n            &gt;&gt;&gt; doc = MarkdownDocument(\n            ...     content=\"# Hello World\",\n            ...     metadata={\"title\": \"Greeting\", \"tags\": [\"intro\", \"welcome\"]}\n            ... )\n            &gt;&gt;&gt; print(doc.to_markdown())\n            ---\n            title: Greeting\n            tags:\n              - intro\n              - welcome\n            ---\n\n            # Hello World\n        \"\"\"\n        self.validation_frontmatter()\n        return frontmatter.dumps(self.post)\n\n    def save(self, file_path: Union[Path, str]) -&gt; None:\n        \"\"\"\n        Saves the MarkdownDocument to a specified file.\n\n        Args:\n            file_path (str): The path where the Markdown file will be saved.\n\n        Example:\n            &gt;&gt;&gt; doc = MarkdownDocument(\n            ...     content=\"# Hello World\",\n            ...     metadata={\"title\": \"Greeting\", \"tags\": [\"intro\", \"welcome\"]}\n            ... )\n            &gt;&gt;&gt; doc.save_to_file(\"greeting.md\")\n        \"\"\"\n        file_path = self.path_preprocess(file_path)\n        markdown_str = self.to_markdown()\n        with open(file_path, \"w\", encoding=\"utf-8\") as f:\n            f.write(markdown_str)\n\n    def load_from_file(self, file_path: Union[Path, str]) -&gt; None:\n        \"\"\"\n        Loads Markdown content and front matter from a specified file into the current instance.\n\n        Args:\n            file_path (str): The path to the Markdown file to load.\n\n        Raises:\n            FileNotFoundError: If the specified file does not exist.\n            frontmatter.InvalidFrontMatterError: If the front matter is malformed.\n\n        Example:\n            &gt;&gt;&gt; doc = MarkdownDocument()\n            &gt;&gt;&gt; doc.load_from_file(\"existing.md\")\n        \"\"\"\n        file_path = self.path_preprocess(file_path)\n        if not os.path.isfile(file_path):\n            raise FileNotFoundError(f\"The file '{file_path}' does not exist.\")\n\n        with open(file_path, \"r\", encoding=\"utf-8\") as f:\n            post = frontmatter.load(f)\n\n        self.post.content = post.content\n        self.post.metadata = deepcopy(post.metadata)\n\n    def clear_content(self) -&gt; None:\n        \"\"\"\n        Clears all Markdown content, leaving only the front matter.\n\n        Example:\n            &gt;&gt;&gt; doc = MarkdownDocument(content=\"# Hello World\")\n            &gt;&gt;&gt; doc.clear_content()\n            &gt;&gt;&gt; print(doc.content)\n            \"\"\n        \"\"\"\n        self.post.content = \"\"\n\n    def clear_frontmatter(self) -&gt; None:\n        \"\"\"\n        Clears all front matter metadata, leaving only the Markdown content.\n\n        Example:\n            &gt;&gt;&gt; doc = MarkdownDocument(\n            ...     content=\"# Hello World\",\n            ...     metadata={\"title\": \"Greeting\", \"tags\": [\"intro\", \"welcome\"]}\n            ... )\n            &gt;&gt;&gt; doc.clear_frontmatter()\n            &gt;&gt;&gt; print(doc.metadata)\n            {}\n        \"\"\"\n        self.post.metadata = {}\n\n    def validation_frontmatter(self):\n        \"\"\"\n        Validate the frontmatter metadata against the mandatory fields.\n        \"\"\"\n        missing_fields = []\n        for field in self.MANDATORY_FIELDS:\n            if self.get_frontmatter(field) is None:\n                missing_fields.append(field)\n\n        if missing_fields:\n            missing = \", \".join(missing_fields)\n            raise ValueError(f\"Missing mandatory front matter fields: {missing}\")\n</code></pre>"},{"location":"apis/markdown/#ures.markdown.manipulator.MarkdownDocument.content","title":"<code>content</code>  <code>property</code> <code>writable</code>","text":"<p>Retrieves the Markdown content.</p> <p>Returns:</p> Name Type Description <code>str</code> <code>str</code> <p>The Markdown content.</p> Example <p>doc = MarkdownDocument(content=\"# Hello World\") doc.content \"# Hello World\"</p>"},{"location":"apis/markdown/#ures.markdown.manipulator.MarkdownDocument.metadata","title":"<code>metadata</code>  <code>property</code> <code>writable</code>","text":"<p>Retrieves the front matter metadata.</p> <p>Returns:</p> Type Description <code>Dict[str, Any]</code> <p>Dict[str, Any]: The metadata dictionary.</p> Example <p>doc = MarkdownDocument(metadata={\"title\": \"Greeting\", \"tags\": [\"intro\", \"welcome\"]}) doc.metadata {\"title\": \"Greeting\", \"tags\": [\"intro\", \"welcome\"]}</p>"},{"location":"apis/markdown/#ures.markdown.manipulator.MarkdownDocument.__init__","title":"<code>__init__(content='', metadata=None)</code>","text":"<p>Initializes a new MarkdownDocument instance.</p> <p>Parameters:</p> Name Type Description Default <code>content</code> <code>str</code> <p>The Markdown content. Defaults to an empty string.</p> <code>''</code> <code>metadata</code> <code>Optional[Dict[str, Any]]</code> <p>The front matter metadata as a dictionary. Defaults to None.</p> <code>None</code> Example <p>doc = MarkdownDocument( ...     content=\"# Hello World\", ...     metadata={\"title\": \"Greeting\", \"tags\": [\"intro\", \"welcome\"]} ... )</p> Source code in <code>ures/markdown/manipulator.py</code> <pre><code>def __init__(self, content: str = \"\", metadata: Optional[Dict[str, Any]] = None):\n    \"\"\"\n    Initializes a new MarkdownDocument instance.\n\n    Args:\n        content (str): The Markdown content. Defaults to an empty string.\n        metadata (Optional[Dict[str, Any]]): The front matter metadata as a dictionary. Defaults to None.\n\n    Example:\n        &gt;&gt;&gt; doc = MarkdownDocument(\n        ...     content=\"# Hello World\",\n        ...     metadata={\"title\": \"Greeting\", \"tags\": [\"intro\", \"welcome\"]}\n        ... )\n    \"\"\"\n    if metadata is None:\n        metadata = {}\n    self.post = frontmatter.Post(content, **metadata)\n</code></pre>"},{"location":"apis/markdown/#ures.markdown.manipulator.MarkdownDocument.add_content","title":"<code>add_content(content, append=True)</code>","text":"<p>Adds content to the Markdown document.</p> <p>Parameters:</p> Name Type Description Default <code>content</code> <code>str</code> <p>The Markdown content to add.</p> required <code>append</code> <code>bool</code> <p>If True, appends to existing content; otherwise, prepends.            Defaults to True.</p> <code>True</code> Example <p>doc = MarkdownDocument() doc.add_content(\"# Introduction\") doc.add_content(\"Some introductory text.\", append=True)</p> Source code in <code>ures/markdown/manipulator.py</code> <pre><code>def add_content(self, content: str, append: bool = True) -&gt; None:\n    \"\"\"\n    Adds content to the Markdown document.\n\n    Args:\n        content (str): The Markdown content to add.\n        append (bool): If True, appends to existing content; otherwise, prepends.\n                       Defaults to True.\n\n    Example:\n        &gt;&gt;&gt; doc = MarkdownDocument()\n        &gt;&gt;&gt; doc.add_content(\"# Introduction\")\n        &gt;&gt;&gt; doc.add_content(\"Some introductory text.\", append=True)\n    \"\"\"\n    if append:\n        if self.post.content:\n            self.post.content += \"\\n\" + content\n        else:\n            self.post.content = content\n    else:\n        if self.post.content:\n            self.post.content = content + \"\\n\" + self.post.content\n        else:\n            self.post.content = content\n</code></pre>"},{"location":"apis/markdown/#ures.markdown.manipulator.MarkdownDocument.clear_content","title":"<code>clear_content()</code>","text":"<p>Clears all Markdown content, leaving only the front matter.</p> Example <p>doc = MarkdownDocument(content=\"# Hello World\") doc.clear_content() print(doc.content) \"\"</p> Source code in <code>ures/markdown/manipulator.py</code> <pre><code>def clear_content(self) -&gt; None:\n    \"\"\"\n    Clears all Markdown content, leaving only the front matter.\n\n    Example:\n        &gt;&gt;&gt; doc = MarkdownDocument(content=\"# Hello World\")\n        &gt;&gt;&gt; doc.clear_content()\n        &gt;&gt;&gt; print(doc.content)\n        \"\"\n    \"\"\"\n    self.post.content = \"\"\n</code></pre>"},{"location":"apis/markdown/#ures.markdown.manipulator.MarkdownDocument.clear_frontmatter","title":"<code>clear_frontmatter()</code>","text":"<p>Clears all front matter metadata, leaving only the Markdown content.</p> Example <p>doc = MarkdownDocument( ...     content=\"# Hello World\", ...     metadata={\"title\": \"Greeting\", \"tags\": [\"intro\", \"welcome\"]} ... ) doc.clear_frontmatter() print(doc.metadata) {}</p> Source code in <code>ures/markdown/manipulator.py</code> <pre><code>def clear_frontmatter(self) -&gt; None:\n    \"\"\"\n    Clears all front matter metadata, leaving only the Markdown content.\n\n    Example:\n        &gt;&gt;&gt; doc = MarkdownDocument(\n        ...     content=\"# Hello World\",\n        ...     metadata={\"title\": \"Greeting\", \"tags\": [\"intro\", \"welcome\"]}\n        ... )\n        &gt;&gt;&gt; doc.clear_frontmatter()\n        &gt;&gt;&gt; print(doc.metadata)\n        {}\n    \"\"\"\n    self.post.metadata = {}\n</code></pre>"},{"location":"apis/markdown/#ures.markdown.manipulator.MarkdownDocument.from_file","title":"<code>from_file(file_path)</code>  <code>classmethod</code>","text":"<p>Creates a MarkdownDocument instance by loading a Markdown file.</p> <p>Parameters:</p> Name Type Description Default <code>file_path</code> <code>str</code> <p>The path to the Markdown file.</p> required <p>Returns:</p> Name Type Description <code>MarkdownDocument</code> <code>MarkdownDocument</code> <p>An instance representing the loaded Markdown file.</p> <p>Raises:</p> Type Description <code>FileNotFoundError</code> <p>If the specified file does not exist.</p> <code>InvalidFrontMatterError</code> <p>If the front matter is malformed.</p> Source code in <code>ures/markdown/manipulator.py</code> <pre><code>@classmethod\ndef from_file(cls, file_path: Union[Path, str]) -&gt; \"MarkdownDocument\":\n    \"\"\"\n    Creates a MarkdownDocument instance by loading a Markdown file.\n\n    Args:\n        file_path (str): The path to the Markdown file.\n\n    Returns:\n        MarkdownDocument: An instance representing the loaded Markdown file.\n\n    Raises:\n        FileNotFoundError: If the specified file does not exist.\n        frontmatter.InvalidFrontMatterError: If the front matter is malformed.\n    \"\"\"\n    file_path = cls.path_preprocess(file_path)\n    if not file_path.is_file():\n        raise FileNotFoundError(f\"The file '{file_path}' does not exist.\")\n\n    with open(file_path, \"r\", encoding=\"utf-8\") as f:\n        post = frontmatter.load(f)\n    return cls(content=post.content, metadata=deepcopy(post.metadata))\n</code></pre>"},{"location":"apis/markdown/#ures.markdown.manipulator.MarkdownDocument.get_frontmatter","title":"<code>get_frontmatter(key_path)</code>","text":"<p>Retrieves the value of a front matter key. Supports nested keys using dot notation, including list indices.</p> <p>Parameters:</p> Name Type Description Default <code>key_path</code> <code>str</code> <p>The front matter key path. Use dot notation for nested keys             (e.g., \"author.name\" or \"sections.0.title\").</p> required <p>Returns:</p> Name Type Description <code>Any</code> <code>Any</code> <p>The value associated with the key, or None if the key does not exist.</p> Example <p>doc = MarkdownDocument( ...     metadata={ ...         \"author\": {\"name\": \"John Doe\", \"contact\": {\"email\": \"john@example.com\"}}, ...         \"sections\": [ ...             {\"title\": \"Introduction\", \"content\": \"Welcome.\"}, ...             {\"title\": \"Conclusion\", \"content\": \"Goodbye.\"} ...         ] ...     } ... ) doc.get_frontmatter(\"author.name\") \"John Doe\" doc.get_frontmatter(\"sections.0.title\") \"Introduction\" doc.get_frontmatter(\"sections.1.content\") \"Goodbye.\"</p> Source code in <code>ures/markdown/manipulator.py</code> <pre><code>def get_frontmatter(self, key_path: str) -&gt; Any:\n    \"\"\"\n    Retrieves the value of a front matter key. Supports nested keys using dot notation,\n    including list indices.\n\n    Args:\n        key_path (str): The front matter key path. Use dot notation for nested keys\n                        (e.g., \"author.name\" or \"sections.0.title\").\n\n    Returns:\n        Any: The value associated with the key, or None if the key does not exist.\n\n    Example:\n        &gt;&gt;&gt; doc = MarkdownDocument(\n        ...     metadata={\n        ...         \"author\": {\"name\": \"John Doe\", \"contact\": {\"email\": \"john@example.com\"}},\n        ...         \"sections\": [\n        ...             {\"title\": \"Introduction\", \"content\": \"Welcome.\"},\n        ...             {\"title\": \"Conclusion\", \"content\": \"Goodbye.\"}\n        ...         ]\n        ...     }\n        ... )\n        &gt;&gt;&gt; doc.get_frontmatter(\"author.name\")\n        \"John Doe\"\n        &gt;&gt;&gt; doc.get_frontmatter(\"sections.0.title\")\n        \"Introduction\"\n        &gt;&gt;&gt; doc.get_frontmatter(\"sections.1.content\")\n        \"Goodbye.\"\n    \"\"\"\n    keys = key_path.split(\".\")\n    metadata = self.post.metadata\n\n    for key in keys:\n        if isinstance(metadata, dict):\n            metadata = metadata.get(key, None)\n        elif isinstance(metadata, list):\n            if key.isdigit():\n                index = int(key)\n                if 0 &lt;= index &lt; len(metadata):\n                    metadata = metadata[index]\n                else:\n                    return None\n            else:\n                return None\n        else:\n            return None\n\n        if metadata is None:\n            return None\n\n    return metadata\n</code></pre>"},{"location":"apis/markdown/#ures.markdown.manipulator.MarkdownDocument.load_from_file","title":"<code>load_from_file(file_path)</code>","text":"<p>Loads Markdown content and front matter from a specified file into the current instance.</p> <p>Parameters:</p> Name Type Description Default <code>file_path</code> <code>str</code> <p>The path to the Markdown file to load.</p> required <p>Raises:</p> Type Description <code>FileNotFoundError</code> <p>If the specified file does not exist.</p> <code>InvalidFrontMatterError</code> <p>If the front matter is malformed.</p> Example <p>doc = MarkdownDocument() doc.load_from_file(\"existing.md\")</p> Source code in <code>ures/markdown/manipulator.py</code> <pre><code>def load_from_file(self, file_path: Union[Path, str]) -&gt; None:\n    \"\"\"\n    Loads Markdown content and front matter from a specified file into the current instance.\n\n    Args:\n        file_path (str): The path to the Markdown file to load.\n\n    Raises:\n        FileNotFoundError: If the specified file does not exist.\n        frontmatter.InvalidFrontMatterError: If the front matter is malformed.\n\n    Example:\n        &gt;&gt;&gt; doc = MarkdownDocument()\n        &gt;&gt;&gt; doc.load_from_file(\"existing.md\")\n    \"\"\"\n    file_path = self.path_preprocess(file_path)\n    if not os.path.isfile(file_path):\n        raise FileNotFoundError(f\"The file '{file_path}' does not exist.\")\n\n    with open(file_path, \"r\", encoding=\"utf-8\") as f:\n        post = frontmatter.load(f)\n\n    self.post.content = post.content\n    self.post.metadata = deepcopy(post.metadata)\n</code></pre>"},{"location":"apis/markdown/#ures.markdown.manipulator.MarkdownDocument.remove_frontmatter","title":"<code>remove_frontmatter(key_path)</code>","text":"<p>Removes a front matter key. Supports nested keys using dot notation, including list indices.</p> <p>Parameters:</p> Name Type Description Default <code>key_path</code> <code>str</code> <p>The front matter key path to remove. Use dot notation for nested keys             (e.g., \"author.contact.email\" or \"sections.0.title\").</p> required Example <p>doc = MarkdownDocument( ...     metadata={ ...         \"author\": {\"name\": \"John Doe\", \"contact\": {\"email\": \"john@example.com\"}}, ...         \"sections\": [ ...             {\"title\": \"Introduction\", \"content\": \"Welcome.\"}, ...             {\"title\": \"Conclusion\", \"content\": \"Goodbye.\"} ...         ] ...     } ... ) doc.remove_frontmatter(\"author.contact.email\") doc.get_frontmatter(\"author.contact.email\") is None True doc.remove_frontmatter(\"sections.1.title\") doc.get_frontmatter(\"sections.1.title\") is None True</p> Source code in <code>ures/markdown/manipulator.py</code> <pre><code>def remove_frontmatter(self, key_path: str) -&gt; None:\n    \"\"\"\n    Removes a front matter key. Supports nested keys using dot notation,\n    including list indices.\n\n    Args:\n        key_path (str): The front matter key path to remove. Use dot notation for nested keys\n                        (e.g., \"author.contact.email\" or \"sections.0.title\").\n\n    Example:\n        &gt;&gt;&gt; doc = MarkdownDocument(\n        ...     metadata={\n        ...         \"author\": {\"name\": \"John Doe\", \"contact\": {\"email\": \"john@example.com\"}},\n        ...         \"sections\": [\n        ...             {\"title\": \"Introduction\", \"content\": \"Welcome.\"},\n        ...             {\"title\": \"Conclusion\", \"content\": \"Goodbye.\"}\n        ...         ]\n        ...     }\n        ... )\n        &gt;&gt;&gt; doc.remove_frontmatter(\"author.contact.email\")\n        &gt;&gt;&gt; doc.get_frontmatter(\"author.contact.email\") is None\n        True\n        &gt;&gt;&gt; doc.remove_frontmatter(\"sections.1.title\")\n        &gt;&gt;&gt; doc.get_frontmatter(\"sections.1.title\") is None\n        True\n    \"\"\"\n    keys = key_path.split(\".\")\n    metadata = self.post.metadata\n\n    for i, key in enumerate(keys):\n        is_last = i == len(keys) - 1\n        if isinstance(metadata, dict):\n            if key not in metadata:\n                return  # Key path does not exist; nothing to remove\n            if is_last:\n                del metadata[key]\n                return\n            metadata = metadata[key]\n        elif isinstance(metadata, list):\n            if key.isdigit():\n                index = int(key)\n                if 0 &lt;= index &lt; len(metadata):\n                    if is_last:\n                        del metadata[index]\n                        return\n                    metadata = metadata[index]\n                else:\n                    return  # Index out of range; nothing to remove\n            else:\n                return  # Invalid key for list; nothing to remove\n        else:\n            return  # Neither dict nor list; nothing to remove\n</code></pre>"},{"location":"apis/markdown/#ures.markdown.manipulator.MarkdownDocument.save","title":"<code>save(file_path)</code>","text":"<p>Saves the MarkdownDocument to a specified file.</p> <p>Parameters:</p> Name Type Description Default <code>file_path</code> <code>str</code> <p>The path where the Markdown file will be saved.</p> required Example <p>doc = MarkdownDocument( ...     content=\"# Hello World\", ...     metadata={\"title\": \"Greeting\", \"tags\": [\"intro\", \"welcome\"]} ... ) doc.save_to_file(\"greeting.md\")</p> Source code in <code>ures/markdown/manipulator.py</code> <pre><code>def save(self, file_path: Union[Path, str]) -&gt; None:\n    \"\"\"\n    Saves the MarkdownDocument to a specified file.\n\n    Args:\n        file_path (str): The path where the Markdown file will be saved.\n\n    Example:\n        &gt;&gt;&gt; doc = MarkdownDocument(\n        ...     content=\"# Hello World\",\n        ...     metadata={\"title\": \"Greeting\", \"tags\": [\"intro\", \"welcome\"]}\n        ... )\n        &gt;&gt;&gt; doc.save_to_file(\"greeting.md\")\n    \"\"\"\n    file_path = self.path_preprocess(file_path)\n    markdown_str = self.to_markdown()\n    with open(file_path, \"w\", encoding=\"utf-8\") as f:\n        f.write(markdown_str)\n</code></pre>"},{"location":"apis/markdown/#ures.markdown.manipulator.MarkdownDocument.set_frontmatter","title":"<code>set_frontmatter(key_path, value, overwrite=True)</code>","text":"<p>Sets a front matter key to a specified value. Supports nested keys using dot notation, including mixed types such as dictionaries within lists.</p> <p>Parameters:</p> Name Type Description Default <code>key_path</code> <code>str</code> <p>The front matter key path. Use dot notation for nested keys             (e.g., \"author.name\" or \"sections.0.title\").</p> required <code>value</code> <code>Any</code> <p>The value to set for the key.</p> required <code>overwrite</code> <code>bool</code> <p>If True, overwrites the existing value; otherwise, appends to lists               or creates new entries in lists. Defaults to True.</p> <code>True</code> Example <p>doc = MarkdownDocument() doc.set_frontmatter(\"author.name\", \"John Doe\") doc.set_frontmatter(\"author.contact.email\", \"john@example.com\") doc.set_frontmatter(\"sections.0.title\", \"Introduction\") doc.set_frontmatter(\"sections.0.content\", \"Welcome to the introduction.\") doc.set_frontmatter(\"sections.1.title\", \"Conclusion\") doc.set_frontmatter(\"sections.1.content\", \"Wrapping up.\")</p> Source code in <code>ures/markdown/manipulator.py</code> <pre><code>def set_frontmatter(\n    self, key_path: str, value: Any, overwrite: bool = True\n) -&gt; None:\n    \"\"\"\n    Sets a front matter key to a specified value. Supports nested keys using dot notation,\n    including mixed types such as dictionaries within lists.\n\n    Args:\n        key_path (str): The front matter key path. Use dot notation for nested keys\n                        (e.g., \"author.name\" or \"sections.0.title\").\n        value (Any): The value to set for the key.\n        overwrite (bool): If True, overwrites the existing value; otherwise, appends to lists\n                          or creates new entries in lists. Defaults to True.\n\n    Example:\n        &gt;&gt;&gt; doc = MarkdownDocument()\n        &gt;&gt;&gt; doc.set_frontmatter(\"author.name\", \"John Doe\")\n        &gt;&gt;&gt; doc.set_frontmatter(\"author.contact.email\", \"john@example.com\")\n        &gt;&gt;&gt; doc.set_frontmatter(\"sections.0.title\", \"Introduction\")\n        &gt;&gt;&gt; doc.set_frontmatter(\"sections.0.content\", \"Welcome to the introduction.\")\n        &gt;&gt;&gt; doc.set_frontmatter(\"sections.1.title\", \"Conclusion\")\n        &gt;&gt;&gt; doc.set_frontmatter(\"sections.1.content\", \"Wrapping up.\")\n    \"\"\"\n    keys = key_path.split(\".\")\n    current = self.post.metadata\n\n    for i, key in enumerate(keys):\n        is_last = i == len(keys) - 1\n        # Determine if the current key is meant to be a list index\n        if key.isdigit():\n            index = int(key)\n            if not isinstance(current, list):\n                if overwrite:\n                    # Initialize as list\n                    parent = self.post.metadata\n                    for k in keys[:i]:\n                        if k.isdigit():\n                            parent = parent[int(k)]\n                        else:\n                            parent = parent[k]\n                    parent[int(keys[i - 1])] = []\n                    current = parent[int(keys[i - 1])]\n                else:\n                    raise TypeError(\n                        f\"Expected list at {'.'.join(keys[:i])}, found {type(current).__name__}\"\n                    )\n            # Extend the list if necessary\n            while len(current) &lt;= index:\n                current.append({})\n            if is_last:\n                if isinstance(current[index], list) and not overwrite:\n                    current[index].append(value)\n                elif isinstance(current[index], dict):\n                    if isinstance(value, dict):\n                        current[index].update(value)\n                    else:\n                        current[index][\"value\"] = value\n                elif not overwrite:\n                    current[index] = [current[index], value]\n                else:\n                    current[index] = value\n            else:\n                if not isinstance(current[index], (dict, list)):\n                    # Initialize as dict or list based on next key\n                    next_key = keys[i + 1]\n                    if next_key.isdigit():\n                        current[index] = []\n                    else:\n                        current[index] = {}\n                current = current[index]\n        else:\n            if not isinstance(current, dict):\n                if overwrite:\n                    # Initialize as dict\n                    parent = self.post.metadata\n                    for k in keys[:i]:\n                        if k.isdigit():\n                            parent = parent[int(k)]\n                        else:\n                            parent = parent[k]\n                    parent[keys[i - 1]] = {}\n                    current = parent[keys[i - 1]]\n                else:\n                    raise TypeError(\n                        f\"Expected dict at {'.'.join(keys[:i])}, found {type(current).__name__}\"\n                    )\n            if is_last:\n                if key in current:\n                    if isinstance(current[key], list) and not overwrite:\n                        current[key].append(value)\n                    elif isinstance(current[key], dict):\n                        if isinstance(value, dict):\n                            current[key].update(value)\n                        else:\n                            current[key][\"value\"] = value\n                    elif not overwrite:\n                        current[key] = [current[key], value]\n                    else:\n                        current[key] = value\n                else:\n                    current[key] = value\n            else:\n                if key not in current or not isinstance(current[key], (dict, list)):\n                    # Initialize as dict or list based on next key\n                    next_key = keys[i + 1]\n                    if next_key.isdigit():\n                        current[key] = []\n                    else:\n                        current[key] = {}\n                current = current[key]\n</code></pre>"},{"location":"apis/markdown/#ures.markdown.manipulator.MarkdownDocument.to_markdown","title":"<code>to_markdown()</code>","text":"<p>Serializes the MarkdownDocument to a Markdown-formatted string, including front matter.</p> <p>Returns:</p> Name Type Description <code>str</code> <code>str</code> <p>The complete Markdown content with front matter.</p> ERROR <p>ValueError: If the front matter is missing mandatory fields.</p> Example <p>doc = MarkdownDocument( ...     content=\"# Hello World\", ...     metadata={\"title\": \"Greeting\", \"tags\": [\"intro\", \"welcome\"]} ... ) print(doc.to_markdown())</p> <p>title: Greeting tags:   - intro   - welcome</p> Source code in <code>ures/markdown/manipulator.py</code> <pre><code>def to_markdown(self) -&gt; str:\n    \"\"\"\n    Serializes the MarkdownDocument to a Markdown-formatted string, including front matter.\n\n    Returns:\n        str: The complete Markdown content with front matter.\n\n    ERROR:\n        ValueError: If the front matter is missing mandatory fields.\n\n    Example:\n        &gt;&gt;&gt; doc = MarkdownDocument(\n        ...     content=\"# Hello World\",\n        ...     metadata={\"title\": \"Greeting\", \"tags\": [\"intro\", \"welcome\"]}\n        ... )\n        &gt;&gt;&gt; print(doc.to_markdown())\n        ---\n        title: Greeting\n        tags:\n          - intro\n          - welcome\n        ---\n\n        # Hello World\n    \"\"\"\n    self.validation_frontmatter()\n    return frontmatter.dumps(self.post)\n</code></pre>"},{"location":"apis/markdown/#ures.markdown.manipulator.MarkdownDocument.to_markdown--hello-world","title":"Hello World","text":""},{"location":"apis/markdown/#ures.markdown.manipulator.MarkdownDocument.validation_frontmatter","title":"<code>validation_frontmatter()</code>","text":"<p>Validate the frontmatter metadata against the mandatory fields.</p> Source code in <code>ures/markdown/manipulator.py</code> <pre><code>def validation_frontmatter(self):\n    \"\"\"\n    Validate the frontmatter metadata against the mandatory fields.\n    \"\"\"\n    missing_fields = []\n    for field in self.MANDATORY_FIELDS:\n        if self.get_frontmatter(field) is None:\n            missing_fields.append(field)\n\n    if missing_fields:\n        missing = \", \".join(missing_fields)\n        raise ValueError(f\"Missing mandatory front matter fields: {missing}\")\n</code></pre>"},{"location":"apis/markdown/#ures.markdown.zettelkasten.Zettelkasten","title":"<code>Zettelkasten</code>","text":"<p>               Bases: <code>MarkdownDocument</code></p> <p>Class for handling Zettelkasten markdown files. In my case, a list of mandatory fields is defined in a class variable.</p> <p>In Zettelkasten note-taking system, only three types of notes are supported: 'fleeting', 'literature', 'permanent', but I added 'atom' type for my own use.</p> Source code in <code>ures/markdown/zettelkasten.py</code> <pre><code>class Zettelkasten(MarkdownDocument):\n    \"\"\"\n    Class for handling Zettelkasten markdown files. In my case, a list of mandatory fields is defined in a class\n    variable.\n\n    In Zettelkasten note-taking system, only three types of notes are supported: 'fleeting', 'literature', 'permanent',\n    but I added 'atom' type for my own use.\n    \"\"\"\n\n    MANDATORY_FIELDS = [\"title\", \"type\", \"url\", \"create\", \"id\", \"tags\", \"aliases\"]\n    ALLOWED_TYPES = [\"fleeting\", \"literature\", \"permanent\", \"atom\"]\n\n    def __init__(\n        self,\n        title: str,\n        n_type: str,\n        url: Optional[str] = None,\n        tags: Optional[list] = None,\n        aliases: Optional[list] = None,\n        **kwargs,\n    ):\n        \"\"\"\n        Initialize a Zettelkasten object\n        Args:\n            title (str): The title of the note.\n            n_type (str): The type of the note, only support 'fleeting', 'literature', 'permanent' and 'atom'.\n            url (str): The url of the note.\n            tags (list): The tags of the note.\n            aliases\n        \"\"\"\n        if not isinstance(title, str) or not title.strip():\n            raise ValueError(\"Title must be a non-empty string.\")\n        if n_type not in self.ALLOWED_TYPES:\n            raise ValueError(\n                f\"Invalid type '{n_type}'. Allowed types are: {', '.join(self.ALLOWED_TYPES)}.\"\n            )\n        if url is not None and not isinstance(url, str):\n            raise ValueError(\"URL must be a string.\")\n        if tags is not None and not isinstance(tags, list):\n            raise ValueError(\"Tags must be a list.\")\n        if aliases is not None and not isinstance(aliases, list):\n            raise ValueError(\"Aliases must be a list.\")\n\n        _metadata = {\n            \"title\": title,\n            \"type\": n_type,\n            \"url\": url or \"\",\n            \"tags\": tags or [],\n            \"aliases\": aliases or [],\n            \"id\": zettelkasten_id(),\n            \"create\": time_now(),\n        }\n        if len(kwargs) &gt; 0:\n            _metadata.update(kwargs)\n        super().__init__(metadata=_metadata)\n\n    @classmethod\n    def from_file(cls, file_path: str) -&gt; \"MarkdownDocument\":\n        \"\"\"\n        Creates a MarkdownDocument instance by loading a Markdown file.\n\n        Args:\n            file_path (str): The path to the Markdown file.\n\n        Returns:\n            MarkdownDocument: An instance representing the loaded Markdown file.\n\n        Raises:\n            FileNotFoundError: If the specified file does not exist.\n            frontmatter.InvalidFrontMatterError: If the front matter is malformed.\n        \"\"\"\n        if not os.path.isfile(file_path):\n            raise FileNotFoundError(f\"The file '{file_path}' does not exist.\")\n\n        with open(file_path, \"r\", encoding=\"utf-8\") as f:\n            post = frontmatter.load(f)\n\n        _params = dict(post.metadata)\n        n_type = _params.get(\"type\", None)\n        del _params[\"type\"]\n        _params[\"n_type\"] = n_type\n\n        keywords = [\"title\", \"n_type\", \"url\", \"tags\", \"aliases\"]\n        for keyword in keywords:\n            if keyword not in _params.keys():\n                _params[keyword] = None\n\n        zk = cls(\n            **_params,\n        )\n        # zk.metadata[\"id\"] = post.metadata.get(\"id\", zk.metadata[\"id\"])\n        # zk.metadata[\"create\"] = post.metadata.get(\"create\", zk.metadata[\"create\"])\n        zk.add_content(post.content)\n        return zk\n\n    @property\n    def title(self) -&gt; str:\n        return self.get_frontmatter(\"title\")\n\n    @title.setter\n    def title(self, value):\n        if not isinstance(value, str) or not value.strip():\n            raise ValueError(\"Title must be a non-empty string.\")\n        self.set_frontmatter(\"title\", value)\n\n    @property\n    def type(self) -&gt; str:\n        return self.get_frontmatter(\"type\")\n\n    @type.setter\n    def type(self, value):\n        if value not in self.ALLOWED_TYPES:\n            raise ValueError(\n                f\"Invalid type '{value}'. Allowed types are: {', '.join(self.ALLOWED_TYPES)}.\"\n            )\n        self.set_frontmatter(\"type\", value)\n\n    @property\n    def url(self) -&gt; str:\n        return self.get_frontmatter(\"url\")\n\n    @url.setter\n    def url(self, value):\n        if not isinstance(value, str):\n            raise ValueError(\"URL must be a string.\")\n        self.set_frontmatter(\"url\", value)\n\n    @property\n    def tags(self) -&gt; list:\n        return self.get_frontmatter(\"tags\")\n\n    @tags.setter\n    def tags(self, value):\n        if not isinstance(value, list):\n            raise ValueError(\"Tags must be a list.\")\n        self.set_frontmatter(\"tags\", value)\n\n    @property\n    def aliases(self) -&gt; list:\n        return self.get_frontmatter(\"aliases\")\n\n    @aliases.setter\n    def aliases(self, value):\n        if not isinstance(value, list):\n            raise ValueError(\"Aliases must be a list.\")\n        self.set_frontmatter(\"aliases\", value)\n\n    def add_tag(self, tag: str):\n        self.tags.append(tag)\n\n    def remove_tag(self, tag: str):\n        self.tags.remove(tag)\n\n    def add_alias(self, alias: str):\n        self.aliases.append(alias)\n\n    def remove_alias(self, alias: str):\n        self.aliases.remove(alias)\n</code></pre>"},{"location":"apis/markdown/#ures.markdown.zettelkasten.Zettelkasten.__init__","title":"<code>__init__(title, n_type, url=None, tags=None, aliases=None, **kwargs)</code>","text":"<p>Initialize a Zettelkasten object Args:     title (str): The title of the note.     n_type (str): The type of the note, only support 'fleeting', 'literature', 'permanent' and 'atom'.     url (str): The url of the note.     tags (list): The tags of the note.     aliases</p> Source code in <code>ures/markdown/zettelkasten.py</code> <pre><code>def __init__(\n    self,\n    title: str,\n    n_type: str,\n    url: Optional[str] = None,\n    tags: Optional[list] = None,\n    aliases: Optional[list] = None,\n    **kwargs,\n):\n    \"\"\"\n    Initialize a Zettelkasten object\n    Args:\n        title (str): The title of the note.\n        n_type (str): The type of the note, only support 'fleeting', 'literature', 'permanent' and 'atom'.\n        url (str): The url of the note.\n        tags (list): The tags of the note.\n        aliases\n    \"\"\"\n    if not isinstance(title, str) or not title.strip():\n        raise ValueError(\"Title must be a non-empty string.\")\n    if n_type not in self.ALLOWED_TYPES:\n        raise ValueError(\n            f\"Invalid type '{n_type}'. Allowed types are: {', '.join(self.ALLOWED_TYPES)}.\"\n        )\n    if url is not None and not isinstance(url, str):\n        raise ValueError(\"URL must be a string.\")\n    if tags is not None and not isinstance(tags, list):\n        raise ValueError(\"Tags must be a list.\")\n    if aliases is not None and not isinstance(aliases, list):\n        raise ValueError(\"Aliases must be a list.\")\n\n    _metadata = {\n        \"title\": title,\n        \"type\": n_type,\n        \"url\": url or \"\",\n        \"tags\": tags or [],\n        \"aliases\": aliases or [],\n        \"id\": zettelkasten_id(),\n        \"create\": time_now(),\n    }\n    if len(kwargs) &gt; 0:\n        _metadata.update(kwargs)\n    super().__init__(metadata=_metadata)\n</code></pre>"},{"location":"apis/markdown/#ures.markdown.zettelkasten.Zettelkasten.from_file","title":"<code>from_file(file_path)</code>  <code>classmethod</code>","text":"<p>Creates a MarkdownDocument instance by loading a Markdown file.</p> <p>Parameters:</p> Name Type Description Default <code>file_path</code> <code>str</code> <p>The path to the Markdown file.</p> required <p>Returns:</p> Name Type Description <code>MarkdownDocument</code> <code>MarkdownDocument</code> <p>An instance representing the loaded Markdown file.</p> <p>Raises:</p> Type Description <code>FileNotFoundError</code> <p>If the specified file does not exist.</p> <code>InvalidFrontMatterError</code> <p>If the front matter is malformed.</p> Source code in <code>ures/markdown/zettelkasten.py</code> <pre><code>@classmethod\ndef from_file(cls, file_path: str) -&gt; \"MarkdownDocument\":\n    \"\"\"\n    Creates a MarkdownDocument instance by loading a Markdown file.\n\n    Args:\n        file_path (str): The path to the Markdown file.\n\n    Returns:\n        MarkdownDocument: An instance representing the loaded Markdown file.\n\n    Raises:\n        FileNotFoundError: If the specified file does not exist.\n        frontmatter.InvalidFrontMatterError: If the front matter is malformed.\n    \"\"\"\n    if not os.path.isfile(file_path):\n        raise FileNotFoundError(f\"The file '{file_path}' does not exist.\")\n\n    with open(file_path, \"r\", encoding=\"utf-8\") as f:\n        post = frontmatter.load(f)\n\n    _params = dict(post.metadata)\n    n_type = _params.get(\"type\", None)\n    del _params[\"type\"]\n    _params[\"n_type\"] = n_type\n\n    keywords = [\"title\", \"n_type\", \"url\", \"tags\", \"aliases\"]\n    for keyword in keywords:\n        if keyword not in _params.keys():\n            _params[keyword] = None\n\n    zk = cls(\n        **_params,\n    )\n    # zk.metadata[\"id\"] = post.metadata.get(\"id\", zk.metadata[\"id\"])\n    # zk.metadata[\"create\"] = post.metadata.get(\"create\", zk.metadata[\"create\"])\n    zk.add_content(post.content)\n    return zk\n</code></pre>"},{"location":"apis/network/","title":"Network Related Module","text":""},{"location":"apis/network/#ures.network.generate_ip","title":"<code>generate_ip(subnet, last_index)</code>","text":"<p>Generate a new IP address within a given subnet based on an offset.</p> <p>The function adds the provided 'last_index' to the network address of the specified subnet (given in CIDR notation) to compute a new IP address.</p> <p>Parameters:</p> Name Type Description Default <code>subnet</code> <code>str</code> <p>The subnet in CIDR notation (e.g., \"192.168.0.0/24\").</p> required <code>last_index</code> <code>int</code> <p>The offset to add to the network address.</p> required <p>Returns:</p> Name Type Description <code>str</code> <code>str</code> <p>The generated IP address as a string.</p> Example <p>generate_ip(\"192.168.0.0/24\", 100) '192.168.0.100'</p> Source code in <code>ures/network.py</code> <pre><code>def generate_ip(subnet: str, last_index: int) -&gt; str:\n    \"\"\"\n    Generate a new IP address within a given subnet based on an offset.\n\n    The function adds the provided 'last_index' to the network address of the specified\n    subnet (given in CIDR notation) to compute a new IP address.\n\n    Args:\n        subnet (str): The subnet in CIDR notation (e.g., \"192.168.0.0/24\").\n        last_index (int): The offset to add to the network address.\n\n    Returns:\n        str: The generated IP address as a string.\n\n    Example:\n        &gt;&gt;&gt; generate_ip(\"192.168.0.0/24\", 100)\n        '192.168.0.100'\n    \"\"\"\n    network = ipaddress.ip_network(subnet)\n    new_ip = network.network_address + last_index\n    return str(new_ip)\n</code></pre>"},{"location":"apis/network/#ures.network.is_valid_ip_netmask","title":"<code>is_valid_ip_netmask(ip, netmask)</code>","text":"<p>Validate whether an IP address and a given subnet mask form a valid subnet.</p> <p>This function checks if the provided IP address (IPv4 or IPv6) and its subnet mask (provided either in CIDR notation or dot-decimal format for IPv4) are valid when used together to define a network.</p> <p>Parameters:</p> Name Type Description Default <code>ip</code> <code>str</code> <p>The IP address (e.g., \"192.168.1.1\" or \"2001:db8::1\").</p> required <code>netmask</code> <code>str</code> <p>The subnet mask, which can be provided as a CIDR value (e.g., \"24\")            or in dot-decimal format (e.g., \"255.255.255.0\" for IPv4).</p> required <p>Returns:</p> Name Type Description <code>bool</code> <code>bool</code> <p>True if the IP address and subnet mask form a valid subnet, False otherwise.</p> Example <p>is_valid_ip_netmask(\"192.168.1.1\", \"255.255.255.0\") True is_valid_ip_netmask(\"192.168.1.1\", \"24\") True is_valid_ip_netmask(\"2001:db8::1\", \"64\") True is_valid_ip_netmask(\"192.168.1.1\", \"255.255.0.255\") False is_valid_ip_netmask(\"300.168.1.1\", \"24\") False</p> Source code in <code>ures/network.py</code> <pre><code>def is_valid_ip_netmask(ip: str, netmask: str) -&gt; bool:\n    \"\"\"\n    Validate whether an IP address and a given subnet mask form a valid subnet.\n\n    This function checks if the provided IP address (IPv4 or IPv6) and its subnet mask\n    (provided either in CIDR notation or dot-decimal format for IPv4) are valid when used\n    together to define a network.\n\n    Args:\n        ip (str): The IP address (e.g., \"192.168.1.1\" or \"2001:db8::1\").\n        netmask (str): The subnet mask, which can be provided as a CIDR value (e.g., \"24\")\n                       or in dot-decimal format (e.g., \"255.255.255.0\" for IPv4).\n\n    Returns:\n        bool: True if the IP address and subnet mask form a valid subnet, False otherwise.\n\n    Example:\n        &gt;&gt;&gt; is_valid_ip_netmask(\"192.168.1.1\", \"255.255.255.0\")\n        True\n        &gt;&gt;&gt; is_valid_ip_netmask(\"192.168.1.1\", \"24\")\n        True\n        &gt;&gt;&gt; is_valid_ip_netmask(\"2001:db8::1\", \"64\")\n        True\n        &gt;&gt;&gt; is_valid_ip_netmask(\"192.168.1.1\", \"255.255.0.255\")\n        False\n        &gt;&gt;&gt; is_valid_ip_netmask(\"300.168.1.1\", \"24\")\n        False\n    \"\"\"\n    try:\n        ip_obj = ipaddress.ip_address(ip)\n        if netmask.isdigit():\n            prefix_length = int(netmask)\n            if isinstance(ip_obj, ipaddress.IPv4Address) and 0 &lt;= prefix_length &lt;= 32:\n                return True\n            if isinstance(ip_obj, ipaddress.IPv6Address) and 0 &lt;= prefix_length &lt;= 128:\n                return True\n        else:\n            try:\n                # Attempt to create a network with the given dot-decimal mask.\n                ipaddress.ip_network(f\"{ip}/{netmask}\", strict=False)\n                return True\n            except ValueError:\n                return False\n    except ValueError:\n        return False\n</code></pre>"},{"location":"apis/network/#ures.network.verify_ip_in_subnet","title":"<code>verify_ip_in_subnet(ip, subnet)</code>","text":"<p>Check if a given IP address belongs to a specified subnet.</p> <p>This function converts the provided IP address and subnet (in CIDR notation) into their respective ipaddress objects, then checks if the IP address is within the network defined by the subnet.</p> <p>Parameters:</p> Name Type Description Default <code>ip</code> <code>str</code> <p>The IP address to check (e.g., \"192.168.1.10\").</p> required <code>subnet</code> <code>str</code> <p>The subnet in CIDR notation (e.g., \"192.168.1.0/24\").</p> required <p>Returns:</p> Name Type Description <code>bool</code> <code>bool</code> <p>True if the IP address is within the subnet, False otherwise.</p> Example <p>verify_ip_in_subnet(\"192.168.1.10\", \"192.168.1.0/24\") True verify_ip_in_subnet(\"10.0.0.1\", \"192.168.1.0/24\") False</p> Source code in <code>ures/network.py</code> <pre><code>def verify_ip_in_subnet(ip: str, subnet: str) -&gt; bool:\n    \"\"\"\n    Check if a given IP address belongs to a specified subnet.\n\n    This function converts the provided IP address and subnet (in CIDR notation)\n    into their respective ipaddress objects, then checks if the IP address is within\n    the network defined by the subnet.\n\n    Args:\n        ip (str): The IP address to check (e.g., \"192.168.1.10\").\n        subnet (str): The subnet in CIDR notation (e.g., \"192.168.1.0/24\").\n\n    Returns:\n        bool: True if the IP address is within the subnet, False otherwise.\n\n    Example:\n        &gt;&gt;&gt; verify_ip_in_subnet(\"192.168.1.10\", \"192.168.1.0/24\")\n        True\n        &gt;&gt;&gt; verify_ip_in_subnet(\"10.0.0.1\", \"192.168.1.0/24\")\n        False\n    \"\"\"\n    ip_obj = ipaddress.ip_address(ip)\n    network_obj = ipaddress.ip_network(subnet)\n    return ip_obj in network_obj\n</code></pre>"},{"location":"apis/string/","title":"String Module","text":""},{"location":"apis/string/#ures.string.capitalize_string","title":"<code>capitalize_string(string, separator=' ')</code>","text":"<p>Capitalize each word in a string using a specified separator.</p> <p>Splits the input string by the given separator, capitalizes the first letter of each part, and then joins the parts back together using the same separator.</p> <p>Parameters:</p> Name Type Description Default <code>string</code> <code>str</code> <p>The string to be capitalized.</p> required <code>separator</code> <code>str</code> <p>The separator to use for splitting and joining the string.                        Defaults to \" \".</p> <code>' '</code> <p>Returns:</p> Name Type Description <code>str</code> <code>str</code> <p>The capitalized string.</p> Example <p>capitalize_string(\"hello world\") 'Hello World' capitalize_string(\"john-doe\", separator=\"-\") 'John-Doe'</p> Source code in <code>ures/string.py</code> <pre><code>def capitalize_string(string: str, separator: str = \" \") -&gt; str:\n    \"\"\"\n    Capitalize each word in a string using a specified separator.\n\n    Splits the input string by the given separator, capitalizes the first letter of each part,\n    and then joins the parts back together using the same separator.\n\n    Args:\n        string (str): The string to be capitalized.\n        separator (str, optional): The separator to use for splitting and joining the string.\n                                   Defaults to \" \".\n\n    Returns:\n        str: The capitalized string.\n\n    Example:\n        &gt;&gt;&gt; capitalize_string(\"hello world\")\n        'Hello World'\n        &gt;&gt;&gt; capitalize_string(\"john-doe\", separator=\"-\")\n        'John-Doe'\n    \"\"\"\n    return separator.join([item.capitalize() for item in string.split(separator)])\n</code></pre>"},{"location":"apis/string/#ures.string.format_memory","title":"<code>format_memory(nbytes)</code>","text":"<p>Format a memory size into a human-readable string.</p> <p>Converts a memory size in bytes into a formatted string using appropriate units (B, KB, MB, or GB) with two decimal places of precision. If the provided value is None, it returns \"0 bytes\".</p> <p>Parameters:</p> Name Type Description Default <code>nbytes</code> <code>int</code> <p>The memory size in bytes.</p> required <p>Returns:</p> Name Type Description <code>str</code> <code>str</code> <p>The memory size in a human-readable format.</p> Example <p>format_memory(1024) '1.00 KB' format_memory(1048576) '1.00 MB'</p> Source code in <code>ures/string.py</code> <pre><code>def format_memory(nbytes: int) -&gt; str:\n    \"\"\"\n    Format a memory size into a human-readable string.\n\n    Converts a memory size in bytes into a formatted string using appropriate units (B, KB, MB, or GB)\n    with two decimal places of precision. If the provided value is None, it returns \"0 bytes\".\n\n    Args:\n        nbytes (int): The memory size in bytes.\n\n    Returns:\n        str: The memory size in a human-readable format.\n\n    Example:\n        &gt;&gt;&gt; format_memory(1024)\n        '1.00 KB'\n        &gt;&gt;&gt; format_memory(1048576)\n        '1.00 MB'\n    \"\"\"\n    if nbytes is None:\n        return \"0 bytes\"\n\n    KB = 1024\n    MB = 1024 * KB\n    GB = 1024 * MB\n    if abs(nbytes) &gt;= GB:\n        return f\"{nbytes * 1.0 / GB:.2f} GB\"\n    elif abs(nbytes) &gt;= MB:\n        return f\"{nbytes * 1.0 / MB:.2f} MB\"\n    elif abs(nbytes) &gt;= KB:\n        return f\"{nbytes * 1.0 / KB:.2f} KB\"\n    else:\n        return str(nbytes) + \" B\"\n</code></pre>"},{"location":"apis/string/#ures.string.unique_id","title":"<code>unique_id()</code>","text":"<p>Generate a unique identifier.</p> <p>This function returns a unique identifier as a hexadecimal string generated from a UUID.</p> <p>Returns:</p> Name Type Description <code>str</code> <code>str</code> <p>A unique hexadecimal identifier (e.g., \"3f8a7c2d1e9b4a6f8d0e2c1b3a5f7e9d\").</p> Example <p>uid = unique_id() len(uid) == 32 True</p> Source code in <code>ures/string.py</code> <pre><code>def unique_id() -&gt; str:\n    \"\"\"\n    Generate a unique identifier.\n\n    This function returns a unique identifier as a hexadecimal string generated from a UUID.\n\n    Returns:\n        str: A unique hexadecimal identifier (e.g., \"3f8a7c2d1e9b4a6f8d0e2c1b3a5f7e9d\").\n\n    Example:\n        &gt;&gt;&gt; uid = unique_id()\n        &gt;&gt;&gt; len(uid) == 32\n        True\n    \"\"\"\n    return uuid.uuid4().hex\n</code></pre>"},{"location":"apis/string/#ures.string.zettelkasten_id","title":"<code>zettelkasten_id()</code>","text":"<p>Generate a Zettelkasten identifier.</p> <p>This function creates a unique identifier suitable for a Zettelkasten note-taking system. It generates a UUID, then formats the hexadecimal string by taking the first 9 characters, appending a dot, and then the last 11 characters of the UUID.</p> <p>Returns:</p> Name Type Description <code>str</code> <code>str</code> <p>A formatted unique identifier (e.g., \"abc123def.ghi45678901\").</p> Example <p>id_str = zettelkasten_id() isinstance(id_str, str) True</p> Source code in <code>ures/string.py</code> <pre><code>def zettelkasten_id() -&gt; str:\n    \"\"\"\n    Generate a Zettelkasten identifier.\n\n    This function creates a unique identifier suitable for a Zettelkasten note-taking system.\n    It generates a UUID, then formats the hexadecimal string by taking the first 9 characters,\n    appending a dot, and then the last 11 characters of the UUID.\n\n    Returns:\n        str: A formatted unique identifier (e.g., \"abc123def.ghi45678901\").\n\n    Example:\n        &gt;&gt;&gt; id_str = zettelkasten_id()\n        &gt;&gt;&gt; isinstance(id_str, str)\n        True\n    \"\"\"\n    _id = uuid.uuid4().hex\n    return f\"{_id[:9]}.{_id[-11:]}\"\n</code></pre>"},{"location":"apis/timedate/","title":"Time &amp; Date Module","text":""},{"location":"apis/timedate/#ures.timedate.datetime_converter","title":"<code>datetime_converter(time, iso8601=True, format='%Y%m%d-%H%M%S')</code>","text":"<p>Convert a datetime object to a formatted string.</p> <p>This function converts a given datetime.datetime object into a string. If 'iso8601' is True, the datetime is converted to ISO 8601 format with a trailing 'Z'. Otherwise, the datetime is formatted using the provided custom format string.</p> <p>Parameters:</p> Name Type Description Default <code>time</code> <code>datetime</code> <p>The datetime object to be converted.</p> required <code>iso8601</code> <code>bool</code> <p>Determines the output format. - If True, returns the time in ISO 8601 format. - If False, returns the time formatted by the 'format' parameter. Defaults to True.</p> <code>True</code> <code>format</code> <code>str</code> <p>The custom format string to use when 'iso8601' is False. Defaults to \"%Y%m%d-%H%M%S\".</p> <code>'%Y%m%d-%H%M%S'</code> <p>Returns:</p> Name Type Description <code>str</code> <code>str</code> <p>The formatted time string.</p> Example <p>import datetime dt = datetime.datetime(2020, 1, 1, 12, 0, 0) datetime_converter(dt, iso8601=True) '2020-01-01T12:00:00Z' datetime_converter(dt, iso8601=False, format=\"%Y/%m/%d %H:%M\") '2020/01/01 12:00'</p> Source code in <code>ures/timedate.py</code> <pre><code>def datetime_converter(\n    time: datetime.datetime, iso8601: bool = True, format: str = \"%Y%m%d-%H%M%S\"\n) -&gt; str:\n    \"\"\"\n    Convert a datetime object to a formatted string.\n\n    This function converts a given datetime.datetime object into a string. If 'iso8601' is True,\n    the datetime is converted to ISO 8601 format with a trailing 'Z'. Otherwise, the datetime is\n    formatted using the provided custom format string.\n\n    Args:\n        time (datetime.datetime): The datetime object to be converted.\n        iso8601 (bool, optional): Determines the output format.\n            - If True, returns the time in ISO 8601 format.\n            - If False, returns the time formatted by the 'format' parameter.\n            Defaults to True.\n        format (str, optional): The custom format string to use when 'iso8601' is False.\n            Defaults to \"%Y%m%d-%H%M%S\".\n\n    Returns:\n        str: The formatted time string.\n\n    Example:\n        &gt;&gt;&gt; import datetime\n        &gt;&gt;&gt; dt = datetime.datetime(2020, 1, 1, 12, 0, 0)\n        &gt;&gt;&gt; datetime_converter(dt, iso8601=True)\n        '2020-01-01T12:00:00Z'\n        &gt;&gt;&gt; datetime_converter(dt, iso8601=False, format=\"%Y/%m/%d %H:%M\")\n        '2020/01/01 12:00'\n    \"\"\"\n    if iso8601:\n        return time.isoformat() + \"Z\"\n    else:\n        return time.strftime(format)\n</code></pre>"},{"location":"apis/timedate/#ures.timedate.time_now","title":"<code>time_now(iso8601=True, format='%Y%m%d-%H%M%S')</code>","text":"<p>Retrieve the current time as a formatted string.</p> <p>This function gets the current time using the system clock and converts it into a string. The output can either be in ISO 8601 format (with a trailing 'Z') or a custom format based on the provided format string.</p> <p>Parameters:</p> Name Type Description Default <code>iso8601</code> <code>bool</code> <p>Determines the output format. - If True, returns the time in ISO 8601 format. - If False, returns the time formatted by the 'format' parameter. Defaults to True.</p> <code>True</code> <code>format</code> <code>str</code> <p>The custom format string to use when 'iso8601' is False. Defaults to \"%Y%m%d-%H%M%S\".</p> <code>'%Y%m%d-%H%M%S'</code> <p>Returns:</p> Name Type Description <code>str</code> <code>str</code> <p>The current time as a formatted string.</p> Example <p>current_time = time_now(iso8601=True) current_time.endswith(\"Z\") True time_now(iso8601=False, format=\"%H:%M:%S\") '14:35:22'</p> Source code in <code>ures/timedate.py</code> <pre><code>def time_now(iso8601: bool = True, format: str = \"%Y%m%d-%H%M%S\") -&gt; str:\n    \"\"\"\n    Retrieve the current time as a formatted string.\n\n    This function gets the current time using the system clock and converts it into a string.\n    The output can either be in ISO 8601 format (with a trailing 'Z') or a custom format based on\n    the provided format string.\n\n    Args:\n        iso8601 (bool, optional): Determines the output format.\n            - If True, returns the time in ISO 8601 format.\n            - If False, returns the time formatted by the 'format' parameter.\n            Defaults to True.\n        format (str, optional): The custom format string to use when 'iso8601' is False.\n            Defaults to \"%Y%m%d-%H%M%S\".\n\n    Returns:\n        str: The current time as a formatted string.\n\n    Example:\n        &gt;&gt;&gt; current_time = time_now(iso8601=True)\n        &gt;&gt;&gt; current_time.endswith(\"Z\")\n        True\n        &gt;&gt;&gt; time_now(iso8601=False, format=\"%H:%M:%S\")\n        '14:35:22'\n    \"\"\"\n    import sys\n\n    if sys.version_info[:2] == (3, 10):\n        _time = datetime.datetime.now(datetime.timezone.utc)\n    else:\n        _time = datetime.datetime.now(datetime.UTC)\n    return datetime_converter(_time, iso8601=iso8601, format=format)\n</code></pre>"},{"location":"apis/timedate/#ures.timedate.timestamp_converter","title":"<code>timestamp_converter(timestamp, iso8601=True, format='%Y%m%d-%H%M%S')</code>","text":"<p>Convert a Unix timestamp to a formatted time string.</p> <p>This function converts a Unix timestamp (number of seconds since the epoch) into a human-readable string. It utilizes the 'datetime_converter' function to perform the conversion, allowing the output to be either in ISO 8601 format or in a custom format.</p> <p>Parameters:</p> Name Type Description Default <code>timestamp</code> <code>int</code> <p>The Unix timestamp to be converted.</p> required <code>iso8601</code> <code>bool</code> <p>Determines the output format. - If True, returns the time in ISO 8601 format. - If False, returns the time formatted by the 'format' parameter. Defaults to True.</p> <code>True</code> <code>format</code> <code>str</code> <p>The custom format string to use when 'iso8601' is False. Defaults to \"%Y%m%d-%H%M%S\".</p> <code>'%Y%m%d-%H%M%S'</code> <p>Returns:</p> Name Type Description <code>str</code> <code>str</code> <p>The formatted time string.</p> Example Source code in <code>ures/timedate.py</code> <pre><code>def timestamp_converter(\n    timestamp: int, iso8601: bool = True, format: str = \"%Y%m%d-%H%M%S\"\n) -&gt; str:\n    \"\"\"\n    Convert a Unix timestamp to a formatted time string.\n\n    This function converts a Unix timestamp (number of seconds since the epoch) into a human-readable\n    string. It utilizes the 'datetime_converter' function to perform the conversion, allowing the output\n    to be either in ISO 8601 format or in a custom format.\n\n    Args:\n        timestamp (int): The Unix timestamp to be converted.\n        iso8601 (bool, optional): Determines the output format.\n            - If True, returns the time in ISO 8601 format.\n            - If False, returns the time formatted by the 'format' parameter.\n            Defaults to True.\n        format (str, optional): The custom format string to use when 'iso8601' is False.\n            Defaults to \"%Y%m%d-%H%M%S\".\n\n    Returns:\n        str: The formatted time string.\n\n    Example:\n        &gt;&gt;&gt; # Unix timestamp for 2020-01-01 12:00:00\n        &gt;&gt;&gt; timestamp_converter(1577880000, iso8601=True)\n        '2020-01-01T12:00:00Z'\n        &gt;&gt;&gt; timestamp_converter(1577880000, iso8601=False, format=\"%d/%m/%Y %H:%M\")\n        '01/01/2020 12:00'\n    \"\"\"\n    return datetime_converter(\n        datetime.datetime.fromtimestamp(timestamp),\n        iso8601=iso8601,\n        format=format,\n    )\n</code></pre>"},{"location":"apis/timedate/#ures.timedate.timestamp_converter--unix-timestamp-for-2020-01-01-120000","title":"Unix timestamp for 2020-01-01 12:00:00","text":"<p>timestamp_converter(1577880000, iso8601=True) '2020-01-01T12:00:00Z' timestamp_converter(1577880000, iso8601=False, format=\"%d/%m/%Y %H:%M\") '01/01/2020 12:00'</p>"},{"location":"apis/data_structure/bi_directional_links/","title":"Data Structure - Bi-Directional Links","text":""},{"location":"apis/data_structure/bi_directional_links/#ures.data_structure.bi_directional_links.BiDirection","title":"<code>BiDirection</code>","text":"Source code in <code>ures/data_structure/bi_directional_links.py</code> <pre><code>class BiDirection:\n    def __init__(self, value: Any):\n        \"\"\"\n        Create a bi-directional linked node.\n\n        Initializes a node with the given value and sets its previous and next pointers to itself,\n        forming a circular structure when isolated.\n\n        Args:\n            value (Any): The value to store in the node.\n\n        Returns:\n            None\n\n        Example:\n            &gt;&gt;&gt; node = BiDirection(\"A\")\n            &gt;&gt;&gt; node.value\n            'A'\n            &gt;&gt;&gt; node.prev is node\n            True\n            &gt;&gt;&gt; node.next is node\n            True\n        \"\"\"\n        self._prev: Optional[BiDirection] = self\n        self._next: Optional[BiDirection] = self\n        self._value: Any = value\n        self._id = uuid.uuid4().hex\n\n    @property\n    def prev(self) -&gt; BiDirection:\n        \"\"\"\n        Get the previous node in the linked structure.\n\n        Returns:\n            BiDirection: The previous node.\n\n        Example:\n            &gt;&gt;&gt; node = BiDirection(\"A\")\n            &gt;&gt;&gt; node.prev is node\n            True\n        \"\"\"\n        return self._prev\n\n    @property\n    def next(self) -&gt; BiDirection:\n        \"\"\"\n        Get the next node in the linked structure.\n\n        Returns:\n            BiDirection: The next node.\n\n        Example:\n            &gt;&gt;&gt; node = BiDirection(\"A\")\n            &gt;&gt;&gt; node.next is node\n            True\n        \"\"\"\n        return self._next\n\n    @property\n    def value(self) -&gt; Any:\n        \"\"\"\n        Retrieve the value stored in the node.\n\n        Returns:\n            Any: The node's value.\n\n        Example:\n            &gt;&gt;&gt; node = BiDirection(123)\n            &gt;&gt;&gt; node.value\n            123\n        \"\"\"\n        return self._value\n\n    @property\n    def id(self) -&gt; str:\n        \"\"\"\n        Get the unique identifier of the node.\n\n        Returns:\n            str: A hexadecimal string representing the node's unique ID.\n\n        Example:\n            &gt;&gt;&gt; node = BiDirection(\"A\")\n            &gt;&gt;&gt; isinstance(node.id, str)\n            True\n        \"\"\"\n        return self._id\n\n    def insert_after(self, node: BiDirection) -&gt; None:\n        \"\"\"\n        Insert a node immediately after the current node.\n\n        Adjusts pointers so that the new node is placed between the current node and its next node.\n\n        Args:\n            node (BiDirection): The node to be inserted after the current node.\n\n        Returns:\n            None\n\n        Example:\n            &gt;&gt;&gt; node1 = BiDirection(\"A\")\n            &gt;&gt;&gt; node2 = BiDirection(\"B\")\n            &gt;&gt;&gt; node1.insert_after(node2)\n            &gt;&gt;&gt; node1.next is node2\n            True\n            &gt;&gt;&gt; node2.prev is node1\n            True\n        \"\"\"\n        node._prev = self\n        node._next = self._next\n        self._next._prev = node\n        self._next = node\n\n    def insert_before(self, node: BiDirection) -&gt; None:\n        \"\"\"\n        Insert a node immediately before the current node.\n\n        Adjusts pointers so that the new node is placed between the current node's previous node and the current node.\n\n        Args:\n            node (BiDirection): The node to be inserted before the current node.\n\n        Returns:\n            None\n\n        Example:\n            &gt;&gt;&gt; node1 = BiDirection(\"A\")\n            &gt;&gt;&gt; node2 = BiDirection(\"B\")\n            &gt;&gt;&gt; node1.insert_before(node2)\n            &gt;&gt;&gt; node1.prev is node2\n            True\n            &gt;&gt;&gt; node2.next is node1\n            True\n        \"\"\"\n        node._prev = self._prev\n        node._next = self\n        self._prev._next = node\n        self._prev = node\n\n    def remove(self) -&gt; None:\n        \"\"\"\n        Remove the current node from the linked structure.\n\n        Adjusts the previous and next nodes to bypass the current node and resets the current node's\n        pointers to point to itself.\n\n        Returns:\n            None\n\n        Example:\n            &gt;&gt;&gt; node1 = BiDirection(\"A\")\n            &gt;&gt;&gt; node2 = BiDirection(\"B\")\n            &gt;&gt;&gt; node1.insert_after(node2)\n            &gt;&gt;&gt; node2.remove()\n            &gt;&gt;&gt; node1.next is node1\n            True\n        \"\"\"\n        self._prev._next = self._next\n        self._next._prev = self._prev\n        self._prev = self\n        self._next = self\n\n    def search(self, value: Any) -&gt; Optional[BiDirection]:\n        \"\"\"\n        Search for a node with the specified value in the linked structure.\n\n        Starting from the current node, traverse through the chain until the value is found or the search\n        returns to the starting node.\n\n        Args:\n            value (Any): The value to search for.\n\n        Returns:\n            Optional[BiDirection]: The node with the matching value, or None if not found.\n\n        Example:\n            &gt;&gt;&gt; node1 = BiDirection(\"A\")\n            &gt;&gt;&gt; node2 = BiDirection(\"B\")\n            &gt;&gt;&gt; node3 = BiDirection(\"C\")\n            &gt;&gt;&gt; node1.insert_after(node2)\n            &gt;&gt;&gt; node2.insert_after(node3)\n            &gt;&gt;&gt; found = node1.search(\"C\")\n            &gt;&gt;&gt; found.value\n            'C'\n            &gt;&gt;&gt; not_found = node1.search(\"D\")\n            &gt;&gt;&gt; not_found is None\n            True\n        \"\"\"\n        node = self\n        while node.value != value and node.next != self:\n            node = node.next\n        return node if node.value == value else None\n\n    def __eq__(self, other: BiDirection) -&gt; bool:\n        \"\"\"\n        Check equality between two nodes based on their unique IDs.\n\n        Args:\n            other (BiDirection): Another node to compare with.\n\n        Returns:\n            bool: True if both nodes have the same unique ID, False otherwise.\n\n        Example:\n            &gt;&gt;&gt; node1 = BiDirection(\"A\")\n            &gt;&gt;&gt; node2 = BiDirection(\"A\")\n            &gt;&gt;&gt; node1 == node1\n            True\n            &gt;&gt;&gt; node1 == node2\n            False\n        \"\"\"\n        return self.id == other.id\n\n    def __str__(self) -&gt; str:\n        \"\"\"\n        Get the string representation of the node.\n\n        Returns:\n            str: A string representing the node's value.\n\n        Example:\n            &gt;&gt;&gt; node = BiDirection(\"Hello\")\n            &gt;&gt;&gt; str(node)\n            'Hello'\n        \"\"\"\n        return str(self.value)\n\n    def __repr__(self) -&gt; str:\n        \"\"\"\n        Get a detailed string representation of the node.\n\n        Returns:\n            str: A string in the format \"BiDirection(&lt;value&gt;)\" representing the node.\n\n        Example:\n            &gt;&gt;&gt; node = BiDirection(\"World\")\n            &gt;&gt;&gt; repr(node)\n            'BiDirection(World)'\n        \"\"\"\n        return f\"BiDirection({self.value})\"\n</code></pre>"},{"location":"apis/data_structure/bi_directional_links/#ures.data_structure.bi_directional_links.BiDirection.id","title":"<code>id</code>  <code>property</code>","text":"<p>Get the unique identifier of the node.</p> <p>Returns:</p> Name Type Description <code>str</code> <code>str</code> <p>A hexadecimal string representing the node's unique ID.</p> Example <p>node = BiDirection(\"A\") isinstance(node.id, str) True</p>"},{"location":"apis/data_structure/bi_directional_links/#ures.data_structure.bi_directional_links.BiDirection.next","title":"<code>next</code>  <code>property</code>","text":"<p>Get the next node in the linked structure.</p> <p>Returns:</p> Name Type Description <code>BiDirection</code> <code>BiDirection</code> <p>The next node.</p> Example <p>node = BiDirection(\"A\") node.next is node True</p>"},{"location":"apis/data_structure/bi_directional_links/#ures.data_structure.bi_directional_links.BiDirection.prev","title":"<code>prev</code>  <code>property</code>","text":"<p>Get the previous node in the linked structure.</p> <p>Returns:</p> Name Type Description <code>BiDirection</code> <code>BiDirection</code> <p>The previous node.</p> Example <p>node = BiDirection(\"A\") node.prev is node True</p>"},{"location":"apis/data_structure/bi_directional_links/#ures.data_structure.bi_directional_links.BiDirection.value","title":"<code>value</code>  <code>property</code>","text":"<p>Retrieve the value stored in the node.</p> <p>Returns:</p> Name Type Description <code>Any</code> <code>Any</code> <p>The node's value.</p> Example <p>node = BiDirection(123) node.value 123</p>"},{"location":"apis/data_structure/bi_directional_links/#ures.data_structure.bi_directional_links.BiDirection.__eq__","title":"<code>__eq__(other)</code>","text":"<p>Check equality between two nodes based on their unique IDs.</p> <p>Parameters:</p> Name Type Description Default <code>other</code> <code>BiDirection</code> <p>Another node to compare with.</p> required <p>Returns:</p> Name Type Description <code>bool</code> <code>bool</code> <p>True if both nodes have the same unique ID, False otherwise.</p> Example <p>node1 = BiDirection(\"A\") node2 = BiDirection(\"A\") node1 == node1 True node1 == node2 False</p> Source code in <code>ures/data_structure/bi_directional_links.py</code> <pre><code>def __eq__(self, other: BiDirection) -&gt; bool:\n    \"\"\"\n    Check equality between two nodes based on their unique IDs.\n\n    Args:\n        other (BiDirection): Another node to compare with.\n\n    Returns:\n        bool: True if both nodes have the same unique ID, False otherwise.\n\n    Example:\n        &gt;&gt;&gt; node1 = BiDirection(\"A\")\n        &gt;&gt;&gt; node2 = BiDirection(\"A\")\n        &gt;&gt;&gt; node1 == node1\n        True\n        &gt;&gt;&gt; node1 == node2\n        False\n    \"\"\"\n    return self.id == other.id\n</code></pre>"},{"location":"apis/data_structure/bi_directional_links/#ures.data_structure.bi_directional_links.BiDirection.__init__","title":"<code>__init__(value)</code>","text":"<p>Create a bi-directional linked node.</p> <p>Initializes a node with the given value and sets its previous and next pointers to itself, forming a circular structure when isolated.</p> <p>Parameters:</p> Name Type Description Default <code>value</code> <code>Any</code> <p>The value to store in the node.</p> required <p>Returns:</p> Type Description <p>None</p> Example <p>node = BiDirection(\"A\") node.value 'A' node.prev is node True node.next is node True</p> Source code in <code>ures/data_structure/bi_directional_links.py</code> <pre><code>def __init__(self, value: Any):\n    \"\"\"\n    Create a bi-directional linked node.\n\n    Initializes a node with the given value and sets its previous and next pointers to itself,\n    forming a circular structure when isolated.\n\n    Args:\n        value (Any): The value to store in the node.\n\n    Returns:\n        None\n\n    Example:\n        &gt;&gt;&gt; node = BiDirection(\"A\")\n        &gt;&gt;&gt; node.value\n        'A'\n        &gt;&gt;&gt; node.prev is node\n        True\n        &gt;&gt;&gt; node.next is node\n        True\n    \"\"\"\n    self._prev: Optional[BiDirection] = self\n    self._next: Optional[BiDirection] = self\n    self._value: Any = value\n    self._id = uuid.uuid4().hex\n</code></pre>"},{"location":"apis/data_structure/bi_directional_links/#ures.data_structure.bi_directional_links.BiDirection.__repr__","title":"<code>__repr__()</code>","text":"<p>Get a detailed string representation of the node.</p> <p>Returns:</p> Name Type Description <code>str</code> <code>str</code> <p>A string in the format \"BiDirection()\" representing the node. Example <p>node = BiDirection(\"World\") repr(node) 'BiDirection(World)'</p> Source code in <code>ures/data_structure/bi_directional_links.py</code> <pre><code>def __repr__(self) -&gt; str:\n    \"\"\"\n    Get a detailed string representation of the node.\n\n    Returns:\n        str: A string in the format \"BiDirection(&lt;value&gt;)\" representing the node.\n\n    Example:\n        &gt;&gt;&gt; node = BiDirection(\"World\")\n        &gt;&gt;&gt; repr(node)\n        'BiDirection(World)'\n    \"\"\"\n    return f\"BiDirection({self.value})\"\n</code></pre>"},{"location":"apis/data_structure/bi_directional_links/#ures.data_structure.bi_directional_links.BiDirection.__str__","title":"<code>__str__()</code>","text":"<p>Get the string representation of the node.</p> <p>Returns:</p> Name Type Description <code>str</code> <code>str</code> <p>A string representing the node's value.</p> Example <p>node = BiDirection(\"Hello\") str(node) 'Hello'</p> Source code in <code>ures/data_structure/bi_directional_links.py</code> <pre><code>def __str__(self) -&gt; str:\n    \"\"\"\n    Get the string representation of the node.\n\n    Returns:\n        str: A string representing the node's value.\n\n    Example:\n        &gt;&gt;&gt; node = BiDirection(\"Hello\")\n        &gt;&gt;&gt; str(node)\n        'Hello'\n    \"\"\"\n    return str(self.value)\n</code></pre>"},{"location":"apis/data_structure/bi_directional_links/#ures.data_structure.bi_directional_links.BiDirection.insert_after","title":"<code>insert_after(node)</code>","text":"<p>Insert a node immediately after the current node.</p> <p>Adjusts pointers so that the new node is placed between the current node and its next node.</p> <p>Parameters:</p> Name Type Description Default <code>node</code> <code>BiDirection</code> <p>The node to be inserted after the current node.</p> required <p>Returns:</p> Type Description <code>None</code> <p>None</p> Example <p>node1 = BiDirection(\"A\") node2 = BiDirection(\"B\") node1.insert_after(node2) node1.next is node2 True node2.prev is node1 True</p> Source code in <code>ures/data_structure/bi_directional_links.py</code> <pre><code>def insert_after(self, node: BiDirection) -&gt; None:\n    \"\"\"\n    Insert a node immediately after the current node.\n\n    Adjusts pointers so that the new node is placed between the current node and its next node.\n\n    Args:\n        node (BiDirection): The node to be inserted after the current node.\n\n    Returns:\n        None\n\n    Example:\n        &gt;&gt;&gt; node1 = BiDirection(\"A\")\n        &gt;&gt;&gt; node2 = BiDirection(\"B\")\n        &gt;&gt;&gt; node1.insert_after(node2)\n        &gt;&gt;&gt; node1.next is node2\n        True\n        &gt;&gt;&gt; node2.prev is node1\n        True\n    \"\"\"\n    node._prev = self\n    node._next = self._next\n    self._next._prev = node\n    self._next = node\n</code></pre>"},{"location":"apis/data_structure/bi_directional_links/#ures.data_structure.bi_directional_links.BiDirection.insert_before","title":"<code>insert_before(node)</code>","text":"<p>Insert a node immediately before the current node.</p> <p>Adjusts pointers so that the new node is placed between the current node's previous node and the current node.</p> <p>Parameters:</p> Name Type Description Default <code>node</code> <code>BiDirection</code> <p>The node to be inserted before the current node.</p> required <p>Returns:</p> Type Description <code>None</code> <p>None</p> Example <p>node1 = BiDirection(\"A\") node2 = BiDirection(\"B\") node1.insert_before(node2) node1.prev is node2 True node2.next is node1 True</p> Source code in <code>ures/data_structure/bi_directional_links.py</code> <pre><code>def insert_before(self, node: BiDirection) -&gt; None:\n    \"\"\"\n    Insert a node immediately before the current node.\n\n    Adjusts pointers so that the new node is placed between the current node's previous node and the current node.\n\n    Args:\n        node (BiDirection): The node to be inserted before the current node.\n\n    Returns:\n        None\n\n    Example:\n        &gt;&gt;&gt; node1 = BiDirection(\"A\")\n        &gt;&gt;&gt; node2 = BiDirection(\"B\")\n        &gt;&gt;&gt; node1.insert_before(node2)\n        &gt;&gt;&gt; node1.prev is node2\n        True\n        &gt;&gt;&gt; node2.next is node1\n        True\n    \"\"\"\n    node._prev = self._prev\n    node._next = self\n    self._prev._next = node\n    self._prev = node\n</code></pre>"},{"location":"apis/data_structure/bi_directional_links/#ures.data_structure.bi_directional_links.BiDirection.remove","title":"<code>remove()</code>","text":"<p>Remove the current node from the linked structure.</p> <p>Adjusts the previous and next nodes to bypass the current node and resets the current node's pointers to point to itself.</p> <p>Returns:</p> Type Description <code>None</code> <p>None</p> Example <p>node1 = BiDirection(\"A\") node2 = BiDirection(\"B\") node1.insert_after(node2) node2.remove() node1.next is node1 True</p> Source code in <code>ures/data_structure/bi_directional_links.py</code> <pre><code>def remove(self) -&gt; None:\n    \"\"\"\n    Remove the current node from the linked structure.\n\n    Adjusts the previous and next nodes to bypass the current node and resets the current node's\n    pointers to point to itself.\n\n    Returns:\n        None\n\n    Example:\n        &gt;&gt;&gt; node1 = BiDirection(\"A\")\n        &gt;&gt;&gt; node2 = BiDirection(\"B\")\n        &gt;&gt;&gt; node1.insert_after(node2)\n        &gt;&gt;&gt; node2.remove()\n        &gt;&gt;&gt; node1.next is node1\n        True\n    \"\"\"\n    self._prev._next = self._next\n    self._next._prev = self._prev\n    self._prev = self\n    self._next = self\n</code></pre>"},{"location":"apis/data_structure/bi_directional_links/#ures.data_structure.bi_directional_links.BiDirection.search","title":"<code>search(value)</code>","text":"<p>Search for a node with the specified value in the linked structure.</p> <p>Starting from the current node, traverse through the chain until the value is found or the search returns to the starting node.</p> <p>Parameters:</p> Name Type Description Default <code>value</code> <code>Any</code> <p>The value to search for.</p> required <p>Returns:</p> Type Description <code>Optional[BiDirection]</code> <p>Optional[BiDirection]: The node with the matching value, or None if not found.</p> Example <p>node1 = BiDirection(\"A\") node2 = BiDirection(\"B\") node3 = BiDirection(\"C\") node1.insert_after(node2) node2.insert_after(node3) found = node1.search(\"C\") found.value 'C' not_found = node1.search(\"D\") not_found is None True</p> Source code in <code>ures/data_structure/bi_directional_links.py</code> <pre><code>def search(self, value: Any) -&gt; Optional[BiDirection]:\n    \"\"\"\n    Search for a node with the specified value in the linked structure.\n\n    Starting from the current node, traverse through the chain until the value is found or the search\n    returns to the starting node.\n\n    Args:\n        value (Any): The value to search for.\n\n    Returns:\n        Optional[BiDirection]: The node with the matching value, or None if not found.\n\n    Example:\n        &gt;&gt;&gt; node1 = BiDirection(\"A\")\n        &gt;&gt;&gt; node2 = BiDirection(\"B\")\n        &gt;&gt;&gt; node3 = BiDirection(\"C\")\n        &gt;&gt;&gt; node1.insert_after(node2)\n        &gt;&gt;&gt; node2.insert_after(node3)\n        &gt;&gt;&gt; found = node1.search(\"C\")\n        &gt;&gt;&gt; found.value\n        'C'\n        &gt;&gt;&gt; not_found = node1.search(\"D\")\n        &gt;&gt;&gt; not_found is None\n        True\n    \"\"\"\n    node = self\n    while node.value != value and node.next != self:\n        node = node.next\n    return node if node.value == value else None\n</code></pre>"},{"location":"apis/data_structure/tree/","title":"Data Structure - Tree","text":""},{"location":"apis/data_structure/tree/#ures.data_structure.tree.TreeNode","title":"<code>TreeNode</code>","text":"Source code in <code>ures/data_structure/tree.py</code> <pre><code>class TreeNode:\n    def __init__(self, value: Any):\n        \"\"\"\n        Initialize a TreeNode instance.\n\n        Args:\n            value (Any): The value to be stored in the node.\n\n        Returns:\n            None\n\n        Example:\n            &gt;&gt;&gt; node = TreeNode(\"root\")\n            &gt;&gt;&gt; node.value\n            'root'\n        \"\"\"\n        self._parent: Optional[TreeNode] = None\n        self._children: Dict[AnyStr, TreeNode] = {}\n        self._value: Any = value\n        self._id = uuid.uuid4().hex\n\n    @property\n    def parent(self) -&gt; Optional[TreeNode]:\n        \"\"\"\n        Get the parent node of this TreeNode.\n\n        Returns:\n            Optional[TreeNode]: The parent node if it exists; otherwise, None.\n\n        Example:\n            &gt;&gt;&gt; root = TreeNode(\"root\")\n            &gt;&gt;&gt; child = TreeNode(\"child\")\n            &gt;&gt;&gt; child.set_parent(root)\n            &gt;&gt;&gt; child.parent is root\n            True\n        \"\"\"\n        return self._parent\n\n    @property\n    def children(self) -&gt; Dict[AnyStr, TreeNode]:\n        \"\"\"\n        Get the dictionary of child nodes.\n\n        Returns:\n            Dict[AnyStr, TreeNode]: A dictionary mapping each child's unique ID to its TreeNode instance.\n\n        Example:\n            &gt;&gt;&gt; root = TreeNode(\"root\")\n            &gt;&gt;&gt; child = TreeNode(\"child\")\n            &gt;&gt;&gt; root.add_child(child)\n            &gt;&gt;&gt; list(root.children.values())[0].value\n            'child'\n        \"\"\"\n        return self._children\n\n    @property\n    def is_leaf(self) -&gt; bool:\n        \"\"\"\n        Determine if the node is a leaf (i.e., has no children).\n\n        Returns:\n            bool: True if the node has no children; otherwise, False.\n\n        Example:\n            &gt;&gt;&gt; node = TreeNode(\"leaf\")\n            &gt;&gt;&gt; node.is_leaf\n            True\n        \"\"\"\n        return len(self.children) == 0\n\n    @property\n    def value(self) -&gt; Any:\n        \"\"\"\n        Retrieve the value stored in the node.\n\n        Returns:\n            Any: The value of the node.\n\n        Example:\n            &gt;&gt;&gt; node = TreeNode(10)\n            &gt;&gt;&gt; node.value\n            10\n        \"\"\"\n        return self._value\n\n    @property\n    def id(self) -&gt; str:\n        \"\"\"\n        Get the unique identifier of the node.\n\n        Returns:\n            str: A unique hexadecimal string identifier for the node.\n\n        Example:\n            &gt;&gt;&gt; node = TreeNode(\"example\")\n            &gt;&gt;&gt; isinstance(node.id, str)\n            True\n        \"\"\"\n        return self._id\n\n    def add_child(self, child: TreeNode):\n        \"\"\"\n        Add a child node to the current node.\n\n        This method adds the given child to the node's children dictionary (using the child's ID as key)\n        and sets the current node as the parent of the child.\n\n        Args:\n            child (TreeNode): The child node to add.\n\n        Returns:\n            None\n\n        Example:\n            &gt;&gt;&gt; root = TreeNode(\"root\")\n            &gt;&gt;&gt; child = TreeNode(\"child\")\n            &gt;&gt;&gt; root.add_child(child)\n            &gt;&gt;&gt; child.parent is root\n            True\n        \"\"\"\n        if child.id not in self.children.keys():\n            self._children[child.id] = child\n            child.set_parent(self)\n\n    def remove_child(self, child: TreeNode):\n        \"\"\"\n        Remove a child node from the current node.\n\n        This method removes the specified child node from the current node's children and clears the\n        child's parent reference.\n\n        Args:\n            child (TreeNode): The child node to remove.\n\n        Returns:\n            None\n\n        Example:\n            &gt;&gt;&gt; root = TreeNode(\"root\")\n            &gt;&gt;&gt; child = TreeNode(\"child\")\n            &gt;&gt;&gt; root.add_child(child)\n            &gt;&gt;&gt; root.remove_child(child)\n            &gt;&gt;&gt; child.parent is None\n            True\n        \"\"\"\n        if child.id in self.children.keys():\n            self._children.pop(child.id)\n            child.set_parent(None)\n\n    def set_parent(self, parent: Optional[TreeNode]):\n        \"\"\"\n        Set the parent of the current node.\n\n        If the node already has a parent, it will be removed from that parent's children before setting\n        the new parent.\n\n        Args:\n            parent (Optional[TreeNode]): The new parent node. If None, the node will have no parent.\n\n        Returns:\n            None\n\n        Example:\n            &gt;&gt;&gt; root = TreeNode(\"root\")\n            &gt;&gt;&gt; child = TreeNode(\"child\")\n            &gt;&gt;&gt; child.set_parent(root)\n            &gt;&gt;&gt; child.parent is root\n            True\n        \"\"\"\n        if parent is not None:\n            if isinstance(self.parent, TreeNode):\n                self.parent.remove_child(self)\n        self._parent = parent\n\n    def backward_stack(self) -&gt; Iterator[TreeNode]:\n        \"\"\"\n        Generate an iterator for the path from the current node to the root.\n\n        The iterator yields nodes starting with the current node and then each successive parent until\n        no further parent exists.\n\n        Returns:\n            Iterator[TreeNode]: An iterator over the nodes from the current node up to the root.\n\n        Example:\n            &gt;&gt;&gt; root = TreeNode(\"root\")\n            &gt;&gt;&gt; child = TreeNode(\"child\")\n            &gt;&gt;&gt; child.set_parent(root)\n            &gt;&gt;&gt; [node.value for node in child.backward_stack()]\n            ['child', 'root']\n        \"\"\"\n        current = self\n        while current is not None:\n            yield current\n            current = current.parent\n\n    def forward_stack(self, **kwargs) -&gt; List[List[Any]]:\n        \"\"\"\n        Get all forward paths from the current node to each leaf node.\n\n        This method performs a depth-first search (DFS) to compute every possible path from the current node\n        to all leaf nodes. If an optional attribute key is provided via kwargs, the method returns that attribute\n        for each node in the path; otherwise, it returns the node itself.\n\n        Keyword Args:\n            attr (str, optional): The attribute name to extract from each node. Defaults to None.\n\n        Returns:\n            List[List[Any]]: A list of paths, where each path is a list of nodes or attribute values from the\n                             current node to a leaf node.\n\n        Example:\n            &gt;&gt;&gt; root = TreeNode(\"root\")\n            &gt;&gt;&gt; child1 = TreeNode(\"child1\")\n            &gt;&gt;&gt; child2 = TreeNode(\"child2\")\n            &gt;&gt;&gt; root.add_child(child1)\n            &gt;&gt;&gt; root.add_child(child2)\n            &gt;&gt;&gt; paths = root.forward_stack(attr=\"value\")\n            &gt;&gt;&gt; sorted(paths)\n            [['child1', 'root'], ['child2', 'root']]  # Order may vary\n        \"\"\"\n        all_paths = []\n        self._dfs(self, [], all_paths, **kwargs)\n        return all_paths\n\n    def _dfs(self, node: TreeNode, current_path: list, all_paths: list, **kwargs):\n        \"\"\"\n        Recursively perform depth-first search (DFS) to find all paths from the given node to leaf nodes.\n\n        This internal helper method accumulates paths by traversing each branch of the tree.\n        If a keyword argument 'attr' is provided, it appends the value of that attribute for each node.\n\n        Args:\n            node (TreeNode): The current node in the DFS traversal.\n            current_path (list): The path taken to reach the current node.\n            all_paths (list): A list to store all complete paths.\n            **kwargs: Optional keyword arguments.\n                - attr (str, optional): The attribute name to use for each node in the path.\n\n        Returns:\n            None\n\n        Example:\n            &gt;&gt;&gt; # Typically used internally by forward_stack.\n            ... pass\n        \"\"\"\n        assert isinstance(node, TreeNode)\n        _attr = kwargs.get(\"attr\", None)\n        _key = node if _attr is None else getattr(node, _attr)\n        current_path.append(_key)\n\n        if not node.children:\n            all_paths.append(list(current_path))\n        else:\n            for child in node.children.values():\n                self._dfs(child, current_path, all_paths, **kwargs)\n        current_path.pop()\n</code></pre>"},{"location":"apis/data_structure/tree/#ures.data_structure.tree.TreeNode.children","title":"<code>children</code>  <code>property</code>","text":"<p>Get the dictionary of child nodes.</p> <p>Returns:</p> Type Description <code>Dict[AnyStr, TreeNode]</code> <p>Dict[AnyStr, TreeNode]: A dictionary mapping each child's unique ID to its TreeNode instance.</p> Example <p>root = TreeNode(\"root\") child = TreeNode(\"child\") root.add_child(child) list(root.children.values())[0].value 'child'</p>"},{"location":"apis/data_structure/tree/#ures.data_structure.tree.TreeNode.id","title":"<code>id</code>  <code>property</code>","text":"<p>Get the unique identifier of the node.</p> <p>Returns:</p> Name Type Description <code>str</code> <code>str</code> <p>A unique hexadecimal string identifier for the node.</p> Example <p>node = TreeNode(\"example\") isinstance(node.id, str) True</p>"},{"location":"apis/data_structure/tree/#ures.data_structure.tree.TreeNode.is_leaf","title":"<code>is_leaf</code>  <code>property</code>","text":"<p>Determine if the node is a leaf (i.e., has no children).</p> <p>Returns:</p> Name Type Description <code>bool</code> <code>bool</code> <p>True if the node has no children; otherwise, False.</p> Example <p>node = TreeNode(\"leaf\") node.is_leaf True</p>"},{"location":"apis/data_structure/tree/#ures.data_structure.tree.TreeNode.parent","title":"<code>parent</code>  <code>property</code>","text":"<p>Get the parent node of this TreeNode.</p> <p>Returns:</p> Type Description <code>Optional[TreeNode]</code> <p>Optional[TreeNode]: The parent node if it exists; otherwise, None.</p> Example <p>root = TreeNode(\"root\") child = TreeNode(\"child\") child.set_parent(root) child.parent is root True</p>"},{"location":"apis/data_structure/tree/#ures.data_structure.tree.TreeNode.value","title":"<code>value</code>  <code>property</code>","text":"<p>Retrieve the value stored in the node.</p> <p>Returns:</p> Name Type Description <code>Any</code> <code>Any</code> <p>The value of the node.</p> Example <p>node = TreeNode(10) node.value 10</p>"},{"location":"apis/data_structure/tree/#ures.data_structure.tree.TreeNode.__init__","title":"<code>__init__(value)</code>","text":"<p>Initialize a TreeNode instance.</p> <p>Parameters:</p> Name Type Description Default <code>value</code> <code>Any</code> <p>The value to be stored in the node.</p> required <p>Returns:</p> Type Description <p>None</p> Example <p>node = TreeNode(\"root\") node.value 'root'</p> Source code in <code>ures/data_structure/tree.py</code> <pre><code>def __init__(self, value: Any):\n    \"\"\"\n    Initialize a TreeNode instance.\n\n    Args:\n        value (Any): The value to be stored in the node.\n\n    Returns:\n        None\n\n    Example:\n        &gt;&gt;&gt; node = TreeNode(\"root\")\n        &gt;&gt;&gt; node.value\n        'root'\n    \"\"\"\n    self._parent: Optional[TreeNode] = None\n    self._children: Dict[AnyStr, TreeNode] = {}\n    self._value: Any = value\n    self._id = uuid.uuid4().hex\n</code></pre>"},{"location":"apis/data_structure/tree/#ures.data_structure.tree.TreeNode._dfs","title":"<code>_dfs(node, current_path, all_paths, **kwargs)</code>","text":"<p>Recursively perform depth-first search (DFS) to find all paths from the given node to leaf nodes.</p> <p>This internal helper method accumulates paths by traversing each branch of the tree. If a keyword argument 'attr' is provided, it appends the value of that attribute for each node.</p> <p>Parameters:</p> Name Type Description Default <code>node</code> <code>TreeNode</code> <p>The current node in the DFS traversal.</p> required <code>current_path</code> <code>list</code> <p>The path taken to reach the current node.</p> required <code>all_paths</code> <code>list</code> <p>A list to store all complete paths.</p> required <code>**kwargs</code> <p>Optional keyword arguments. - attr (str, optional): The attribute name to use for each node in the path.</p> <code>{}</code> <p>Returns:</p> Type Description <p>None</p> Example Source code in <code>ures/data_structure/tree.py</code> <pre><code>def _dfs(self, node: TreeNode, current_path: list, all_paths: list, **kwargs):\n    \"\"\"\n    Recursively perform depth-first search (DFS) to find all paths from the given node to leaf nodes.\n\n    This internal helper method accumulates paths by traversing each branch of the tree.\n    If a keyword argument 'attr' is provided, it appends the value of that attribute for each node.\n\n    Args:\n        node (TreeNode): The current node in the DFS traversal.\n        current_path (list): The path taken to reach the current node.\n        all_paths (list): A list to store all complete paths.\n        **kwargs: Optional keyword arguments.\n            - attr (str, optional): The attribute name to use for each node in the path.\n\n    Returns:\n        None\n\n    Example:\n        &gt;&gt;&gt; # Typically used internally by forward_stack.\n        ... pass\n    \"\"\"\n    assert isinstance(node, TreeNode)\n    _attr = kwargs.get(\"attr\", None)\n    _key = node if _attr is None else getattr(node, _attr)\n    current_path.append(_key)\n\n    if not node.children:\n        all_paths.append(list(current_path))\n    else:\n        for child in node.children.values():\n            self._dfs(child, current_path, all_paths, **kwargs)\n    current_path.pop()\n</code></pre>"},{"location":"apis/data_structure/tree/#ures.data_structure.tree.TreeNode._dfs--typically-used-internally-by-forward_stack","title":"Typically used internally by forward_stack.","text":"<p>... pass</p>"},{"location":"apis/data_structure/tree/#ures.data_structure.tree.TreeNode.add_child","title":"<code>add_child(child)</code>","text":"<p>Add a child node to the current node.</p> <p>This method adds the given child to the node's children dictionary (using the child's ID as key) and sets the current node as the parent of the child.</p> <p>Parameters:</p> Name Type Description Default <code>child</code> <code>TreeNode</code> <p>The child node to add.</p> required <p>Returns:</p> Type Description <p>None</p> Example <p>root = TreeNode(\"root\") child = TreeNode(\"child\") root.add_child(child) child.parent is root True</p> Source code in <code>ures/data_structure/tree.py</code> <pre><code>def add_child(self, child: TreeNode):\n    \"\"\"\n    Add a child node to the current node.\n\n    This method adds the given child to the node's children dictionary (using the child's ID as key)\n    and sets the current node as the parent of the child.\n\n    Args:\n        child (TreeNode): The child node to add.\n\n    Returns:\n        None\n\n    Example:\n        &gt;&gt;&gt; root = TreeNode(\"root\")\n        &gt;&gt;&gt; child = TreeNode(\"child\")\n        &gt;&gt;&gt; root.add_child(child)\n        &gt;&gt;&gt; child.parent is root\n        True\n    \"\"\"\n    if child.id not in self.children.keys():\n        self._children[child.id] = child\n        child.set_parent(self)\n</code></pre>"},{"location":"apis/data_structure/tree/#ures.data_structure.tree.TreeNode.backward_stack","title":"<code>backward_stack()</code>","text":"<p>Generate an iterator for the path from the current node to the root.</p> <p>The iterator yields nodes starting with the current node and then each successive parent until no further parent exists.</p> <p>Returns:</p> Type Description <code>Iterator[TreeNode]</code> <p>Iterator[TreeNode]: An iterator over the nodes from the current node up to the root.</p> Example <p>root = TreeNode(\"root\") child = TreeNode(\"child\") child.set_parent(root) node.value for node in child.backward_stack()</p> Source code in <code>ures/data_structure/tree.py</code> <pre><code>def backward_stack(self) -&gt; Iterator[TreeNode]:\n    \"\"\"\n    Generate an iterator for the path from the current node to the root.\n\n    The iterator yields nodes starting with the current node and then each successive parent until\n    no further parent exists.\n\n    Returns:\n        Iterator[TreeNode]: An iterator over the nodes from the current node up to the root.\n\n    Example:\n        &gt;&gt;&gt; root = TreeNode(\"root\")\n        &gt;&gt;&gt; child = TreeNode(\"child\")\n        &gt;&gt;&gt; child.set_parent(root)\n        &gt;&gt;&gt; [node.value for node in child.backward_stack()]\n        ['child', 'root']\n    \"\"\"\n    current = self\n    while current is not None:\n        yield current\n        current = current.parent\n</code></pre>"},{"location":"apis/data_structure/tree/#ures.data_structure.tree.TreeNode.forward_stack","title":"<code>forward_stack(**kwargs)</code>","text":"<p>Get all forward paths from the current node to each leaf node.</p> <p>This method performs a depth-first search (DFS) to compute every possible path from the current node to all leaf nodes. If an optional attribute key is provided via kwargs, the method returns that attribute for each node in the path; otherwise, it returns the node itself.</p> <p>Other Parameters:</p> Name Type Description <code>attr</code> <code>str</code> <p>The attribute name to extract from each node. Defaults to None.</p> <p>Returns:</p> Type Description <code>List[List[Any]]</code> <p>List[List[Any]]: A list of paths, where each path is a list of nodes or attribute values from the              current node to a leaf node.</p> Example <p>root = TreeNode(\"root\") child1 = TreeNode(\"child1\") child2 = TreeNode(\"child2\") root.add_child(child1) root.add_child(child2) paths = root.forward_stack(attr=\"value\") sorted(paths) [['child1', 'root'], ['child2', 'root']]  # Order may vary</p> Source code in <code>ures/data_structure/tree.py</code> <pre><code>def forward_stack(self, **kwargs) -&gt; List[List[Any]]:\n    \"\"\"\n    Get all forward paths from the current node to each leaf node.\n\n    This method performs a depth-first search (DFS) to compute every possible path from the current node\n    to all leaf nodes. If an optional attribute key is provided via kwargs, the method returns that attribute\n    for each node in the path; otherwise, it returns the node itself.\n\n    Keyword Args:\n        attr (str, optional): The attribute name to extract from each node. Defaults to None.\n\n    Returns:\n        List[List[Any]]: A list of paths, where each path is a list of nodes or attribute values from the\n                         current node to a leaf node.\n\n    Example:\n        &gt;&gt;&gt; root = TreeNode(\"root\")\n        &gt;&gt;&gt; child1 = TreeNode(\"child1\")\n        &gt;&gt;&gt; child2 = TreeNode(\"child2\")\n        &gt;&gt;&gt; root.add_child(child1)\n        &gt;&gt;&gt; root.add_child(child2)\n        &gt;&gt;&gt; paths = root.forward_stack(attr=\"value\")\n        &gt;&gt;&gt; sorted(paths)\n        [['child1', 'root'], ['child2', 'root']]  # Order may vary\n    \"\"\"\n    all_paths = []\n    self._dfs(self, [], all_paths, **kwargs)\n    return all_paths\n</code></pre>"},{"location":"apis/data_structure/tree/#ures.data_structure.tree.TreeNode.remove_child","title":"<code>remove_child(child)</code>","text":"<p>Remove a child node from the current node.</p> <p>This method removes the specified child node from the current node's children and clears the child's parent reference.</p> <p>Parameters:</p> Name Type Description Default <code>child</code> <code>TreeNode</code> <p>The child node to remove.</p> required <p>Returns:</p> Type Description <p>None</p> Example <p>root = TreeNode(\"root\") child = TreeNode(\"child\") root.add_child(child) root.remove_child(child) child.parent is None True</p> Source code in <code>ures/data_structure/tree.py</code> <pre><code>def remove_child(self, child: TreeNode):\n    \"\"\"\n    Remove a child node from the current node.\n\n    This method removes the specified child node from the current node's children and clears the\n    child's parent reference.\n\n    Args:\n        child (TreeNode): The child node to remove.\n\n    Returns:\n        None\n\n    Example:\n        &gt;&gt;&gt; root = TreeNode(\"root\")\n        &gt;&gt;&gt; child = TreeNode(\"child\")\n        &gt;&gt;&gt; root.add_child(child)\n        &gt;&gt;&gt; root.remove_child(child)\n        &gt;&gt;&gt; child.parent is None\n        True\n    \"\"\"\n    if child.id in self.children.keys():\n        self._children.pop(child.id)\n        child.set_parent(None)\n</code></pre>"},{"location":"apis/data_structure/tree/#ures.data_structure.tree.TreeNode.set_parent","title":"<code>set_parent(parent)</code>","text":"<p>Set the parent of the current node.</p> <p>If the node already has a parent, it will be removed from that parent's children before setting the new parent.</p> <p>Parameters:</p> Name Type Description Default <code>parent</code> <code>Optional[TreeNode]</code> <p>The new parent node. If None, the node will have no parent.</p> required <p>Returns:</p> Type Description <p>None</p> Example <p>root = TreeNode(\"root\") child = TreeNode(\"child\") child.set_parent(root) child.parent is root True</p> Source code in <code>ures/data_structure/tree.py</code> <pre><code>def set_parent(self, parent: Optional[TreeNode]):\n    \"\"\"\n    Set the parent of the current node.\n\n    If the node already has a parent, it will be removed from that parent's children before setting\n    the new parent.\n\n    Args:\n        parent (Optional[TreeNode]): The new parent node. If None, the node will have no parent.\n\n    Returns:\n        None\n\n    Example:\n        &gt;&gt;&gt; root = TreeNode(\"root\")\n        &gt;&gt;&gt; child = TreeNode(\"child\")\n        &gt;&gt;&gt; child.set_parent(root)\n        &gt;&gt;&gt; child.parent is root\n        True\n    \"\"\"\n    if parent is not None:\n        if isinstance(self.parent, TreeNode):\n            self.parent.remove_child(self)\n    self._parent = parent\n</code></pre>"}]}